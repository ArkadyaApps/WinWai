{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * @format\n   * \n   */\n\n  'use strict';\n\n  // Globally Unique Immediate ID.\n  let GUIID = 1;\n\n  // A global set of the currently cleared immediates.\n  const clearedImmediates = new Set();\n\n  /**\n   * Shim the setImmediate API on top of queueMicrotask.\n   * @param {function} func Callback to be invoked before the end of the\n   * current JavaScript execution loop.\n   */\n  function setImmediate(callback, ...args) {\n    if (arguments.length < 1) {\n      throw new TypeError('setImmediate must be called with at least one argument (a function to call)');\n    }\n    if (typeof callback !== 'function') {\n      throw new TypeError('The first argument to setImmediate must be a function.');\n    }\n    const id = GUIID++;\n    // This is an edgey case in which the sequentially assigned ID has been\n    // \"guessed\" and \"cleared\" ahead of time, so we need to clear it up first.\n    if (clearedImmediates.has(id)) {\n      clearedImmediates.delete(id);\n    }\n\n    // $FlowFixMe[incompatible-call]\n    global.queueMicrotask(() => {\n      if (!clearedImmediates.has(id)) {\n        callback.apply(undefined, args);\n      } else {\n        // Free up the Set entry.\n        clearedImmediates.delete(id);\n      }\n    });\n    return id;\n  }\n\n  /**\n   * @param {number} immediateID The ID of the immediate to be clearred.\n   */\n  function clearImmediate(immediateID) {\n    clearedImmediates.add(immediateID);\n  }\n  const immediateShim = {\n    setImmediate: setImmediate,\n    clearImmediate: clearImmediate\n  };\n  module.exports = immediateShim;\n});","lineCount":62,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,13,0],[15,2,14,0],[15,6,14,4,"GUIID"],[15,11,14,9],[15,14,14,12],[15,15,14,13],[17,2,16,0],[18,2,17,0],[18,8,17,6,"clearedImmediates"],[18,25,17,36],[18,28,17,39],[18,32,17,43,"Set"],[18,35,17,46],[18,36,17,47],[18,37,17,48],[20,2,19,0],[21,0,20,0],[22,0,21,0],[23,0,22,0],[24,0,23,0],[25,2,24,0],[25,11,24,9,"setImmediate"],[25,23,24,21,"setImmediate"],[25,24,24,22,"callback"],[25,32,24,40],[25,34,24,42],[25,37,24,45,"args"],[25,41,24,54],[25,43,24,64],[26,4,25,2],[26,8,25,6,"arguments"],[26,17,25,15],[26,18,25,16,"length"],[26,24,25,22],[26,27,25,25],[26,28,25,26],[26,30,25,28],[27,6,26,4],[27,12,26,10],[27,16,26,14,"TypeError"],[27,25,26,23],[27,26,27,6],[27,103,28,4],[27,104,28,5],[28,4,29,2],[29,4,30,2],[29,8,30,6],[29,15,30,13,"callback"],[29,23,30,21],[29,28,30,26],[29,38,30,36],[29,40,30,38],[30,6,31,4],[30,12,31,10],[30,16,31,14,"TypeError"],[30,25,31,23],[30,26,32,6],[30,82,33,4],[30,83,33,5],[31,4,34,2],[32,4,36,2],[32,10,36,8,"id"],[32,12,36,10],[32,15,36,13,"GUIID"],[32,20,36,18],[32,22,36,20],[33,4,37,2],[34,4,38,2],[35,4,39,2],[35,8,39,6,"clearedImmediates"],[35,25,39,23],[35,26,39,24,"has"],[35,29,39,27],[35,30,39,28,"id"],[35,32,39,30],[35,33,39,31],[35,35,39,33],[36,6,40,4,"clearedImmediates"],[36,23,40,21],[36,24,40,22,"delete"],[36,30,40,28],[36,31,40,29,"id"],[36,33,40,31],[36,34,40,32],[37,4,41,2],[39,4,43,2],[40,4,44,2,"global"],[40,10,44,8],[40,11,44,9,"queueMicrotask"],[40,25,44,23],[40,26,44,24],[40,32,44,30],[41,6,45,4],[41,10,45,8],[41,11,45,9,"clearedImmediates"],[41,28,45,26],[41,29,45,27,"has"],[41,32,45,30],[41,33,45,31,"id"],[41,35,45,33],[41,36,45,34],[41,38,45,36],[42,8,46,6,"callback"],[42,16,46,14],[42,17,46,15,"apply"],[42,22,46,20],[42,23,46,21,"undefined"],[42,32,46,30],[42,34,46,32,"args"],[42,38,46,36],[42,39,46,37],[43,6,47,4],[43,7,47,5],[43,13,47,11],[44,8,48,6],[45,8,49,6,"clearedImmediates"],[45,25,49,23],[45,26,49,24,"delete"],[45,32,49,30],[45,33,49,31,"id"],[45,35,49,33],[45,36,49,34],[46,6,50,4],[47,4,51,2],[47,5,51,3],[47,6,51,4],[48,4,53,2],[48,11,53,9,"id"],[48,13,53,11],[49,2,54,0],[51,2,56,0],[52,0,57,0],[53,0,58,0],[54,2,59,0],[54,11,59,9,"clearImmediate"],[54,25,59,23,"clearImmediate"],[54,26,59,24,"immediateID"],[54,37,59,43],[54,39,59,45],[55,4,60,2,"clearedImmediates"],[55,21,60,19],[55,22,60,20,"add"],[55,25,60,23],[55,26,60,24,"immediateID"],[55,37,60,35],[55,38,60,36],[56,2,61,0],[57,2,63,0],[57,8,63,6,"immediateShim"],[57,21,63,19],[57,24,63,22],[58,4,64,2,"setImmediate"],[58,16,64,14],[58,18,64,16,"setImmediate"],[58,30,64,28],[59,4,65,2,"clearImmediate"],[59,18,65,16],[59,20,65,18,"clearImmediate"],[60,2,66,0],[60,3,66,1],[61,2,68,0,"module"],[61,8,68,6],[61,9,68,7,"exports"],[61,16,68,14],[61,19,68,17,"immediateShim"],[61,32,68,30],[62,0,68,31]],"functionMap":{"names":["<global>","setImmediate","global.queueMicrotask$argument_0","clearImmediate"],"mappings":"AAA;ACuB;wBCoB;GDO;CDG;AGK;CHE"}},"type":"js/module"}]}