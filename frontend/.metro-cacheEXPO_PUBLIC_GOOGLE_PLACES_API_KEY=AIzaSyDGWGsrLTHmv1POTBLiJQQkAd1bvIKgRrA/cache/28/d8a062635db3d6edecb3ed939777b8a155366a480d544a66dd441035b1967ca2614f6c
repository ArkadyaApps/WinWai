{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":42,"column":44,"index":1618}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":42,"index":57}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"../frameCallback/FrameCallbackRegistryJS","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":58},"end":{"line":4,"column":79,"index":137}}],"key":"YRFm3RnH1fBEmddaFunHUoVuuc4="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useFrameCallback = useFrameCallback;\n  var _react = require(_dependencyMap[1], \"react\");\n  var _FrameCallbackRegistryJS = _interopRequireDefault(require(_dependencyMap[2], \"../frameCallback/FrameCallbackRegistryJS\"));\n  /**\n   * @param setActive - A function that lets you start the frame callback or stop it from running.\n   * @param isActive - A boolean indicating whether a callback is running.\n   * @param callbackId - A number indicating a unique identifier of the frame callback.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/advanced/useFrameCallback#returns\n   */\n\n  const frameCallbackRegistry = new _FrameCallbackRegistryJS.default();\n\n  /**\n   * Lets you run a function on every frame update.\n   *\n   * @param callback - A function executed on every frame update.\n   * @param autostart - Whether the callback should start automatically. Defaults to `true`.\n   * @returns A frame callback object - {@link FrameCallback}.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/advanced/useFrameCallback\n   */\n  function useFrameCallback(callback) {\n    let autostart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    const ref = (0, _react.useRef)({\n      setActive: isActive => {\n        frameCallbackRegistry.manageStateFrameCallback(ref.current.callbackId, isActive);\n        ref.current.isActive = isActive;\n      },\n      isActive: autostart,\n      callbackId: -1\n    });\n    (0, _react.useEffect)(() => {\n      ref.current.callbackId = frameCallbackRegistry.registerFrameCallback(callback);\n      ref.current.setActive(ref.current.isActive);\n      return () => {\n        frameCallbackRegistry.unregisterFrameCallback(ref.current.callbackId);\n        ref.current.callbackId = -1;\n      };\n    }, [callback, autostart]);\n    return ref.current;\n  }\n});","lineCount":48,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"useFrameCallback"],[8,26,1,13],[8,29,1,13,"useFrameCallback"],[8,45,1,13],[9,2,3,0],[9,6,3,0,"_react"],[9,12,3,0],[9,15,3,0,"require"],[9,22,3,0],[9,23,3,0,"_dependencyMap"],[9,37,3,0],[10,2,4,0],[10,6,4,0,"_FrameCallbackRegistryJS"],[10,30,4,0],[10,33,4,0,"_interopRequireDefault"],[10,55,4,0],[10,56,4,0,"require"],[10,63,4,0],[10,64,4,0,"_dependencyMap"],[10,78,4,0],[11,2,6,0],[12,0,7,0],[13,0,8,0],[14,0,9,0],[15,0,10,0],[16,0,11,0],[18,2,13,0],[18,8,13,6,"frameCallbackRegistry"],[18,29,13,27],[18,32,13,30],[18,36,13,34,"FrameCallbackRegistryJS"],[18,68,13,57],[18,69,13,58],[18,70,13,59],[20,2,15,0],[21,0,16,0],[22,0,17,0],[23,0,18,0],[24,0,19,0],[25,0,20,0],[26,0,21,0],[27,0,22,0],[28,2,23,7],[28,11,23,16,"useFrameCallback"],[28,27,23,32,"useFrameCallback"],[28,28,23,33,"callback"],[28,36,23,41],[28,38,23,61],[29,4,23,61],[29,8,23,43,"autostart"],[29,17,23,52],[29,20,23,52,"arguments"],[29,29,23,52],[29,30,23,52,"length"],[29,36,23,52],[29,44,23,52,"arguments"],[29,53,23,52],[29,61,23,52,"undefined"],[29,70,23,52],[29,73,23,52,"arguments"],[29,82,23,52],[29,88,23,55],[29,92,23,59],[30,4,24,2],[30,10,24,8,"ref"],[30,13,24,11],[30,16,24,14],[30,20,24,14,"useRef"],[30,33,24,20],[30,35,24,21],[31,6,25,4,"setActive"],[31,15,25,13],[31,17,25,15,"isActive"],[31,25,25,23],[31,29,25,27],[32,8,26,6,"frameCallbackRegistry"],[32,29,26,27],[32,30,26,28,"manageStateFrameCallback"],[32,54,26,52],[32,55,26,53,"ref"],[32,58,26,56],[32,59,26,57,"current"],[32,66,26,64],[32,67,26,65,"callbackId"],[32,77,26,75],[32,79,26,77,"isActive"],[32,87,26,85],[32,88,26,86],[33,8,27,6,"ref"],[33,11,27,9],[33,12,27,10,"current"],[33,19,27,17],[33,20,27,18,"isActive"],[33,28,27,26],[33,31,27,29,"isActive"],[33,39,27,37],[34,6,28,4],[34,7,28,5],[35,6,29,4,"isActive"],[35,14,29,12],[35,16,29,14,"autostart"],[35,25,29,23],[36,6,30,4,"callbackId"],[36,16,30,14],[36,18,30,16],[36,19,30,17],[37,4,31,2],[37,5,31,3],[37,6,31,4],[38,4,32,2],[38,8,32,2,"useEffect"],[38,24,32,11],[38,26,32,12],[38,32,32,18],[39,6,33,4,"ref"],[39,9,33,7],[39,10,33,8,"current"],[39,17,33,15],[39,18,33,16,"callbackId"],[39,28,33,26],[39,31,33,29,"frameCallbackRegistry"],[39,52,33,50],[39,53,33,51,"registerFrameCallback"],[39,74,33,72],[39,75,33,73,"callback"],[39,83,33,81],[39,84,33,82],[40,6,34,4,"ref"],[40,9,34,7],[40,10,34,8,"current"],[40,17,34,15],[40,18,34,16,"setActive"],[40,27,34,25],[40,28,34,26,"ref"],[40,31,34,29],[40,32,34,30,"current"],[40,39,34,37],[40,40,34,38,"isActive"],[40,48,34,46],[40,49,34,47],[41,6,35,4],[41,13,35,11],[41,19,35,17],[42,8,36,6,"frameCallbackRegistry"],[42,29,36,27],[42,30,36,28,"unregisterFrameCallback"],[42,53,36,51],[42,54,36,52,"ref"],[42,57,36,55],[42,58,36,56,"current"],[42,65,36,63],[42,66,36,64,"callbackId"],[42,76,36,74],[42,77,36,75],[43,8,37,6,"ref"],[43,11,37,9],[43,12,37,10,"current"],[43,19,37,17],[43,20,37,18,"callbackId"],[43,30,37,28],[43,33,37,31],[43,34,37,32],[43,35,37,33],[44,6,38,4],[44,7,38,5],[45,4,39,2],[45,5,39,3],[45,7,39,5],[45,8,39,6,"callback"],[45,16,39,14],[45,18,39,16,"autostart"],[45,27,39,25],[45,28,39,26],[45,29,39,27],[46,4,40,2],[46,11,40,9,"ref"],[46,14,40,12],[46,15,40,13,"current"],[46,22,40,20],[47,2,41,0],[48,0,41,1]],"functionMap":{"names":["<global>","useFrameCallback","useRef$argument_0.setActive","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCsB;eCE;KDG;YEI;WCG;KDG;GFC;CDE"}},"type":"js/module"}]}