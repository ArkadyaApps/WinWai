{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-location","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":42,"index":69}}],"key":"GNP7AGCKsBRUhlnTZ4lIPpbkT9E=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"getUserLocation\", {\n    enumerable: true,\n    get: function () {\n      return getUserLocation;\n    }\n  });\n  Object.defineProperty(exports, \"calculateDistance\", {\n    enumerable: true,\n    get: function () {\n      return calculateDistance;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoLocation = require(_dependencyMap[1], \"expo-location\");\n  var Location = _interopNamespace(_expoLocation);\n  // Try GPS location first, fall back to IP geolocation\n  const getUserLocation = async () => {\n    try {\n      // First, try to get GPS location\n      const {\n        status\n      } = await Location.requestForegroundPermissionsAsync();\n      if (status === 'granted') {\n        try {\n          const location = await Location.getCurrentPositionAsync({\n            accuracy: Location.Accuracy.Balanced\n          });\n\n          // Reverse geocode to get city/country\n          const reverseGeocode = await Location.reverseGeocodeAsync({\n            latitude: location.coords.latitude,\n            longitude: location.coords.longitude\n          });\n          if (reverseGeocode && reverseGeocode.length > 0) {\n            const place = reverseGeocode[0];\n            return {\n              city: place.city || place.subregion || 'Bangkok',\n              regionName: place.region || 'Bangkok',\n              country: place.country || 'Thailand',\n              countryCode: place.isoCountryCode || 'TH',\n              lat: location.coords.latitude,\n              lon: location.coords.longitude\n            };\n          }\n        } catch (gpsError) {\n          console.log('GPS location failed, falling back to IP:', gpsError);\n        }\n      }\n\n      // Fallback to IP geolocation\n      const response = await axios.default.get('https://ipapi.co/json/');\n      if (response.data) {\n        return {\n          city: response.data.city || 'Bangkok',\n          regionName: response.data.region || 'Bangkok',\n          country: response.data.country_name || 'Thailand',\n          countryCode: response.data.country_code || 'TH',\n          lat: response.data.latitude || 13.7563,\n          lon: response.data.longitude || 100.5018\n        };\n      }\n\n      // Final fallback to Bangkok\n      return {\n        city: 'Bangkok',\n        regionName: 'Bangkok',\n        country: 'Thailand',\n        countryCode: 'TH',\n        lat: 13.7563,\n        lon: 100.5018\n      };\n    } catch (error) {\n      console.error('Failed to get user location:', error);\n      // Return Bangkok as fallback\n      return {\n        city: 'Bangkok',\n        regionName: 'Bangkok',\n        country: 'Thailand',\n        countryCode: 'TH',\n        lat: 13.7563,\n        lon: 100.5018\n      };\n    }\n  };\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371; // Radius of the Earth in km\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c;\n    return distance;\n  };\n});","lineCount":121,"map":[[27,2,14,0,"Object"],[27,8,14,0],[27,9,14,0,"defineProperty"],[27,23,14,0],[27,24,14,0,"exports"],[27,31,14,0],[28,4,14,0,"enumerable"],[28,14,14,0],[29,4,14,0,"get"],[29,7,14,0],[29,18,14,0,"get"],[29,19,14,0],[30,6,14,0],[30,13,14,0,"getUserLocation"],[30,28,14,0],[31,4,14,0],[32,2,14,0],[33,2,83,0,"Object"],[33,8,83,0],[33,9,83,0,"defineProperty"],[33,23,83,0],[33,24,83,0,"exports"],[33,31,83,0],[34,4,83,0,"enumerable"],[34,14,83,0],[35,4,83,0,"get"],[35,7,83,0],[35,18,83,0,"get"],[35,19,83,0],[36,6,83,0],[36,13,83,0,"calculateDistance"],[36,30,83,0],[37,4,83,0],[38,2,83,0],[39,2,1,0],[39,6,1,0,"_axios"],[39,12,1,0],[39,15,1,0,"require"],[39,22,1,0],[39,23,1,0,"_dependencyMap"],[39,37,1,0],[40,2,1,0],[40,6,1,0,"axios"],[40,11,1,0],[40,14,1,0,"_interopDefault"],[40,29,1,0],[40,30,1,0,"_axios"],[40,36,1,0],[41,2,2,0],[41,6,2,0,"_expoLocation"],[41,19,2,0],[41,22,2,0,"require"],[41,29,2,0],[41,30,2,0,"_dependencyMap"],[41,44,2,0],[42,2,2,0],[42,6,2,0,"Location"],[42,14,2,0],[42,17,2,0,"_interopNamespace"],[42,34,2,0],[42,35,2,0,"_expoLocation"],[42,48,2,0],[43,2,13,0],[44,2,14,7],[44,8,14,13,"getUserLocation"],[44,23,14,28],[44,26,14,31],[44,32,14,31,"getUserLocation"],[44,33,14,31],[44,38,14,73],[45,4,15,2],[45,8,15,6],[46,6,16,4],[47,6,17,4],[47,12,17,10],[48,8,17,12,"status"],[49,6,17,19],[49,7,17,20],[49,10,17,23],[49,16,17,29,"Location"],[49,24,17,37],[49,25,17,38,"requestForegroundPermissionsAsync"],[49,58,17,71],[49,59,17,72],[49,60,17,73],[50,6,19,4],[50,10,19,8,"status"],[50,16,19,14],[50,21,19,19],[50,30,19,28],[50,32,19,30],[51,8,20,6],[51,12,20,10],[52,10,21,8],[52,16,21,14,"location"],[52,24,21,22],[52,27,21,25],[52,33,21,31,"Location"],[52,41,21,39],[52,42,21,40,"getCurrentPositionAsync"],[52,65,21,63],[52,66,21,64],[53,12,22,10,"accuracy"],[53,20,22,18],[53,22,22,20,"Location"],[53,30,22,28],[53,31,22,29,"Accuracy"],[53,39,22,37],[53,40,22,38,"Balanced"],[54,10,23,8],[54,11,23,9],[54,12,23,10],[56,10,25,8],[57,10,26,8],[57,16,26,14,"reverseGeocode"],[57,30,26,28],[57,33,26,31],[57,39,26,37,"Location"],[57,47,26,45],[57,48,26,46,"reverseGeocodeAsync"],[57,67,26,65],[57,68,26,66],[58,12,27,10,"latitude"],[58,20,27,18],[58,22,27,20,"location"],[58,30,27,28],[58,31,27,29,"coords"],[58,37,27,35],[58,38,27,36,"latitude"],[58,46,27,44],[59,12,28,10,"longitude"],[59,21,28,19],[59,23,28,21,"location"],[59,31,28,29],[59,32,28,30,"coords"],[59,38,28,36],[59,39,28,37,"longitude"],[60,10,29,8],[60,11,29,9],[60,12,29,10],[61,10,31,8],[61,14,31,12,"reverseGeocode"],[61,28,31,26],[61,32,31,30,"reverseGeocode"],[61,46,31,44],[61,47,31,45,"length"],[61,53,31,51],[61,56,31,54],[61,57,31,55],[61,59,31,57],[62,12,32,10],[62,18,32,16,"place"],[62,23,32,21],[62,26,32,24,"reverseGeocode"],[62,40,32,38],[62,41,32,39],[62,42,32,40],[62,43,32,41],[63,12,33,10],[63,19,33,17],[64,14,34,12,"city"],[64,18,34,16],[64,20,34,18,"place"],[64,25,34,23],[64,26,34,24,"city"],[64,30,34,28],[64,34,34,32,"place"],[64,39,34,37],[64,40,34,38,"subregion"],[64,49,34,47],[64,53,34,51],[64,62,34,60],[65,14,35,12,"regionName"],[65,24,35,22],[65,26,35,24,"place"],[65,31,35,29],[65,32,35,30,"region"],[65,38,35,36],[65,42,35,40],[65,51,35,49],[66,14,36,12,"country"],[66,21,36,19],[66,23,36,21,"place"],[66,28,36,26],[66,29,36,27,"country"],[66,36,36,34],[66,40,36,38],[66,50,36,48],[67,14,37,12,"countryCode"],[67,25,37,23],[67,27,37,25,"place"],[67,32,37,30],[67,33,37,31,"isoCountryCode"],[67,47,37,45],[67,51,37,49],[67,55,37,53],[68,14,38,12,"lat"],[68,17,38,15],[68,19,38,17,"location"],[68,27,38,25],[68,28,38,26,"coords"],[68,34,38,32],[68,35,38,33,"latitude"],[68,43,38,41],[69,14,39,12,"lon"],[69,17,39,15],[69,19,39,17,"location"],[69,27,39,25],[69,28,39,26,"coords"],[69,34,39,32],[69,35,39,33,"longitude"],[70,12,40,10],[70,13,40,11],[71,10,41,8],[72,8,42,6],[72,9,42,7],[72,10,42,8],[72,17,42,15,"gpsError"],[72,25,42,23],[72,27,42,25],[73,10,43,8,"console"],[73,17,43,15],[73,18,43,16,"log"],[73,21,43,19],[73,22,43,20],[73,64,43,62],[73,66,43,64,"gpsError"],[73,74,43,72],[73,75,43,73],[74,8,44,6],[75,6,45,4],[77,6,47,4],[78,6,48,4],[78,12,48,10,"response"],[78,20,48,18],[78,23,48,21],[78,29,48,27,"axios"],[78,34,48,32],[78,35,48,32,"default"],[78,42,48,32],[78,43,48,33,"get"],[78,46,48,36],[78,47,48,37],[78,71,48,61],[78,72,48,62],[79,6,49,4],[79,10,49,8,"response"],[79,18,49,16],[79,19,49,17,"data"],[79,23,49,21],[79,25,49,23],[80,8,50,6],[80,15,50,13],[81,10,51,8,"city"],[81,14,51,12],[81,16,51,14,"response"],[81,24,51,22],[81,25,51,23,"data"],[81,29,51,27],[81,30,51,28,"city"],[81,34,51,32],[81,38,51,36],[81,47,51,45],[82,10,52,8,"regionName"],[82,20,52,18],[82,22,52,20,"response"],[82,30,52,28],[82,31,52,29,"data"],[82,35,52,33],[82,36,52,34,"region"],[82,42,52,40],[82,46,52,44],[82,55,52,53],[83,10,53,8,"country"],[83,17,53,15],[83,19,53,17,"response"],[83,27,53,25],[83,28,53,26,"data"],[83,32,53,30],[83,33,53,31,"country_name"],[83,45,53,43],[83,49,53,47],[83,59,53,57],[84,10,54,8,"countryCode"],[84,21,54,19],[84,23,54,21,"response"],[84,31,54,29],[84,32,54,30,"data"],[84,36,54,34],[84,37,54,35,"country_code"],[84,49,54,47],[84,53,54,51],[84,57,54,55],[85,10,55,8,"lat"],[85,13,55,11],[85,15,55,13,"response"],[85,23,55,21],[85,24,55,22,"data"],[85,28,55,26],[85,29,55,27,"latitude"],[85,37,55,35],[85,41,55,39],[85,48,55,46],[86,10,56,8,"lon"],[86,13,56,11],[86,15,56,13,"response"],[86,23,56,21],[86,24,56,22,"data"],[86,28,56,26],[86,29,56,27,"longitude"],[86,38,56,36],[86,42,56,40],[87,8,57,6],[87,9,57,7],[88,6,58,4],[90,6,60,4],[91,6,61,4],[91,13,61,11],[92,8,62,6,"city"],[92,12,62,10],[92,14,62,12],[92,23,62,21],[93,8,63,6,"regionName"],[93,18,63,16],[93,20,63,18],[93,29,63,27],[94,8,64,6,"country"],[94,15,64,13],[94,17,64,15],[94,27,64,25],[95,8,65,6,"countryCode"],[95,19,65,17],[95,21,65,19],[95,25,65,23],[96,8,66,6,"lat"],[96,11,66,9],[96,13,66,11],[96,20,66,18],[97,8,67,6,"lon"],[97,11,67,9],[97,13,67,11],[98,6,68,4],[98,7,68,5],[99,4,69,2],[99,5,69,3],[99,6,69,4],[99,13,69,11,"error"],[99,18,69,16],[99,20,69,18],[100,6,70,4,"console"],[100,13,70,11],[100,14,70,12,"error"],[100,19,70,17],[100,20,70,18],[100,50,70,48],[100,52,70,50,"error"],[100,57,70,55],[100,58,70,56],[101,6,71,4],[102,6,72,4],[102,13,72,11],[103,8,73,6,"city"],[103,12,73,10],[103,14,73,12],[103,23,73,21],[104,8,74,6,"regionName"],[104,18,74,16],[104,20,74,18],[104,29,74,27],[105,8,75,6,"country"],[105,15,75,13],[105,17,75,15],[105,27,75,25],[106,8,76,6,"countryCode"],[106,19,76,17],[106,21,76,19],[106,25,76,23],[107,8,77,6,"lat"],[107,11,77,9],[107,13,77,11],[107,20,77,18],[108,8,78,6,"lon"],[108,11,78,9],[108,13,78,11],[109,6,79,4],[109,7,79,5],[110,4,80,2],[111,2,81,0],[111,3,81,1],[112,2,83,7],[112,8,83,13,"calculateDistance"],[112,25,83,30],[112,28,83,33,"calculateDistance"],[112,29,83,34,"lat1"],[112,33,83,46],[112,35,83,48,"lon1"],[112,39,83,60],[112,41,83,62,"lat2"],[112,45,83,74],[112,47,83,76,"lon2"],[112,51,83,88],[112,56,83,101],[113,4,84,2],[113,10,84,8,"R"],[113,11,84,9],[113,14,84,12],[113,18,84,16],[113,19,84,17],[113,20,84,18],[114,4,85,2],[114,10,85,8,"dLat"],[114,14,85,12],[114,17,85,15],[114,18,85,16,"lat2"],[114,22,85,20],[114,25,85,23,"lat1"],[114,29,85,27],[114,33,85,31,"Math"],[114,37,85,35],[114,38,85,36,"PI"],[114,40,85,38],[114,43,85,41],[114,46,85,44],[115,4,86,2],[115,10,86,8,"dLon"],[115,14,86,12],[115,17,86,15],[115,18,86,16,"lon2"],[115,22,86,20],[115,25,86,23,"lon1"],[115,29,86,27],[115,33,86,31,"Math"],[115,37,86,35],[115,38,86,36,"PI"],[115,40,86,38],[115,43,86,41],[115,46,86,44],[116,4,87,2],[116,10,87,8,"a"],[116,11,87,9],[116,14,88,4,"Math"],[116,18,88,8],[116,19,88,9,"sin"],[116,22,88,12],[116,23,88,13,"dLat"],[116,27,88,17],[116,30,88,20],[116,31,88,21],[116,32,88,22],[116,35,88,25,"Math"],[116,39,88,29],[116,40,88,30,"sin"],[116,43,88,33],[116,44,88,34,"dLat"],[116,48,88,38],[116,51,88,41],[116,52,88,42],[116,53,88,43],[116,56,89,4,"Math"],[116,60,89,8],[116,61,89,9,"cos"],[116,64,89,12],[116,65,89,13,"lat1"],[116,69,89,17],[116,72,89,20,"Math"],[116,76,89,24],[116,77,89,25,"PI"],[116,79,89,27],[116,82,89,30],[116,85,89,33],[116,86,89,34],[116,89,89,37,"Math"],[116,93,89,41],[116,94,89,42,"cos"],[116,97,89,45],[116,98,89,46,"lat2"],[116,102,89,50],[116,105,89,53,"Math"],[116,109,89,57],[116,110,89,58,"PI"],[116,112,89,60],[116,115,89,63],[116,118,89,66],[116,119,89,67],[116,122,90,4,"Math"],[116,126,90,8],[116,127,90,9,"sin"],[116,130,90,12],[116,131,90,13,"dLon"],[116,135,90,17],[116,138,90,20],[116,139,90,21],[116,140,90,22],[116,143,90,25,"Math"],[116,147,90,29],[116,148,90,30,"sin"],[116,151,90,33],[116,152,90,34,"dLon"],[116,156,90,38],[116,159,90,41],[116,160,90,42],[116,161,90,43],[117,4,91,2],[117,10,91,8,"c"],[117,11,91,9],[117,14,91,12],[117,15,91,13],[117,18,91,16,"Math"],[117,22,91,20],[117,23,91,21,"atan2"],[117,28,91,26],[117,29,91,27,"Math"],[117,33,91,31],[117,34,91,32,"sqrt"],[117,38,91,36],[117,39,91,37,"a"],[117,40,91,38],[117,41,91,39],[117,43,91,41,"Math"],[117,47,91,45],[117,48,91,46,"sqrt"],[117,52,91,50],[117,53,91,51],[117,54,91,52],[117,57,91,55,"a"],[117,58,91,56],[117,59,91,57],[117,60,91,58],[118,4,92,2],[118,10,92,8,"distance"],[118,18,92,16],[118,21,92,19,"R"],[118,22,92,20],[118,25,92,23,"c"],[118,26,92,24],[119,4,93,2],[119,11,93,9,"distance"],[119,19,93,17],[120,2,94,0],[120,3,94,1],[121,0,94,2],[121,3]],"functionMap":{"names":["<global>","getUserLocation","calculateDistance"],"mappings":"AAA;+BCa;CDmE;iCEE;CFW"},"hasCjsExports":false},"type":"js/module"}]}