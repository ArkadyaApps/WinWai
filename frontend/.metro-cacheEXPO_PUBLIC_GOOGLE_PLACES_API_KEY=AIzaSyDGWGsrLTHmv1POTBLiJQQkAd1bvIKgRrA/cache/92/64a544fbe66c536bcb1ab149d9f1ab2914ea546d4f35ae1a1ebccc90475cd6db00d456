{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":43,"index":2066}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"./Sensor","data":{"asyncType":null,"locs":[{"start":{"line":6,"column":0,"index":673},"end":{"line":6,"column":30,"index":703}}],"key":"ezh30Y8A8TWDdzAcaOSz/vMUbnA="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SensorContainer = void 0;\n  var _Sensor = _interopRequireDefault(require(_dependencyMap[1], \"./Sensor\"));\n  function _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _toPropertyKey(t) {\n    var i = _toPrimitive(t, \"string\");\n    return \"symbol\" == typeof i ? i : i + \"\";\n  }\n  function _toPrimitive(t, r) {\n    if (\"object\" != typeof t || !t) return t;\n    var e = t[Symbol.toPrimitive];\n    if (void 0 !== e) {\n      var i = e.call(t, r || \"default\");\n      if (\"object\" != typeof i) return i;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (\"string\" === r ? String : Number)(t);\n  }\n  class SensorContainer {\n    constructor() {\n      _defineProperty(this, \"nativeSensors\", new Map());\n    }\n    getSensorId(sensorType, config) {\n      return sensorType * 100 + config.iosReferenceFrame * 10 + Number(config.adjustToInterfaceOrientation);\n    }\n    initializeSensor(sensorType, config) {\n      const sensorId = this.getSensorId(sensorType, config);\n      if (!this.nativeSensors.has(sensorId)) {\n        const newSensor = new _Sensor.default(sensorType, config);\n        this.nativeSensors.set(sensorId, newSensor);\n      }\n      const sensor = this.nativeSensors.get(sensorId);\n      return sensor.getSharedValue();\n    }\n    registerSensor(sensorType, config, handler) {\n      const sensorId = this.getSensorId(sensorType, config);\n      if (!this.nativeSensors.has(sensorId)) {\n        return -1;\n      }\n      const sensor = this.nativeSensors.get(sensorId);\n      if (sensor && sensor.isAvailable() && (sensor.isRunning() || sensor.register(handler))) {\n        sensor.listenersNumber++;\n        return sensorId;\n      }\n      return -1;\n    }\n    unregisterSensor(sensorId) {\n      if (this.nativeSensors.has(sensorId)) {\n        const sensor = this.nativeSensors.get(sensorId);\n        if (sensor && sensor.isRunning()) {\n          sensor.listenersNumber--;\n          if (sensor.listenersNumber === 0) {\n            sensor.unregister();\n          }\n        }\n      }\n    }\n  }\n  exports.SensorContainer = SensorContainer;\n});","lineCount":79,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"SensorContainer"],[8,25,1,13],[9,2,6,0],[9,6,6,0,"_Sensor"],[9,13,6,0],[9,16,6,0,"_interopRequireDefault"],[9,38,6,0],[9,39,6,0,"require"],[9,46,6,0],[9,47,6,0,"_dependencyMap"],[9,61,6,0],[10,2,3,0],[10,11,3,9,"_defineProperty"],[10,26,3,24,"_defineProperty"],[10,27,3,25,"obj"],[10,30,3,28],[10,32,3,30,"key"],[10,35,3,33],[10,37,3,35,"value"],[10,42,3,40],[10,44,3,42],[11,4,3,44,"key"],[11,7,3,47],[11,10,3,50,"_toPropertyKey"],[11,24,3,64],[11,25,3,65,"key"],[11,28,3,68],[11,29,3,69],[12,4,3,71],[12,8,3,75,"key"],[12,11,3,78],[12,15,3,82,"obj"],[12,18,3,85],[12,20,3,87],[13,6,3,89,"Object"],[13,12,3,95],[13,13,3,96,"defineProperty"],[13,27,3,110],[13,28,3,111,"obj"],[13,31,3,114],[13,33,3,116,"key"],[13,36,3,119],[13,38,3,121],[14,8,3,123,"value"],[14,13,3,128],[14,15,3,130,"value"],[14,20,3,135],[15,8,3,137,"enumerable"],[15,18,3,147],[15,20,3,149],[15,24,3,153],[16,8,3,155,"configurable"],[16,20,3,167],[16,22,3,169],[16,26,3,173],[17,8,3,175,"writable"],[17,16,3,183],[17,18,3,185],[18,6,3,190],[18,7,3,191],[18,8,3,192],[19,4,3,194],[19,5,3,195],[19,11,3,201],[20,6,3,203,"obj"],[20,9,3,206],[20,10,3,207,"key"],[20,13,3,210],[20,14,3,211],[20,17,3,214,"value"],[20,22,3,219],[21,4,3,221],[22,4,3,223],[22,11,3,230,"obj"],[22,14,3,233],[23,2,3,235],[24,2,4,0],[24,11,4,9,"_toPropertyKey"],[24,25,4,23,"_toPropertyKey"],[24,26,4,24,"t"],[24,27,4,25],[24,29,4,27],[25,4,4,29],[25,8,4,33,"i"],[25,9,4,34],[25,12,4,37,"_toPrimitive"],[25,24,4,49],[25,25,4,50,"t"],[25,26,4,51],[25,28,4,53],[25,36,4,61],[25,37,4,62],[26,4,4,64],[26,11,4,71],[26,19,4,79],[26,23,4,83],[26,30,4,90,"i"],[26,31,4,91],[26,34,4,94,"i"],[26,35,4,95],[26,38,4,98,"i"],[26,39,4,99],[26,42,4,102],[26,44,4,104],[27,2,4,106],[28,2,5,0],[28,11,5,9,"_toPrimitive"],[28,23,5,21,"_toPrimitive"],[28,24,5,22,"t"],[28,25,5,23],[28,27,5,25,"r"],[28,28,5,26],[28,30,5,28],[29,4,5,30],[29,8,5,34],[29,16,5,42],[29,20,5,46],[29,27,5,53,"t"],[29,28,5,54],[29,32,5,58],[29,33,5,59,"t"],[29,34,5,60],[29,36,5,62],[29,43,5,69,"t"],[29,44,5,70],[30,4,5,72],[30,8,5,76,"e"],[30,9,5,77],[30,12,5,80,"t"],[30,13,5,81],[30,14,5,82,"Symbol"],[30,20,5,88],[30,21,5,89,"toPrimitive"],[30,32,5,100],[30,33,5,101],[31,4,5,103],[31,8,5,107],[31,13,5,112],[31,14,5,113],[31,19,5,118,"e"],[31,20,5,119],[31,22,5,121],[32,6,5,123],[32,10,5,127,"i"],[32,11,5,128],[32,14,5,131,"e"],[32,15,5,132],[32,16,5,133,"call"],[32,20,5,137],[32,21,5,138,"t"],[32,22,5,139],[32,24,5,141,"r"],[32,25,5,142],[32,29,5,146],[32,38,5,155],[32,39,5,156],[33,6,5,158],[33,10,5,162],[33,18,5,170],[33,22,5,174],[33,29,5,181,"i"],[33,30,5,182],[33,32,5,184],[33,39,5,191,"i"],[33,40,5,192],[34,6,5,194],[34,12,5,200],[34,16,5,204,"TypeError"],[34,25,5,213],[34,26,5,214],[34,72,5,260],[34,73,5,261],[35,4,5,263],[36,4,5,265],[36,11,5,272],[36,12,5,273],[36,20,5,281],[36,25,5,286,"r"],[36,26,5,287],[36,29,5,290,"String"],[36,35,5,296],[36,38,5,299,"Number"],[36,44,5,305],[36,46,5,307,"t"],[36,47,5,308],[36,48,5,309],[37,2,5,311],[38,2,7,7],[38,8,7,13,"SensorContainer"],[38,23,7,28],[38,24,7,29],[39,4,8,2,"constructor"],[39,15,8,13,"constructor"],[39,16,8,13],[39,18,8,16],[40,6,9,4,"_defineProperty"],[40,21,9,19],[40,22,9,20],[40,26,9,24],[40,28,9,26],[40,43,9,41],[40,45,9,43],[40,49,9,47,"Map"],[40,52,9,50],[40,53,9,51],[40,54,9,52],[40,55,9,53],[41,4,10,2],[42,4,11,2,"getSensorId"],[42,15,11,13,"getSensorId"],[42,16,11,14,"sensorType"],[42,26,11,24],[42,28,11,26,"config"],[42,34,11,32],[42,36,11,34],[43,6,12,4],[43,13,12,11,"sensorType"],[43,23,12,21],[43,26,12,24],[43,29,12,27],[43,32,12,30,"config"],[43,38,12,36],[43,39,12,37,"iosReferenceFrame"],[43,56,12,54],[43,59,12,57],[43,61,12,59],[43,64,12,62,"Number"],[43,70,12,68],[43,71,12,69,"config"],[43,77,12,75],[43,78,12,76,"adjustToInterfaceOrientation"],[43,106,12,104],[43,107,12,105],[44,4,13,2],[45,4,14,2,"initializeSensor"],[45,20,14,18,"initializeSensor"],[45,21,14,19,"sensorType"],[45,31,14,29],[45,33,14,31,"config"],[45,39,14,37],[45,41,14,39],[46,6,15,4],[46,12,15,10,"sensorId"],[46,20,15,18],[46,23,15,21],[46,27,15,25],[46,28,15,26,"getSensorId"],[46,39,15,37],[46,40,15,38,"sensorType"],[46,50,15,48],[46,52,15,50,"config"],[46,58,15,56],[46,59,15,57],[47,6,16,4],[47,10,16,8],[47,11,16,9],[47,15,16,13],[47,16,16,14,"nativeSensors"],[47,29,16,27],[47,30,16,28,"has"],[47,33,16,31],[47,34,16,32,"sensorId"],[47,42,16,40],[47,43,16,41],[47,45,16,43],[48,8,17,6],[48,14,17,12,"newSensor"],[48,23,17,21],[48,26,17,24],[48,30,17,28,"Sensor"],[48,45,17,34],[48,46,17,35,"sensorType"],[48,56,17,45],[48,58,17,47,"config"],[48,64,17,53],[48,65,17,54],[49,8,18,6],[49,12,18,10],[49,13,18,11,"nativeSensors"],[49,26,18,24],[49,27,18,25,"set"],[49,30,18,28],[49,31,18,29,"sensorId"],[49,39,18,37],[49,41,18,39,"newSensor"],[49,50,18,48],[49,51,18,49],[50,6,19,4],[51,6,20,4],[51,12,20,10,"sensor"],[51,18,20,16],[51,21,20,19],[51,25,20,23],[51,26,20,24,"nativeSensors"],[51,39,20,37],[51,40,20,38,"get"],[51,43,20,41],[51,44,20,42,"sensorId"],[51,52,20,50],[51,53,20,51],[52,6,21,4],[52,13,21,11,"sensor"],[52,19,21,17],[52,20,21,18,"getSharedValue"],[52,34,21,32],[52,35,21,33],[52,36,21,34],[53,4,22,2],[54,4,23,2,"registerSensor"],[54,18,23,16,"registerSensor"],[54,19,23,17,"sensorType"],[54,29,23,27],[54,31,23,29,"config"],[54,37,23,35],[54,39,23,37,"handler"],[54,46,23,44],[54,48,23,46],[55,6,24,4],[55,12,24,10,"sensorId"],[55,20,24,18],[55,23,24,21],[55,27,24,25],[55,28,24,26,"getSensorId"],[55,39,24,37],[55,40,24,38,"sensorType"],[55,50,24,48],[55,52,24,50,"config"],[55,58,24,56],[55,59,24,57],[56,6,25,4],[56,10,25,8],[56,11,25,9],[56,15,25,13],[56,16,25,14,"nativeSensors"],[56,29,25,27],[56,30,25,28,"has"],[56,33,25,31],[56,34,25,32,"sensorId"],[56,42,25,40],[56,43,25,41],[56,45,25,43],[57,8,26,6],[57,15,26,13],[57,16,26,14],[57,17,26,15],[58,6,27,4],[59,6,28,4],[59,12,28,10,"sensor"],[59,18,28,16],[59,21,28,19],[59,25,28,23],[59,26,28,24,"nativeSensors"],[59,39,28,37],[59,40,28,38,"get"],[59,43,28,41],[59,44,28,42,"sensorId"],[59,52,28,50],[59,53,28,51],[60,6,29,4],[60,10,29,8,"sensor"],[60,16,29,14],[60,20,29,18,"sensor"],[60,26,29,24],[60,27,29,25,"isAvailable"],[60,38,29,36],[60,39,29,37],[60,40,29,38],[60,45,29,43,"sensor"],[60,51,29,49],[60,52,29,50,"isRunning"],[60,61,29,59],[60,62,29,60],[60,63,29,61],[60,67,29,65,"sensor"],[60,73,29,71],[60,74,29,72,"register"],[60,82,29,80],[60,83,29,81,"handler"],[60,90,29,88],[60,91,29,89],[60,92,29,90],[60,94,29,92],[61,8,30,6,"sensor"],[61,14,30,12],[61,15,30,13,"listenersNumber"],[61,30,30,28],[61,32,30,30],[62,8,31,6],[62,15,31,13,"sensorId"],[62,23,31,21],[63,6,32,4],[64,6,33,4],[64,13,33,11],[64,14,33,12],[64,15,33,13],[65,4,34,2],[66,4,35,2,"unregisterSensor"],[66,20,35,18,"unregisterSensor"],[66,21,35,19,"sensorId"],[66,29,35,27],[66,31,35,29],[67,6,36,4],[67,10,36,8],[67,14,36,12],[67,15,36,13,"nativeSensors"],[67,28,36,26],[67,29,36,27,"has"],[67,32,36,30],[67,33,36,31,"sensorId"],[67,41,36,39],[67,42,36,40],[67,44,36,42],[68,8,37,6],[68,14,37,12,"sensor"],[68,20,37,18],[68,23,37,21],[68,27,37,25],[68,28,37,26,"nativeSensors"],[68,41,37,39],[68,42,37,40,"get"],[68,45,37,43],[68,46,37,44,"sensorId"],[68,54,37,52],[68,55,37,53],[69,8,38,6],[69,12,38,10,"sensor"],[69,18,38,16],[69,22,38,20,"sensor"],[69,28,38,26],[69,29,38,27,"isRunning"],[69,38,38,36],[69,39,38,37],[69,40,38,38],[69,42,38,40],[70,10,39,8,"sensor"],[70,16,39,14],[70,17,39,15,"listenersNumber"],[70,32,39,30],[70,34,39,32],[71,10,40,8],[71,14,40,12,"sensor"],[71,20,40,18],[71,21,40,19,"listenersNumber"],[71,36,40,34],[71,41,40,39],[71,42,40,40],[71,44,40,42],[72,12,41,10,"sensor"],[72,18,41,16],[72,19,41,17,"unregister"],[72,29,41,27],[72,30,41,28],[72,31,41,29],[73,10,42,8],[74,8,43,6],[75,6,44,4],[76,4,45,2],[77,2,46,0],[78,2,46,1,"exports"],[78,9,46,1],[78,10,46,1,"SensorContainer"],[78,25,46,1],[78,28,46,1,"SensorContainer"],[78,43,46,1],[79,0,46,1]],"functionMap":{"names":["<global>","_defineProperty","_toPropertyKey","_toPrimitive","SensorContainer","constructor","getSensorId","initializeSensor","registerSensor","unregisterSensor"],"mappings":"AAA;ACE,4OD;AEC,2GF;AGC,wTH;OIE;ECC;GDE;EEC;GFE;EGC;GHQ;EIC;GJW;EKC;GLU;CJC"}},"type":"js/module"}]}