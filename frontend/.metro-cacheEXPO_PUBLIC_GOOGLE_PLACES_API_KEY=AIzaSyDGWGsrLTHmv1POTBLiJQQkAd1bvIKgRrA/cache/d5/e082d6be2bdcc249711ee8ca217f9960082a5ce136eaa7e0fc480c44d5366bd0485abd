{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"ka0FS6s7ZmvhJq+hEjGkLLrGpyo="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.requestAsync = requestAsync;\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  // TODO(Bacon): pending react-native-adapter publish after sdk 38\n  const isDOMAvailable = _expoModulesCore.Platform.OS === 'web' && true && !!window.document?.createElement && typeof URL !== 'undefined';\n  async function requestAsync(requestUrl, fetchRequest) {\n    if (_expoModulesCore.Platform.OS === 'web' && !isDOMAvailable) {\n      // @ts-ignore\n      return;\n    }\n    const url = new URL(requestUrl);\n    const request = {\n      method: fetchRequest.method,\n      mode: 'cors',\n      headers: {}\n    };\n    const isJsonDataType = fetchRequest.dataType?.toLowerCase() === 'json';\n    if (fetchRequest.headers) {\n      for (const i in fetchRequest.headers) {\n        if (i in fetchRequest.headers) {\n          request.headers[i] = fetchRequest.headers[i];\n        }\n      }\n    }\n    if (fetchRequest.body) {\n      if (fetchRequest.method?.toUpperCase() === 'POST') {\n        request.body = new URLSearchParams(fetchRequest.body).toString();\n      } else {\n        for (const key of Object.keys(fetchRequest.body)) {\n          url.searchParams.append(key, fetchRequest.body[key]);\n        }\n      }\n    }\n    if (isJsonDataType && !('Accept' in request.headers)) {\n      // NOTE: Github authentication will return XML if this includes the standard `*/*`\n      request.headers['Accept'] = 'application/json, text/javascript; q=0.01';\n    }\n    // Fix a problem with React Native `URL` causing a trailing slash to be added.\n    const correctedUrl = url.toString().replace(/\\/$/, '');\n    const response = await fetch(correctedUrl, request);\n    const contentType = response.headers.get('content-type');\n    if (isJsonDataType || contentType?.includes('application/json')) {\n      return response.json();\n    }\n    // @ts-ignore: Type 'string' is not assignable to type 'T'.\n    return response.text();\n  }\n});","lineCount":51,"map":[[6,2,1,0],[6,6,1,0,"_expoModulesCore"],[6,22,1,0],[6,25,1,0,"require"],[6,32,1,0],[6,33,1,0,"_dependencyMap"],[6,47,1,0],[7,2,2,0],[8,2,3,0],[8,8,3,6,"isDOMAvailable"],[8,22,3,20],[8,25,3,23,"Platform"],[8,50,3,31],[8,51,3,32,"OS"],[8,53,3,34],[8,58,3,39],[8,63,3,44],[8,71,4,33],[8,75,5,4],[8,76,5,5],[8,77,5,6,"window"],[8,83,5,12],[8,84,5,13,"document"],[8,92,5,21],[8,94,5,23,"createElement"],[8,107,5,36],[8,111,6,4],[8,118,6,11,"URL"],[8,121,6,14],[8,126,6,19],[8,137,6,30],[9,2,7,7],[9,17,7,22,"requestAsync"],[9,29,7,34,"requestAsync"],[9,30,7,35,"requestUrl"],[9,40,7,45],[9,42,7,47,"fetchRequest"],[9,54,7,59],[9,56,7,61],[10,4,8,4],[10,8,8,8,"Platform"],[10,33,8,16],[10,34,8,17,"OS"],[10,36,8,19],[10,41,8,24],[10,46,8,29],[10,50,8,33],[10,51,8,34,"isDOMAvailable"],[10,65,8,48],[10,67,8,50],[11,6,9,8],[12,6,10,8],[13,4,11,4],[14,4,12,4],[14,10,12,10,"url"],[14,13,12,13],[14,16,12,16],[14,20,12,20,"URL"],[14,23,12,23],[14,24,12,24,"requestUrl"],[14,34,12,34],[14,35,12,35],[15,4,13,4],[15,10,13,10,"request"],[15,17,13,17],[15,20,13,20],[16,6,14,8,"method"],[16,12,14,14],[16,14,14,16,"fetchRequest"],[16,26,14,28],[16,27,14,29,"method"],[16,33,14,35],[17,6,15,8,"mode"],[17,10,15,12],[17,12,15,14],[17,18,15,20],[18,6,16,8,"headers"],[18,13,16,15],[18,15,16,17],[18,16,16,18],[19,4,17,4],[19,5,17,5],[20,4,18,4],[20,10,18,10,"isJsonDataType"],[20,24,18,24],[20,27,18,27,"fetchRequest"],[20,39,18,39],[20,40,18,40,"dataType"],[20,48,18,48],[20,50,18,50,"toLowerCase"],[20,61,18,61],[20,62,18,62],[20,63,18,63],[20,68,18,68],[20,74,18,74],[21,4,19,4],[21,8,19,8,"fetchRequest"],[21,20,19,20],[21,21,19,21,"headers"],[21,28,19,28],[21,30,19,30],[22,6,20,8],[22,11,20,13],[22,17,20,19,"i"],[22,18,20,20],[22,22,20,24,"fetchRequest"],[22,34,20,36],[22,35,20,37,"headers"],[22,42,20,44],[22,44,20,46],[23,8,21,12],[23,12,21,16,"i"],[23,13,21,17],[23,17,21,21,"fetchRequest"],[23,29,21,33],[23,30,21,34,"headers"],[23,37,21,41],[23,39,21,43],[24,10,22,16,"request"],[24,17,22,23],[24,18,22,24,"headers"],[24,25,22,31],[24,26,22,32,"i"],[24,27,22,33],[24,28,22,34],[24,31,22,37,"fetchRequest"],[24,43,22,49],[24,44,22,50,"headers"],[24,51,22,57],[24,52,22,58,"i"],[24,53,22,59],[24,54,22,60],[25,8,23,12],[26,6,24,8],[27,4,25,4],[28,4,26,4],[28,8,26,8,"fetchRequest"],[28,20,26,20],[28,21,26,21,"body"],[28,25,26,25],[28,27,26,27],[29,6,27,8],[29,10,27,12,"fetchRequest"],[29,22,27,24],[29,23,27,25,"method"],[29,29,27,31],[29,31,27,33,"toUpperCase"],[29,42,27,44],[29,43,27,45],[29,44,27,46],[29,49,27,51],[29,55,27,57],[29,57,27,59],[30,8,28,12,"request"],[30,15,28,19],[30,16,28,20,"body"],[30,20,28,24],[30,23,28,27],[30,27,28,31,"URLSearchParams"],[30,42,28,46],[30,43,28,47,"fetchRequest"],[30,55,28,59],[30,56,28,60,"body"],[30,60,28,64],[30,61,28,65],[30,62,28,66,"toString"],[30,70,28,74],[30,71,28,75],[30,72,28,76],[31,6,29,8],[31,7,29,9],[31,13,30,13],[32,8,31,12],[32,13,31,17],[32,19,31,23,"key"],[32,22,31,26],[32,26,31,30,"Object"],[32,32,31,36],[32,33,31,37,"keys"],[32,37,31,41],[32,38,31,42,"fetchRequest"],[32,50,31,54],[32,51,31,55,"body"],[32,55,31,59],[32,56,31,60],[32,58,31,62],[33,10,32,16,"url"],[33,13,32,19],[33,14,32,20,"searchParams"],[33,26,32,32],[33,27,32,33,"append"],[33,33,32,39],[33,34,32,40,"key"],[33,37,32,43],[33,39,32,45,"fetchRequest"],[33,51,32,57],[33,52,32,58,"body"],[33,56,32,62],[33,57,32,63,"key"],[33,60,32,66],[33,61,32,67],[33,62,32,68],[34,8,33,12],[35,6,34,8],[36,4,35,4],[37,4,36,4],[37,8,36,8,"isJsonDataType"],[37,22,36,22],[37,26,36,26],[37,28,36,28],[37,36,36,36],[37,40,36,40,"request"],[37,47,36,47],[37,48,36,48,"headers"],[37,55,36,55],[37,56,36,56],[37,58,36,58],[38,6,37,8],[39,6,38,8,"request"],[39,13,38,15],[39,14,38,16,"headers"],[39,21,38,23],[39,22,38,24],[39,30,38,32],[39,31,38,33],[39,34,38,36],[39,77,38,79],[40,4,39,4],[41,4,40,4],[42,4,41,4],[42,10,41,10,"correctedUrl"],[42,22,41,22],[42,25,41,25,"url"],[42,28,41,28],[42,29,41,29,"toString"],[42,37,41,37],[42,38,41,38],[42,39,41,39],[42,40,41,40,"replace"],[42,47,41,47],[42,48,41,48],[42,53,41,53],[42,55,41,55],[42,57,41,57],[42,58,41,58],[43,4,42,4],[43,10,42,10,"response"],[43,18,42,18],[43,21,42,21],[43,27,42,27,"fetch"],[43,32,42,32],[43,33,42,33,"correctedUrl"],[43,45,42,45],[43,47,42,47,"request"],[43,54,42,54],[43,55,42,55],[44,4,43,4],[44,10,43,10,"contentType"],[44,21,43,21],[44,24,43,24,"response"],[44,32,43,32],[44,33,43,33,"headers"],[44,40,43,40],[44,41,43,41,"get"],[44,44,43,44],[44,45,43,45],[44,59,43,59],[44,60,43,60],[45,4,44,4],[45,8,44,8,"isJsonDataType"],[45,22,44,22],[45,26,44,26,"contentType"],[45,37,44,37],[45,39,44,39,"includes"],[45,47,44,47],[45,48,44,48],[45,66,44,66],[45,67,44,67],[45,69,44,69],[46,6,45,8],[46,13,45,15,"response"],[46,21,45,23],[46,22,45,24,"json"],[46,26,45,28],[46,27,45,29],[46,28,45,30],[47,4,46,4],[48,4,47,4],[49,4,48,4],[49,11,48,11,"response"],[49,19,48,19],[49,20,48,20,"text"],[49,24,48,24],[49,25,48,25],[49,26,48,26],[50,2,49,0],[51,0,49,1]],"functionMap":{"names":["<global>","requestAsync"],"mappings":"AAA;OCM;CD0C"}},"type":"js/module"}]}