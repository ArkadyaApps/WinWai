{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":101,"column":0,"index":2833}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../NativeAnimatedHelper","data":{"asyncType":null,"locs":[{"start":{"line":17,"column":0,"index":402},"end":{"line":17,"column":59,"index":461}}],"key":"1ezhP5tF6Z9mOXoBZysNLcWfZtg="}},{"name":"./AnimatedNode","data":{"asyncType":null,"locs":[{"start":{"line":18,"column":0,"index":462},"end":{"line":18,"column":42,"index":504}}],"key":"3roa5JYtcfxCkpexJXwVNW3mWv0="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  'use strict';\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _NativeAnimatedHelper = _interopRequireDefault(require(_dependencyMap[1], \"../NativeAnimatedHelper\"));\n  var _AnimatedNode = _interopRequireDefault(require(_dependencyMap[2], \"./AnimatedNode\"));\n  class AnimatedTracking extends _AnimatedNode.default {\n    constructor(value, parent, animationClass, animationConfig, callback) {\n      super();\n      this._value = value;\n      this._parent = parent;\n      this._animationClass = animationClass;\n      this._animationConfig = animationConfig;\n      this._useNativeDriver = _NativeAnimatedHelper.default.shouldUseNativeDriver(animationConfig);\n      this._callback = callback;\n      this.__attach();\n    }\n    __makeNative(platformConfig) {\n      this.__isNative = true;\n      this._parent.__makeNative(platformConfig);\n      super.__makeNative(platformConfig);\n      this._value.__makeNative(platformConfig);\n    }\n    __getValue() {\n      return this._parent.__getValue();\n    }\n    __attach() {\n      this._parent.__addChild(this);\n      if (this._useNativeDriver) {\n        // when the tracking starts we need to convert this node to a \"native node\"\n        // so that the parent node will be made \"native\" too. This is necessary as\n        // if we don't do this `update` method will get called. At that point it\n        // may be too late as it would mean the JS driver has already started\n        // updating node values\n        let {\n          platformConfig\n        } = this._animationConfig;\n        this.__makeNative(platformConfig);\n      }\n    }\n    __detach() {\n      this._parent.__removeChild(this);\n      super.__detach();\n    }\n    update() {\n      this._value.animate(new this._animationClass({\n        ...this._animationConfig,\n        toValue: this._animationConfig.toValue.__getValue()\n      }), this._callback);\n    }\n    __getNativeConfig() {\n      const animation = new this._animationClass({\n        ...this._animationConfig,\n        // remove toValue from the config as it's a ref to Animated.Value\n        toValue: undefined\n      });\n      const animationConfig = animation.__getNativeAnimationConfig();\n      return {\n        type: 'tracking',\n        animationId: _NativeAnimatedHelper.default.generateNewAnimationId(),\n        animationConfig,\n        toValue: this._parent.__getNativeTag(),\n        value: this._value.__getNativeTag()\n      };\n    }\n  }\n  exports.default = AnimatedTracking;\n});","lineCount":82,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,11,13],[14,6,11,13,"_interopRequireDefault"],[14,28,11,13],[14,31,11,13,"require"],[14,38,11,13],[14,39,11,13,"_dependencyMap"],[14,53,11,13],[15,2,11,13,"Object"],[15,8,11,13],[15,9,11,13,"defineProperty"],[15,23,11,13],[15,24,11,13,"exports"],[15,31,11,13],[16,4,11,13,"value"],[16,9,11,13],[17,2,11,13],[18,2,11,13,"exports"],[18,9,11,13],[18,10,11,13,"default"],[18,17,11,13],[19,2,17,0],[19,6,17,0,"_NativeAnimatedHelper"],[19,27,17,0],[19,30,17,0,"_interopRequireDefault"],[19,52,17,0],[19,53,17,0,"require"],[19,60,17,0],[19,61,17,0,"_dependencyMap"],[19,75,17,0],[20,2,18,0],[20,6,18,0,"_AnimatedNode"],[20,19,18,0],[20,22,18,0,"_interopRequireDefault"],[20,44,18,0],[20,45,18,0,"require"],[20,52,18,0],[20,53,18,0,"_dependencyMap"],[20,67,18,0],[21,2,20,15],[21,8,20,21,"AnimatedTracking"],[21,24,20,37],[21,33,20,46,"AnimatedNode"],[21,54,20,58],[21,55,20,59],[22,4,28,2,"constructor"],[22,15,28,13,"constructor"],[22,16,29,4,"value"],[22,21,29,24],[22,23,30,4,"parent"],[22,29,30,24],[22,31,31,4,"animationClass"],[22,45,31,23],[22,47,32,4,"animationConfig"],[22,62,32,27],[22,64,33,4,"callback"],[22,72,33,27],[22,74,34,4],[23,6,35,4],[23,11,35,9],[23,12,35,10],[23,13,35,11],[24,6,36,4],[24,10,36,8],[24,11,36,9,"_value"],[24,17,36,15],[24,20,36,18,"value"],[24,25,36,23],[25,6,37,4],[25,10,37,8],[25,11,37,9,"_parent"],[25,18,37,16],[25,21,37,19,"parent"],[25,27,37,25],[26,6,38,4],[26,10,38,8],[26,11,38,9,"_animationClass"],[26,26,38,24],[26,29,38,27,"animationClass"],[26,43,38,41],[27,6,39,4],[27,10,39,8],[27,11,39,9,"_animationConfig"],[27,27,39,25],[27,30,39,28,"animationConfig"],[27,45,39,43],[28,6,40,4],[28,10,40,8],[28,11,40,9,"_useNativeDriver"],[28,27,40,25],[28,30,41,6,"NativeAnimatedHelper"],[28,59,41,26],[28,60,41,27,"shouldUseNativeDriver"],[28,81,41,48],[28,82,41,49,"animationConfig"],[28,97,41,64],[28,98,41,65],[29,6,42,4],[29,10,42,8],[29,11,42,9,"_callback"],[29,20,42,18],[29,23,42,21,"callback"],[29,31,42,29],[30,6,43,4],[30,10,43,8],[30,11,43,9,"__attach"],[30,19,43,17],[30,20,43,18],[30,21,43,19],[31,4,44,2],[32,4,46,2,"__makeNative"],[32,16,46,14,"__makeNative"],[32,17,46,15,"platformConfig"],[32,31,46,46],[32,33,46,48],[33,6,47,4],[33,10,47,8],[33,11,47,9,"__isNative"],[33,21,47,19],[33,24,47,22],[33,28,47,26],[34,6,48,4],[34,10,48,8],[34,11,48,9,"_parent"],[34,18,48,16],[34,19,48,17,"__makeNative"],[34,31,48,29],[34,32,48,30,"platformConfig"],[34,46,48,44],[34,47,48,45],[35,6,49,4],[35,11,49,9],[35,12,49,10,"__makeNative"],[35,24,49,22],[35,25,49,23,"platformConfig"],[35,39,49,37],[35,40,49,38],[36,6,50,4],[36,10,50,8],[36,11,50,9,"_value"],[36,17,50,15],[36,18,50,16,"__makeNative"],[36,30,50,28],[36,31,50,29,"platformConfig"],[36,45,50,43],[36,46,50,44],[37,4,51,2],[38,4,53,2,"__getValue"],[38,14,53,12,"__getValue"],[38,15,53,12],[38,17,53,23],[39,6,54,4],[39,13,54,11],[39,17,54,15],[39,18,54,16,"_parent"],[39,25,54,23],[39,26,54,24,"__getValue"],[39,36,54,34],[39,37,54,35],[39,38,54,36],[40,4,55,2],[41,4,57,2,"__attach"],[41,12,57,10,"__attach"],[41,13,57,10],[41,15,57,19],[42,6,58,4],[42,10,58,8],[42,11,58,9,"_parent"],[42,18,58,16],[42,19,58,17,"__addChild"],[42,29,58,27],[42,30,58,28],[42,34,58,32],[42,35,58,33],[43,6,59,4],[43,10,59,8],[43,14,59,12],[43,15,59,13,"_useNativeDriver"],[43,31,59,29],[43,33,59,31],[44,8,60,6],[45,8,61,6],[46,8,62,6],[47,8,63,6],[48,8,64,6],[49,8,65,6],[49,12,65,10],[50,10,65,11,"platformConfig"],[51,8,65,25],[51,9,65,26],[51,12,65,29],[51,16,65,33],[51,17,65,34,"_animationConfig"],[51,33,65,50],[52,8,66,6],[52,12,66,10],[52,13,66,11,"__makeNative"],[52,25,66,23],[52,26,66,24,"platformConfig"],[52,40,66,38],[52,41,66,39],[53,6,67,4],[54,4,68,2],[55,4,70,2,"__detach"],[55,12,70,10,"__detach"],[55,13,70,10],[55,15,70,19],[56,6,71,4],[56,10,71,8],[56,11,71,9,"_parent"],[56,18,71,16],[56,19,71,17,"__removeChild"],[56,32,71,30],[56,33,71,31],[56,37,71,35],[56,38,71,36],[57,6,72,4],[57,11,72,9],[57,12,72,10,"__detach"],[57,20,72,18],[57,21,72,19],[57,22,72,20],[58,4,73,2],[59,4,75,2,"update"],[59,10,75,8,"update"],[59,11,75,8],[59,13,75,17],[60,6,76,4],[60,10,76,8],[60,11,76,9,"_value"],[60,17,76,15],[60,18,76,16,"animate"],[60,25,76,23],[60,26,77,6],[60,30,77,10],[60,34,77,14],[60,35,77,15,"_animationClass"],[60,50,77,30],[60,51,77,31],[61,8,78,8],[61,11,78,11],[61,15,78,15],[61,16,78,16,"_animationConfig"],[61,32,78,32],[62,8,79,8,"toValue"],[62,15,79,15],[62,17,79,18],[62,21,79,22],[62,22,79,23,"_animationConfig"],[62,38,79,39],[62,39,79,40,"toValue"],[62,46,79,47],[62,47,79,54,"__getValue"],[62,57,79,64],[62,58,79,65],[63,6,80,6],[63,7,80,7],[63,8,80,8],[63,10,81,6],[63,14,81,10],[63,15,81,11,"_callback"],[63,24,82,4],[63,25,82,5],[64,4,83,2],[65,4,85,2,"__getNativeConfig"],[65,21,85,19,"__getNativeConfig"],[65,22,85,19],[65,24,85,27],[66,6,86,4],[66,12,86,10,"animation"],[66,21,86,19],[66,24,86,22],[66,28,86,26],[66,32,86,30],[66,33,86,31,"_animationClass"],[66,48,86,46],[66,49,86,47],[67,8,87,6],[67,11,87,9],[67,15,87,13],[67,16,87,14,"_animationConfig"],[67,32,87,30],[68,8,88,6],[69,8,89,6,"toValue"],[69,15,89,13],[69,17,89,15,"undefined"],[70,6,90,4],[70,7,90,5],[70,8,90,6],[71,6,91,4],[71,12,91,10,"animationConfig"],[71,27,91,25],[71,30,91,28,"animation"],[71,39,91,37],[71,40,91,38,"__getNativeAnimationConfig"],[71,66,91,64],[71,67,91,65],[71,68,91,66],[72,6,92,4],[72,13,92,11],[73,8,93,6,"type"],[73,12,93,10],[73,14,93,12],[73,24,93,22],[74,8,94,6,"animationId"],[74,19,94,17],[74,21,94,19,"NativeAnimatedHelper"],[74,50,94,39],[74,51,94,40,"generateNewAnimationId"],[74,73,94,62],[74,74,94,63],[74,75,94,64],[75,8,95,6,"animationConfig"],[75,23,95,21],[76,8,96,6,"toValue"],[76,15,96,13],[76,17,96,15],[76,21,96,19],[76,22,96,20,"_parent"],[76,29,96,27],[76,30,96,28,"__getNativeTag"],[76,44,96,42],[76,45,96,43],[76,46,96,44],[77,8,97,6,"value"],[77,13,97,11],[77,15,97,13],[77,19,97,17],[77,20,97,18,"_value"],[77,26,97,24],[77,27,97,25,"__getNativeTag"],[77,41,97,39],[77,42,97,40],[78,6,98,4],[78,7,98,5],[79,4,99,2],[80,2,100,0],[81,2,100,1,"exports"],[81,9,100,1],[81,10,100,1,"default"],[81,17,100,1],[81,20,100,1,"AnimatedTracking"],[81,36,100,1],[82,0,100,1]],"functionMap":{"names":["<global>","AnimatedTracking","constructor","__makeNative","__getValue","__attach","__detach","update","__getNativeConfig"],"mappings":"AAA;eCmB;ECQ;GDgB;EEE;GFK;EGE;GHE;EIE;GJW;EKE;GLG;EME;GNQ;EOE;GPc;CDC"}},"type":"js/module"}]}