{"dependencies":[{"name":"./PlatformChecker","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":51,"index":66}}],"key":"tkmI0BF0tb+eF9KPjOiRa9ClHxA="}},{"name":"./core","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":67},"end":{"line":4,"column":84,"index":151}}],"key":"RjYcaDElboxfMRSohSLhnV9EO/E="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.updateLayoutAnimations = void 0;\n  var _PlatformChecker = require(_dependencyMap[0], \"./PlatformChecker\");\n  var _core = require(_dependencyMap[1], \"./core\");\n  function createUpdateManager() {\n    const animations = [];\n    // When a stack is rerendered we reconfigure all the shared elements.\n    // To do that we want them to appear in our batch in the correct order,\n    // so we defer some of the updates to appear at the end of the batch.\n    const deferredAnimations = [];\n    return {\n      update(batchItem, isUnmounting) {\n        if (isUnmounting) {\n          deferredAnimations.push(batchItem);\n        } else {\n          animations.push(batchItem);\n        }\n        if (animations.length + deferredAnimations.length === 1) {\n          setImmediate(this.flush);\n        }\n      },\n      flush() {\n        (0, _core.configureLayoutAnimationBatch)(animations.concat(deferredAnimations));\n        animations.length = 0;\n        deferredAnimations.length = 0;\n      }\n    };\n  }\n\n  /**\n   * Lets you update the current configuration of the layout animation or shared element transition for a given component.\n   * Configurations are batched and applied at the end of the current execution block, right before sending the response back to native.\n   *\n   * @param viewTag - The tag of the component you'd like to configure.\n   * @param type - The type of the animation you'd like to configure - {@link LayoutAnimationType}.\n   * @param config - The animation configuration - {@link LayoutAnimationFunction}, {@link SharedTransitionAnimationsFunction}, {@link ProgressAnimationCallback} or {@link Keyframe}. Passing `undefined` will remove the animation.\n   * @param sharedTransitionTag - The tag of the shared element transition you'd like to configure. Passing `undefined` will remove the transition.\n   * @param isUnmounting - Determines whether the configuration should be included at the end of the batch, after all the non-deferred configurations (even those that were updated later). This is used to retain the correct ordering of shared elements. Defaults to `false`.\n   */\n  let updateLayoutAnimations = exports.updateLayoutAnimations = void 0;\n  if ((0, _PlatformChecker.shouldBeUseWeb)()) {\n    exports.updateLayoutAnimations = updateLayoutAnimations = () => {\n      // no-op\n    };\n  } else {\n    const updateLayoutAnimationsManager = createUpdateManager();\n    exports.updateLayoutAnimations = updateLayoutAnimations = (viewTag, type, config, sharedTransitionTag, isUnmounting) => updateLayoutAnimationsManager.update({\n      viewTag,\n      type,\n      config: config ? (0, _core.makeShareableCloneRecursive)(config) : undefined,\n      sharedTransitionTag\n    }, isUnmounting);\n  }\n});","lineCount":59,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"updateLayoutAnimations"],[7,32,1,13],[8,2,3,0],[8,6,3,0,"_PlatformChecker"],[8,22,3,0],[8,25,3,0,"require"],[8,32,3,0],[8,33,3,0,"_dependencyMap"],[8,47,3,0],[9,2,4,0],[9,6,4,0,"_core"],[9,11,4,0],[9,14,4,0,"require"],[9,21,4,0],[9,22,4,0,"_dependencyMap"],[9,36,4,0],[10,2,5,0],[10,11,5,9,"createUpdateManager"],[10,30,5,28,"createUpdateManager"],[10,31,5,28],[10,33,5,31],[11,4,6,2],[11,10,6,8,"animations"],[11,20,6,18],[11,23,6,21],[11,25,6,23],[12,4,7,2],[13,4,8,2],[14,4,9,2],[15,4,10,2],[15,10,10,8,"deferredAnimations"],[15,28,10,26],[15,31,10,29],[15,33,10,31],[16,4,11,2],[16,11,11,9],[17,6,12,4,"update"],[17,12,12,10,"update"],[17,13,12,11,"batchItem"],[17,22,12,20],[17,24,12,22,"isUnmounting"],[17,36,12,34],[17,38,12,36],[18,8,13,6],[18,12,13,10,"isUnmounting"],[18,24,13,22],[18,26,13,24],[19,10,14,8,"deferredAnimations"],[19,28,14,26],[19,29,14,27,"push"],[19,33,14,31],[19,34,14,32,"batchItem"],[19,43,14,41],[19,44,14,42],[20,8,15,6],[20,9,15,7],[20,15,15,13],[21,10,16,8,"animations"],[21,20,16,18],[21,21,16,19,"push"],[21,25,16,23],[21,26,16,24,"batchItem"],[21,35,16,33],[21,36,16,34],[22,8,17,6],[23,8,18,6],[23,12,18,10,"animations"],[23,22,18,20],[23,23,18,21,"length"],[23,29,18,27],[23,32,18,30,"deferredAnimations"],[23,50,18,48],[23,51,18,49,"length"],[23,57,18,55],[23,62,18,60],[23,63,18,61],[23,65,18,63],[24,10,19,8,"setImmediate"],[24,22,19,20],[24,23,19,21],[24,27,19,25],[24,28,19,26,"flush"],[24,33,19,31],[24,34,19,32],[25,8,20,6],[26,6,21,4],[26,7,21,5],[27,6,22,4,"flush"],[27,11,22,9,"flush"],[27,12,22,9],[27,14,22,12],[28,8,23,6],[28,12,23,6,"configureLayoutAnimationBatch"],[28,47,23,35],[28,49,23,36,"animations"],[28,59,23,46],[28,60,23,47,"concat"],[28,66,23,53],[28,67,23,54,"deferredAnimations"],[28,85,23,72],[28,86,23,73],[28,87,23,74],[29,8,24,6,"animations"],[29,18,24,16],[29,19,24,17,"length"],[29,25,24,23],[29,28,24,26],[29,29,24,27],[30,8,25,6,"deferredAnimations"],[30,26,25,24],[30,27,25,25,"length"],[30,33,25,31],[30,36,25,34],[30,37,25,35],[31,6,26,4],[32,4,27,2],[32,5,27,3],[33,2,28,0],[35,2,30,0],[36,0,31,0],[37,0,32,0],[38,0,33,0],[39,0,34,0],[40,0,35,0],[41,0,36,0],[42,0,37,0],[43,0,38,0],[44,0,39,0],[45,2,40,7],[45,6,40,11,"updateLayoutAnimations"],[45,28,40,33],[45,31,40,33,"exports"],[45,38,40,33],[45,39,40,33,"updateLayoutAnimations"],[45,61,40,33],[46,2,41,0],[46,6,41,4],[46,10,41,4,"shouldBeUseWeb"],[46,41,41,18],[46,43,41,19],[46,44,41,20],[46,46,41,22],[47,4,42,2,"exports"],[47,11,42,2],[47,12,42,2,"updateLayoutAnimations"],[47,34,42,2],[47,37,42,2,"updateLayoutAnimations"],[47,59,42,24],[47,62,42,27,"updateLayoutAnimations"],[47,63,42,27],[47,68,42,33],[48,6,43,4],[49,4,43,4],[49,5,44,3],[50,2,45,0],[50,3,45,1],[50,9,45,7],[51,4,46,2],[51,10,46,8,"updateLayoutAnimationsManager"],[51,39,46,37],[51,42,46,40,"createUpdateManager"],[51,61,46,59],[51,62,46,60],[51,63,46,61],[52,4,47,2,"exports"],[52,11,47,2],[52,12,47,2,"updateLayoutAnimations"],[52,34,47,2],[52,37,47,2,"updateLayoutAnimations"],[52,59,47,24],[52,62,47,27,"updateLayoutAnimations"],[52,63,47,28,"viewTag"],[52,70,47,35],[52,72,47,37,"type"],[52,76,47,41],[52,78,47,43,"config"],[52,84,47,49],[52,86,47,51,"sharedTransitionTag"],[52,105,47,70],[52,107,47,72,"isUnmounting"],[52,119,47,84],[52,124,47,89,"updateLayoutAnimationsManager"],[52,153,47,118],[52,154,47,119,"update"],[52,160,47,125],[52,161,47,126],[53,6,48,4,"viewTag"],[53,13,48,11],[54,6,49,4,"type"],[54,10,49,8],[55,6,50,4,"config"],[55,12,50,10],[55,14,50,12,"config"],[55,20,50,18],[55,23,50,21],[55,27,50,21,"makeShareableCloneRecursive"],[55,60,50,48],[55,62,50,49,"config"],[55,68,50,55],[55,69,50,56],[55,72,50,59,"undefined"],[55,81,50,68],[56,6,51,4,"sharedTransitionTag"],[57,4,52,2],[57,5,52,3],[57,7,52,5,"isUnmounting"],[57,19,52,17],[57,20,52,18],[58,2,53,0],[59,0,53,1]],"functionMap":{"names":["<global>","createUpdateManager","update","flush","updateLayoutAnimations"],"mappings":"AAA;ACI;ICO;KDS;IEC;KFI;CDE;2BIc;GJE;2BIG;kBJK"}},"type":"js/module"}]}