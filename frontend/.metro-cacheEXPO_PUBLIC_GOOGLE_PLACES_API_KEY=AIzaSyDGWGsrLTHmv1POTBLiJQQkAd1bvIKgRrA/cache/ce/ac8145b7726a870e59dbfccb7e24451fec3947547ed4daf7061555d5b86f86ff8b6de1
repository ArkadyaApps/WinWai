{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n\n  /* eslint-disable @typescript-eslint/no-empty-function */\n  class EventManager {\n    constructor(view) {\n      _defineProperty(this, \"view\", void 0);\n      _defineProperty(this, \"pointersInBounds\", []);\n      _defineProperty(this, \"activePointersCounter\", void 0);\n      this.view = view;\n      this.activePointersCounter = 0;\n    }\n    onPointerDown(_event) {}\n    onPointerAdd(_event) {}\n    onPointerUp(_event) {}\n    onPointerRemove(_event) {}\n    onPointerMove(_event) {}\n    onPointerLeave(_event) {} // called only when pointer is pressed (or touching)\n\n    onPointerEnter(_event) {} // called only when pointer is pressed (or touching)\n\n    onPointerCancel(_event) {// When pointer cancel is triggered and there are more pointers on the view, only one pointer is cancelled\n      // Because we want all pointers to be cancelled by that event, we are doing it manually by reseting handler and changing activePointersCounter to 0\n      // Events that correspond to removing the pointer (pointerup, touchend) have condition, that they don't perform any action when activePointersCounter\n      // is equal to 0. This prevents counter from going to negative values, when pointers are removed from view after one of them has been cancelled\n    }\n    onPointerOutOfBounds(_event) {}\n    onPointerMoveOver(_event) {}\n    onPointerMoveOut(_event) {}\n    setOnPointerDown(callback) {\n      this.onPointerDown = callback;\n    }\n    setOnPointerAdd(callback) {\n      this.onPointerAdd = callback;\n    }\n    setOnPointerUp(callback) {\n      this.onPointerUp = callback;\n    }\n    setOnPointerRemove(callback) {\n      this.onPointerRemove = callback;\n    }\n    setOnPointerMove(callback) {\n      this.onPointerMove = callback;\n    }\n    setOnPointerLeave(callback) {\n      this.onPointerLeave = callback;\n    }\n    setOnPointerEnter(callback) {\n      this.onPointerEnter = callback;\n    }\n    setOnPointerCancel(callback) {\n      this.onPointerCancel = callback;\n    }\n    setOnPointerOutOfBounds(callback) {\n      this.onPointerOutOfBounds = callback;\n    }\n    setOnPointerMoveOver(callback) {\n      this.onPointerMoveOver = callback;\n    }\n    setOnPointerMoveOut(callback) {\n      this.onPointerMoveOut = callback;\n    }\n    markAsInBounds(pointerId) {\n      if (this.pointersInBounds.indexOf(pointerId) >= 0) {\n        return;\n      }\n      this.pointersInBounds.push(pointerId);\n    }\n    markAsOutOfBounds(pointerId) {\n      const index = this.pointersInBounds.indexOf(pointerId);\n      if (index < 0) {\n        return;\n      }\n      this.pointersInBounds.splice(index, 1);\n    }\n    resetManager() {\n      // Reseting activePointersCounter is necessary to make gestures such as pinch work properly\n      // There are gestures that end when there is still one active pointer (like pinch/rotation)\n      // When these gestures end, they are reset, but they still receive events from pointer that is active\n      // This causes trouble, since only onPointerDown registers gesture in orchestrator, and while gestures receive\n      // Events from active pointer after they finished, next pointerdown event will be registered as additional pointer, not the first one\n      // This casues trouble like gestures getting stuck in END state, even though they should have gone to UNDETERMINED\n      this.activePointersCounter = 0;\n      this.pointersInBounds = [];\n    }\n  }\n  exports.default = EventManager;\n});","lineCount":104,"map":[[6,2,1,0],[6,11,1,9,"_defineProperty"],[6,26,1,24,"_defineProperty"],[6,27,1,25,"obj"],[6,30,1,28],[6,32,1,30,"key"],[6,35,1,33],[6,37,1,35,"value"],[6,42,1,40],[6,44,1,42],[7,4,1,44],[7,8,1,48,"key"],[7,11,1,51],[7,15,1,55,"obj"],[7,18,1,58],[7,20,1,60],[8,6,1,62,"Object"],[8,12,1,68],[8,13,1,69,"defineProperty"],[8,27,1,83],[8,28,1,84,"obj"],[8,31,1,87],[8,33,1,89,"key"],[8,36,1,92],[8,38,1,94],[9,8,1,96,"value"],[9,13,1,101],[9,15,1,103,"value"],[9,20,1,108],[10,8,1,110,"enumerable"],[10,18,1,120],[10,20,1,122],[10,24,1,126],[11,8,1,128,"configurable"],[11,20,1,140],[11,22,1,142],[11,26,1,146],[12,8,1,148,"writable"],[12,16,1,156],[12,18,1,158],[13,6,1,163],[13,7,1,164],[13,8,1,165],[14,4,1,167],[14,5,1,168],[14,11,1,174],[15,6,1,176,"obj"],[15,9,1,179],[15,10,1,180,"key"],[15,13,1,183],[15,14,1,184],[15,17,1,187,"value"],[15,22,1,192],[16,4,1,194],[17,4,1,196],[17,11,1,203,"obj"],[17,14,1,206],[18,2,1,208],[20,2,3,0],[21,2,4,15],[21,8,4,21,"EventManager"],[21,20,4,33],[21,21,4,34],[22,4,5,2,"constructor"],[22,15,5,13,"constructor"],[22,16,5,14,"view"],[22,20,5,18],[22,22,5,20],[23,6,6,4,"_defineProperty"],[23,21,6,19],[23,22,6,20],[23,26,6,24],[23,28,6,26],[23,34,6,32],[23,36,6,34],[23,41,6,39],[23,42,6,40],[23,43,6,41],[24,6,8,4,"_defineProperty"],[24,21,8,19],[24,22,8,20],[24,26,8,24],[24,28,8,26],[24,46,8,44],[24,48,8,46],[24,50,8,48],[24,51,8,49],[25,6,10,4,"_defineProperty"],[25,21,10,19],[25,22,10,20],[25,26,10,24],[25,28,10,26],[25,51,10,49],[25,53,10,51],[25,58,10,56],[25,59,10,57],[25,60,10,58],[26,6,12,4],[26,10,12,8],[26,11,12,9,"view"],[26,15,12,13],[26,18,12,16,"view"],[26,22,12,20],[27,6,13,4],[27,10,13,8],[27,11,13,9,"activePointersCounter"],[27,32,13,30],[27,35,13,33],[27,36,13,34],[28,4,14,2],[29,4,16,2,"onPointerDown"],[29,17,16,15,"onPointerDown"],[29,18,16,16,"_event"],[29,24,16,22],[29,26,16,24],[29,27,16,25],[30,4,18,2,"onPointerAdd"],[30,16,18,14,"onPointerAdd"],[30,17,18,15,"_event"],[30,23,18,21],[30,25,18,23],[30,26,18,24],[31,4,20,2,"onPointerUp"],[31,15,20,13,"onPointerUp"],[31,16,20,14,"_event"],[31,22,20,20],[31,24,20,22],[31,25,20,23],[32,4,22,2,"onPointerRemove"],[32,19,22,17,"onPointerRemove"],[32,20,22,18,"_event"],[32,26,22,24],[32,28,22,26],[32,29,22,27],[33,4,24,2,"onPointerMove"],[33,17,24,15,"onPointerMove"],[33,18,24,16,"_event"],[33,24,24,22],[33,26,24,24],[33,27,24,25],[34,4,26,2,"onPointerLeave"],[34,18,26,16,"onPointerLeave"],[34,19,26,17,"_event"],[34,25,26,23],[34,27,26,25],[34,28,26,26],[34,29,26,27],[34,30,26,28],[36,4,29,2,"onPointerEnter"],[36,18,29,16,"onPointerEnter"],[36,19,29,17,"_event"],[36,25,29,23],[36,27,29,25],[36,28,29,26],[36,29,29,27],[36,30,29,28],[38,4,32,2,"onPointerCancel"],[38,19,32,17,"onPointerCancel"],[38,20,32,18,"_event"],[38,26,32,24],[38,28,32,26],[38,29,32,27],[39,6,33,4],[40,6,34,4],[41,6,35,4],[42,4,35,4],[43,4,38,2,"onPointerOutOfBounds"],[43,24,38,22,"onPointerOutOfBounds"],[43,25,38,23,"_event"],[43,31,38,29],[43,33,38,31],[43,34,38,32],[44,4,40,2,"onPointerMoveOver"],[44,21,40,19,"onPointerMoveOver"],[44,22,40,20,"_event"],[44,28,40,26],[44,30,40,28],[44,31,40,29],[45,4,42,2,"onPointerMoveOut"],[45,20,42,18,"onPointerMoveOut"],[45,21,42,19,"_event"],[45,27,42,25],[45,29,42,27],[45,30,42,28],[46,4,44,2,"setOnPointerDown"],[46,20,44,18,"setOnPointerDown"],[46,21,44,19,"callback"],[46,29,44,27],[46,31,44,29],[47,6,45,4],[47,10,45,8],[47,11,45,9,"onPointerDown"],[47,24,45,22],[47,27,45,25,"callback"],[47,35,45,33],[48,4,46,2],[49,4,48,2,"setOnPointerAdd"],[49,19,48,17,"setOnPointerAdd"],[49,20,48,18,"callback"],[49,28,48,26],[49,30,48,28],[50,6,49,4],[50,10,49,8],[50,11,49,9,"onPointerAdd"],[50,23,49,21],[50,26,49,24,"callback"],[50,34,49,32],[51,4,50,2],[52,4,52,2,"setOnPointerUp"],[52,18,52,16,"setOnPointerUp"],[52,19,52,17,"callback"],[52,27,52,25],[52,29,52,27],[53,6,53,4],[53,10,53,8],[53,11,53,9,"onPointerUp"],[53,22,53,20],[53,25,53,23,"callback"],[53,33,53,31],[54,4,54,2],[55,4,56,2,"setOnPointerRemove"],[55,22,56,20,"setOnPointerRemove"],[55,23,56,21,"callback"],[55,31,56,29],[55,33,56,31],[56,6,57,4],[56,10,57,8],[56,11,57,9,"onPointerRemove"],[56,26,57,24],[56,29,57,27,"callback"],[56,37,57,35],[57,4,58,2],[58,4,60,2,"setOnPointerMove"],[58,20,60,18,"setOnPointerMove"],[58,21,60,19,"callback"],[58,29,60,27],[58,31,60,29],[59,6,61,4],[59,10,61,8],[59,11,61,9,"onPointerMove"],[59,24,61,22],[59,27,61,25,"callback"],[59,35,61,33],[60,4,62,2],[61,4,64,2,"setOnPointerLeave"],[61,21,64,19,"setOnPointerLeave"],[61,22,64,20,"callback"],[61,30,64,28],[61,32,64,30],[62,6,65,4],[62,10,65,8],[62,11,65,9,"onPointerLeave"],[62,25,65,23],[62,28,65,26,"callback"],[62,36,65,34],[63,4,66,2],[64,4,68,2,"setOnPointerEnter"],[64,21,68,19,"setOnPointerEnter"],[64,22,68,20,"callback"],[64,30,68,28],[64,32,68,30],[65,6,69,4],[65,10,69,8],[65,11,69,9,"onPointerEnter"],[65,25,69,23],[65,28,69,26,"callback"],[65,36,69,34],[66,4,70,2],[67,4,72,2,"setOnPointerCancel"],[67,22,72,20,"setOnPointerCancel"],[67,23,72,21,"callback"],[67,31,72,29],[67,33,72,31],[68,6,73,4],[68,10,73,8],[68,11,73,9,"onPointerCancel"],[68,26,73,24],[68,29,73,27,"callback"],[68,37,73,35],[69,4,74,2],[70,4,76,2,"setOnPointerOutOfBounds"],[70,27,76,25,"setOnPointerOutOfBounds"],[70,28,76,26,"callback"],[70,36,76,34],[70,38,76,36],[71,6,77,4],[71,10,77,8],[71,11,77,9,"onPointerOutOfBounds"],[71,31,77,29],[71,34,77,32,"callback"],[71,42,77,40],[72,4,78,2],[73,4,80,2,"setOnPointerMoveOver"],[73,24,80,22,"setOnPointerMoveOver"],[73,25,80,23,"callback"],[73,33,80,31],[73,35,80,33],[74,6,81,4],[74,10,81,8],[74,11,81,9,"onPointerMoveOver"],[74,28,81,26],[74,31,81,29,"callback"],[74,39,81,37],[75,4,82,2],[76,4,84,2,"setOnPointerMoveOut"],[76,23,84,21,"setOnPointerMoveOut"],[76,24,84,22,"callback"],[76,32,84,30],[76,34,84,32],[77,6,85,4],[77,10,85,8],[77,11,85,9,"onPointerMoveOut"],[77,27,85,25],[77,30,85,28,"callback"],[77,38,85,36],[78,4,86,2],[79,4,88,2,"markAsInBounds"],[79,18,88,16,"markAsInBounds"],[79,19,88,17,"pointerId"],[79,28,88,26],[79,30,88,28],[80,6,89,4],[80,10,89,8],[80,14,89,12],[80,15,89,13,"pointersInBounds"],[80,31,89,29],[80,32,89,30,"indexOf"],[80,39,89,37],[80,40,89,38,"pointerId"],[80,49,89,47],[80,50,89,48],[80,54,89,52],[80,55,89,53],[80,57,89,55],[81,8,90,6],[82,6,91,4],[83,6,93,4],[83,10,93,8],[83,11,93,9,"pointersInBounds"],[83,27,93,25],[83,28,93,26,"push"],[83,32,93,30],[83,33,93,31,"pointerId"],[83,42,93,40],[83,43,93,41],[84,4,94,2],[85,4,96,2,"markAsOutOfBounds"],[85,21,96,19,"markAsOutOfBounds"],[85,22,96,20,"pointerId"],[85,31,96,29],[85,33,96,31],[86,6,97,4],[86,12,97,10,"index"],[86,17,97,15],[86,20,97,18],[86,24,97,22],[86,25,97,23,"pointersInBounds"],[86,41,97,39],[86,42,97,40,"indexOf"],[86,49,97,47],[86,50,97,48,"pointerId"],[86,59,97,57],[86,60,97,58],[87,6,99,4],[87,10,99,8,"index"],[87,15,99,13],[87,18,99,16],[87,19,99,17],[87,21,99,19],[88,8,100,6],[89,6,101,4],[90,6,103,4],[90,10,103,8],[90,11,103,9,"pointersInBounds"],[90,27,103,25],[90,28,103,26,"splice"],[90,34,103,32],[90,35,103,33,"index"],[90,40,103,38],[90,42,103,40],[90,43,103,41],[90,44,103,42],[91,4,104,2],[92,4,106,2,"resetManager"],[92,16,106,14,"resetManager"],[92,17,106,14],[92,19,106,17],[93,6,107,4],[94,6,108,4],[95,6,109,4],[96,6,110,4],[97,6,111,4],[98,6,112,4],[99,6,113,4],[99,10,113,8],[99,11,113,9,"activePointersCounter"],[99,32,113,30],[99,35,113,33],[99,36,113,34],[100,6,114,4],[100,10,114,8],[100,11,114,9,"pointersInBounds"],[100,27,114,25],[100,30,114,28],[100,32,114,30],[101,4,115,2],[102,2,117,0],[103,2,117,1,"exports"],[103,9,117,1],[103,10,117,1,"default"],[103,17,117,1],[103,20,117,1,"EventManager"],[103,32,117,1],[104,0,117,1]],"functionMap":{"names":["_defineProperty","<global>","EventManager","constructor","onPointerDown","onPointerAdd","onPointerUp","onPointerRemove","onPointerMove","onPointerLeave","onPointerEnter","onPointerCancel","onPointerOutOfBounds","onPointerMoveOver","onPointerMoveOut","setOnPointerDown","setOnPointerAdd","setOnPointerUp","setOnPointerRemove","setOnPointerMove","setOnPointerLeave","setOnPointerEnter","setOnPointerCancel","setOnPointerOutOfBounds","setOnPointerMoveOver","setOnPointerMoveOut","markAsInBounds","markAsOutOfBounds","resetManager"],"mappings":"AAA,iNC;eCG;ECC;GDS;EEE,wBF;EGE,uBH;EIE,sBJ;EKE,0BL;EME,wBN;EOE,yBP;EQG,yBR;ESG;GTI;EUE,+BV;EWE,4BX;EYE,2BZ;EaE;GbE;EcE;GdE;EeE;GfE;EgBE;GhBE;EiBE;GjBE;EkBE;GlBE;EmBE;GnBE;EoBE;GpBE;EqBE;GrBE;EsBE;GtBE;EuBE;GvBE;EwBE;GxBM;EyBE;GzBQ;E0BE;G1BS;CDE"}},"type":"js/module"}]}