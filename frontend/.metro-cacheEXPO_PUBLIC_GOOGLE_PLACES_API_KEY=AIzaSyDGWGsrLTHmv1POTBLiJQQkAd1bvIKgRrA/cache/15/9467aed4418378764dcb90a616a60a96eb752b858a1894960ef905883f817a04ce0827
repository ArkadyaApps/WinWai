{"dependencies":[{"name":"./BlobManager","data":{"asyncType":null,"locs":[{"start":{"line":61,"column":24,"index":1686},"end":{"line":61,"column":48,"index":1710}},{"start":{"line":85,"column":24,"index":2391},"end":{"line":85,"column":48,"index":2415}},{"start":{"line":135,"column":24,"index":4054},"end":{"line":135,"column":48,"index":4078}}],"key":"gSjSnvxPMAlq4OnrEQF+EjqTVsQ="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  'use strict';\n\n  /**\n   * Opaque JS representation of some binary data in native.\n   *\n   * The API is modeled after the W3C Blob API, with one caveat\n   * regarding explicit deallocation. Refer to the `close()`\n   * method for further details.\n   *\n   * Example usage in a React component:\n   *\n   *   class WebSocketImage extends React.Component {\n   *      state = {blob: null};\n   *      componentDidMount() {\n   *        let ws = this.ws = new WebSocket(...);\n   *        ws.binaryType = 'blob';\n   *        ws.onmessage = (event) => {\n   *          if (this.state.blob) {\n   *            this.state.blob.close();\n   *          }\n   *          this.setState({blob: event.data});\n   *        };\n   *      }\n   *      componentUnmount() {\n   *        if (this.state.blob) {\n   *          this.state.blob.close();\n   *        }\n   *        this.ws.close();\n   *      }\n   *      render() {\n   *        if (!this.state.blob) {\n   *          return <View />;\n   *        }\n   *        return <Image source={{uri: URL.createObjectURL(this.state.blob)}} />;\n   *      }\n   *   }\n   *\n   * Reference: https://developer.mozilla.org/en-US/docs/Web/API/Blob\n   */\n  class Blob {\n    /**\n     * Constructor for JS consumers.\n     * Currently we only support creating Blobs from other Blobs.\n     * Reference: https://developer.mozilla.org/en-US/docs/Web/API/Blob/Blob\n     */\n    constructor(parts = [], options) {\n      const BlobManager = require(_dependencyMap[0], \"./BlobManager\");\n      this.data = BlobManager.createFromParts(parts, options).data;\n    }\n\n    /*\n     * This method is used to create a new Blob object containing\n     * the data in the specified range of bytes of the source Blob.\n     * Reference: https://developer.mozilla.org/en-US/docs/Web/API/Blob/slice\n     */\n    // $FlowFixMe[unsafe-getters-setters]\n    set data(data) {\n      this._data = data;\n    }\n\n    // $FlowFixMe[unsafe-getters-setters]\n    get data() {\n      if (!this._data) {\n        throw new Error('Blob has been closed and is no longer available');\n      }\n      return this._data;\n    }\n    slice(start, end, contentType = '') {\n      const BlobManager = require(_dependencyMap[0], \"./BlobManager\");\n      let {\n        offset,\n        size\n      } = this.data;\n      if (typeof start === 'number') {\n        if (start > size) {\n          // $FlowFixMe[reassign-const]\n          start = size;\n        }\n        offset += start;\n        size -= start;\n        if (typeof end === 'number') {\n          if (end < 0) {\n            // $FlowFixMe[reassign-const]\n            end = this.size + end;\n          }\n          if (end > this.size) {\n            // $FlowFixMe[reassign-const]\n            end = this.size;\n          }\n          size = end - start;\n        }\n      }\n      return BlobManager.createFromOptions({\n        blobId: this.data.blobId,\n        offset,\n        size,\n        type: contentType,\n        /* Since `blob.slice()` creates a new view onto the same binary\n         * data as the original blob, we should re-use the same collector\n         * object so that the underlying resource gets deallocated when\n         * the last view into the data is released, not the first.\n         */\n        __collector: this.data.__collector\n      });\n    }\n\n    /**\n     * This method is in the standard, but not actually implemented by\n     * any browsers at this point. It's important for how Blobs work in\n     * React Native, however, since we cannot de-allocate resources automatically,\n     * so consumers need to explicitly de-allocate them.\n     *\n     * Note that the semantics around Blobs created via `blob.slice()`\n     * and `new Blob([blob])` are different. `blob.slice()` creates a\n     * new *view* onto the same binary data, so calling `close()` on any\n     * of those views is enough to deallocate the data, whereas\n     * `new Blob([blob, ...])` actually copies the data in memory.\n     */\n    close() {\n      const BlobManager = require(_dependencyMap[0], \"./BlobManager\");\n      BlobManager.release(this.data.blobId);\n      this.data = null;\n    }\n\n    /**\n     * Size of the data contained in the Blob object, in bytes.\n     */\n    // $FlowFixMe[unsafe-getters-setters]\n    get size() {\n      return this.data.size;\n    }\n\n    /*\n     * String indicating the MIME type of the data contained in the Blob.\n     * If the type is unknown, this string is empty.\n     */\n    // $FlowFixMe[unsafe-getters-setters]\n    get type() {\n      return this.data.type || '';\n    }\n  }\n  module.exports = Blob;\n});","lineCount":154,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,15,0],[15,0,16,0],[16,0,17,0],[17,0,18,0],[18,0,19,0],[19,0,20,0],[20,0,21,0],[21,0,22,0],[22,0,23,0],[23,0,24,0],[24,0,25,0],[25,0,26,0],[26,0,27,0],[27,0,28,0],[28,0,29,0],[29,0,30,0],[30,0,31,0],[31,0,32,0],[32,0,33,0],[33,0,34,0],[34,0,35,0],[35,0,36,0],[36,0,37,0],[37,0,38,0],[38,0,39,0],[39,0,40,0],[40,0,41,0],[41,0,42,0],[42,0,43,0],[43,0,44,0],[44,0,45,0],[45,0,46,0],[46,0,47,0],[47,0,48,0],[48,0,49,0],[49,0,50,0],[50,0,51,0],[51,2,52,0],[51,8,52,6,"Blob"],[51,12,52,10],[51,13,52,11],[52,4,55,2],[53,0,56,0],[54,0,57,0],[55,0,58,0],[56,0,59,0],[57,4,60,2,"constructor"],[57,15,60,13,"constructor"],[57,16,60,14,"parts"],[57,21,60,41],[57,24,60,44],[57,26,60,46],[57,28,60,48,"options"],[57,35,60,69],[57,37,60,71],[58,6,61,4],[58,12,61,10,"BlobManager"],[58,23,61,21],[58,26,61,24,"require"],[58,33,61,31],[58,34,61,31,"_dependencyMap"],[58,48,61,31],[58,68,61,47],[58,69,61,48],[59,6,62,4],[59,10,62,8],[59,11,62,9,"data"],[59,15,62,13],[59,18,62,16,"BlobManager"],[59,29,62,27],[59,30,62,28,"createFromParts"],[59,45,62,43],[59,46,62,44,"parts"],[59,51,62,49],[59,53,62,51,"options"],[59,60,62,58],[59,61,62,59],[59,62,62,60,"data"],[59,66,62,64],[60,4,63,2],[62,4,65,2],[63,0,66,0],[64,0,67,0],[65,0,68,0],[66,0,69,0],[67,4,70,2],[68,4,71,2],[68,8,71,6,"data"],[68,12,71,10,"data"],[68,13,71,11,"data"],[68,17,71,26],[68,19,71,28],[69,6,72,4],[69,10,72,8],[69,11,72,9,"_data"],[69,16,72,14],[69,19,72,17,"data"],[69,23,72,21],[70,4,73,2],[72,4,75,2],[73,4,76,2],[73,8,76,6,"data"],[73,12,76,10,"data"],[73,13,76,10],[73,15,76,23],[74,6,77,4],[74,10,77,8],[74,11,77,9],[74,15,77,13],[74,16,77,14,"_data"],[74,21,77,19],[74,23,77,21],[75,8,78,6],[75,14,78,12],[75,18,78,16,"Error"],[75,23,78,21],[75,24,78,22],[75,73,78,71],[75,74,78,72],[76,6,79,4],[77,6,81,4],[77,13,81,11],[77,17,81,15],[77,18,81,16,"_data"],[77,23,81,21],[78,4,82,2],[79,4,84,2,"slice"],[79,9,84,7,"slice"],[79,10,84,8,"start"],[79,15,84,22],[79,17,84,24,"end"],[79,20,84,36],[79,22,84,38,"contentType"],[79,33,84,57],[79,36,84,60],[79,38,84,62],[79,40,84,70],[80,6,85,4],[80,12,85,10,"BlobManager"],[80,23,85,21],[80,26,85,24,"require"],[80,33,85,31],[80,34,85,31,"_dependencyMap"],[80,48,85,31],[80,68,85,47],[80,69,85,48],[81,6,86,4],[81,10,86,8],[82,8,86,9,"offset"],[82,14,86,15],[83,8,86,17,"size"],[84,6,86,21],[84,7,86,22],[84,10,86,25],[84,14,86,29],[84,15,86,30,"data"],[84,19,86,34],[85,6,88,4],[85,10,88,8],[85,17,88,15,"start"],[85,22,88,20],[85,27,88,25],[85,35,88,33],[85,37,88,35],[86,8,89,6],[86,12,89,10,"start"],[86,17,89,15],[86,20,89,18,"size"],[86,24,89,22],[86,26,89,24],[87,10,90,8],[88,10,91,8,"start"],[88,15,91,13],[88,18,91,16,"size"],[88,22,91,20],[89,8,92,6],[90,8,93,6,"offset"],[90,14,93,12],[90,18,93,16,"start"],[90,23,93,21],[91,8,94,6,"size"],[91,12,94,10],[91,16,94,14,"start"],[91,21,94,19],[92,8,96,6],[92,12,96,10],[92,19,96,17,"end"],[92,22,96,20],[92,27,96,25],[92,35,96,33],[92,37,96,35],[93,10,97,8],[93,14,97,12,"end"],[93,17,97,15],[93,20,97,18],[93,21,97,19],[93,23,97,21],[94,12,98,10],[95,12,99,10,"end"],[95,15,99,13],[95,18,99,16],[95,22,99,20],[95,23,99,21,"size"],[95,27,99,25],[95,30,99,28,"end"],[95,33,99,31],[96,10,100,8],[97,10,101,8],[97,14,101,12,"end"],[97,17,101,15],[97,20,101,18],[97,24,101,22],[97,25,101,23,"size"],[97,29,101,27],[97,31,101,29],[98,12,102,10],[99,12,103,10,"end"],[99,15,103,13],[99,18,103,16],[99,22,103,20],[99,23,103,21,"size"],[99,27,103,25],[100,10,104,8],[101,10,105,8,"size"],[101,14,105,12],[101,17,105,15,"end"],[101,20,105,18],[101,23,105,21,"start"],[101,28,105,26],[102,8,106,6],[103,6,107,4],[104,6,108,4],[104,13,108,11,"BlobManager"],[104,24,108,22],[104,25,108,23,"createFromOptions"],[104,42,108,40],[104,43,108,41],[105,8,109,6,"blobId"],[105,14,109,12],[105,16,109,14],[105,20,109,18],[105,21,109,19,"data"],[105,25,109,23],[105,26,109,24,"blobId"],[105,32,109,30],[106,8,110,6,"offset"],[106,14,110,12],[107,8,111,6,"size"],[107,12,111,10],[108,8,112,6,"type"],[108,12,112,10],[108,14,112,12,"contentType"],[108,25,112,23],[109,8,113,6],[110,0,114,0],[111,0,115,0],[112,0,116,0],[113,0,117,0],[114,8,118,6,"__collector"],[114,19,118,17],[114,21,118,19],[114,25,118,23],[114,26,118,24,"data"],[114,30,118,28],[114,31,118,29,"__collector"],[115,6,119,4],[115,7,119,5],[115,8,119,6],[116,4,120,2],[118,4,122,2],[119,0,123,0],[120,0,124,0],[121,0,125,0],[122,0,126,0],[123,0,127,0],[124,0,128,0],[125,0,129,0],[126,0,130,0],[127,0,131,0],[128,0,132,0],[129,0,133,0],[130,4,134,2,"close"],[130,9,134,7,"close"],[130,10,134,7],[130,12,134,10],[131,6,135,4],[131,12,135,10,"BlobManager"],[131,23,135,21],[131,26,135,24,"require"],[131,33,135,31],[131,34,135,31,"_dependencyMap"],[131,48,135,31],[131,68,135,47],[131,69,135,48],[132,6,136,4,"BlobManager"],[132,17,136,15],[132,18,136,16,"release"],[132,25,136,23],[132,26,136,24],[132,30,136,28],[132,31,136,29,"data"],[132,35,136,33],[132,36,136,34,"blobId"],[132,42,136,40],[132,43,136,41],[133,6,137,4],[133,10,137,8],[133,11,137,9,"data"],[133,15,137,13],[133,18,137,16],[133,22,137,20],[134,4,138,2],[136,4,140,2],[137,0,141,0],[138,0,142,0],[139,4,143,2],[140,4,144,2],[140,8,144,6,"size"],[140,12,144,10,"size"],[140,13,144,10],[140,15,144,21],[141,6,145,4],[141,13,145,11],[141,17,145,15],[141,18,145,16,"data"],[141,22,145,20],[141,23,145,21,"size"],[141,27,145,25],[142,4,146,2],[144,4,148,2],[145,0,149,0],[146,0,150,0],[147,0,151,0],[148,4,152,2],[149,4,153,2],[149,8,153,6,"type"],[149,12,153,10,"type"],[149,13,153,10],[149,15,153,21],[150,6,154,4],[150,13,154,11],[150,17,154,15],[150,18,154,16,"data"],[150,22,154,20],[150,23,154,21,"type"],[150,27,154,25],[150,31,154,29],[150,33,154,31],[151,4,155,2],[152,2,156,0],[153,2,158,0,"module"],[153,8,158,6],[153,9,158,7,"exports"],[153,16,158,14],[153,19,158,17,"Blob"],[153,23,158,21],[154,0,158,22]],"functionMap":{"names":["<global>","Blob","constructor","set__data","get__data","slice","close","get__size","get__type"],"mappings":"AAA;ACmD;ECQ;GDG;EEQ;GFE;EGG;GHM;EIE;GJoC;EKc;GLI;EMM;GNE;EOO;GPE;CDC"}},"type":"js/module"}]}