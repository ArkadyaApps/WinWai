{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  // $FlowFixMe[deprecated-type]\n\n  /**\n   * EventEmitter manages listeners and publishes events to them.\n   *\n   * EventEmitter accepts a single type parameter that defines the valid events\n   * and associated listener argument(s).\n   *\n   * @example\n   *\n   *   const emitter = new EventEmitter<{\n   *     success: [number, string],\n   *     error: [Error],\n   *   }>();\n   *\n   *   emitter.on('success', (statusCode, responseText) => {...});\n   *   emitter.emit('success', 200, '...');\n   *\n   *   emitter.on('error', error => {...});\n   *   emitter.emit('error', new Error('Resource not found'));\n   *\n   */\n  class EventEmitter {\n    #registry = {};\n\n    /**\n     * Registers a listener that is called when the supplied event is emitted.\n     * Returns a subscription that has a `remove` method to undo registration.\n     */\n    addListener(eventType, listener, context) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('EventEmitter.addListener(...): 2nd argument must be a function.');\n      }\n      const registrations = allocate(this.#registry, eventType);\n      const registration = {\n        context,\n        listener,\n        remove() {\n          registrations.delete(registration);\n        }\n      };\n      registrations.add(registration);\n      return registration;\n    }\n\n    /**\n     * Emits the supplied event. Additional arguments supplied to `emit` will be\n     * passed through to each of the registered listeners.\n     *\n     * If a listener modifies the listeners registered for the same event, those\n     * changes will not be reflected in the current invocation of `emit`.\n     */\n    emit(eventType, ...args) {\n      const registrations = this.#registry[eventType];\n      if (registrations != null) {\n        // Copy `registrations` to take a snapshot when we invoke `emit`, in case\n        // registrations are added or removed when listeners are invoked.\n        for (const registration of Array.from(registrations)) {\n          registration.listener.apply(registration.context, args);\n        }\n      }\n    }\n\n    /**\n     * Removes all registered listeners.\n     */\n    removeAllListeners(eventType) {\n      if (eventType == null) {\n        this.#registry = {};\n      } else {\n        delete this.#registry[eventType];\n      }\n    }\n\n    /**\n     * Returns the number of registered listeners for the supplied event.\n     */\n    listenerCount(eventType) {\n      const registrations = this.#registry[eventType];\n      return registrations == null ? 0 : registrations.size;\n    }\n  }\n  exports.default = EventEmitter;\n  function allocate(registry, eventType) {\n    let registrations = registry[eventType];\n    if (registrations == null) {\n      registrations = new Set();\n      registry[eventType] = registrations;\n    }\n    return registrations;\n  }\n});","lineCount":107,"map":[[6,2,1,0],[7,0,2,0],[8,0,3,0],[9,0,4,0],[10,0,5,0],[11,0,6,0],[12,0,7,0],[13,0,8,0],[14,0,9,0],[16,2,38,0],[18,2,44,0],[19,0,45,0],[20,0,46,0],[21,0,47,0],[22,0,48,0],[23,0,49,0],[24,0,50,0],[25,0,51,0],[26,0,52,0],[27,0,53,0],[28,0,54,0],[29,0,55,0],[30,0,56,0],[31,0,57,0],[32,0,58,0],[33,0,59,0],[34,0,60,0],[35,0,61,0],[36,0,62,0],[37,0,63,0],[38,2,64,15],[38,8,64,21,"EventEmitter"],[38,20,64,33],[38,21,66,0],[39,4,67,2],[39,5,67,3,"registry"],[39,13,67,11],[39,16,67,41],[39,17,67,42],[39,18,67,43],[41,4,69,2],[42,0,70,0],[43,0,71,0],[44,0,72,0],[45,4,73,2,"addListener"],[45,15,73,13,"addListener"],[45,16,74,4,"eventType"],[45,25,74,21],[45,27,75,4,"listener"],[45,35,75,57],[45,37,76,4,"context"],[45,44,76,18],[45,46,77,23],[46,6,78,4],[46,10,78,8],[46,17,78,15,"listener"],[46,25,78,23],[46,30,78,28],[46,40,78,38],[46,42,78,40],[47,8,79,6],[47,14,79,12],[47,18,79,16,"TypeError"],[47,27,79,25],[47,28,80,8],[47,93,81,6],[47,94,81,7],[48,6,82,4],[49,6,83,4],[49,12,83,10,"registrations"],[49,25,83,23],[49,28,83,26,"allocate"],[49,36,83,34],[49,37,87,6],[49,41,87,10],[49,42,87,11],[49,43,87,12,"registry"],[49,51,87,20],[49,53,87,22,"eventType"],[49,62,87,31],[49,63,87,32],[50,6,88,4],[50,12,88,10,"registration"],[50,24,88,61],[50,27,88,64],[51,8,89,6,"context"],[51,15,89,13],[52,8,90,6,"listener"],[52,16,90,14],[53,8,91,6,"remove"],[53,14,91,12,"remove"],[53,15,91,12],[53,17,91,21],[54,10,92,8,"registrations"],[54,23,92,21],[54,24,92,22,"delete"],[54,30,92,28],[54,31,92,29,"registration"],[54,43,92,41],[54,44,92,42],[55,8,93,6],[56,6,94,4],[56,7,94,5],[57,6,95,4,"registrations"],[57,19,95,17],[57,20,95,18,"add"],[57,23,95,21],[57,24,95,22,"registration"],[57,36,95,34],[57,37,95,35],[58,6,96,4],[58,13,96,11,"registration"],[58,25,96,23],[59,4,97,2],[61,4,99,2],[62,0,100,0],[63,0,101,0],[64,0,102,0],[65,0,103,0],[66,0,104,0],[67,0,105,0],[68,4,106,2,"emit"],[68,8,106,6,"emit"],[68,9,107,4,"eventType"],[68,18,107,21],[68,20,108,4],[68,23,108,7,"args"],[68,27,108,36],[68,29,109,10],[69,6,110,4],[69,12,110,10,"registrations"],[69,25,110,68],[69,28,111,6],[69,32,111,10],[69,33,111,11],[69,34,111,12,"registry"],[69,42,111,20],[69,43,111,21,"eventType"],[69,52,111,30],[69,53,111,31],[70,6,112,4],[70,10,112,8,"registrations"],[70,23,112,21],[70,27,112,25],[70,31,112,29],[70,33,112,31],[71,8,113,6],[72,8,114,6],[73,8,115,6],[73,13,115,11],[73,19,115,17,"registration"],[73,31,115,29],[73,35,115,33,"Array"],[73,40,115,38],[73,41,115,39,"from"],[73,45,115,43],[73,46,115,44,"registrations"],[73,59,115,57],[73,60,115,58],[73,62,115,60],[74,10,116,8,"registration"],[74,22,116,20],[74,23,116,21,"listener"],[74,31,116,29],[74,32,116,30,"apply"],[74,37,116,35],[74,38,116,36,"registration"],[74,50,116,48],[74,51,116,49,"context"],[74,58,116,56],[74,60,116,58,"args"],[74,64,116,62],[74,65,116,63],[75,8,117,6],[76,6,118,4],[77,4,119,2],[79,4,121,2],[80,0,122,0],[81,0,123,0],[82,4,124,2,"removeAllListeners"],[82,22,124,20,"removeAllListeners"],[82,23,125,4,"eventType"],[82,32,125,23],[82,34,126,10],[83,6,127,4],[83,10,127,8,"eventType"],[83,19,127,17],[83,23,127,21],[83,27,127,25],[83,29,127,27],[84,8,128,6],[84,12,128,10],[84,13,128,11],[84,14,128,12,"registry"],[84,22,128,20],[84,25,128,23],[84,26,128,24],[84,27,128,25],[85,6,129,4],[85,7,129,5],[85,13,129,11],[86,8,130,6],[86,15,130,13],[86,19,130,17],[86,20,130,18],[86,21,130,19,"registry"],[86,29,130,27],[86,30,130,28,"eventType"],[86,39,130,37],[86,40,130,38],[87,6,131,4],[88,4,132,2],[90,4,134,2],[91,0,135,0],[92,0,136,0],[93,4,137,2,"listenerCount"],[93,17,137,15,"listenerCount"],[93,18,137,48,"eventType"],[93,27,137,65],[93,29,137,75],[94,6,138,4],[94,12,138,10,"registrations"],[94,25,138,50],[94,28,138,53],[94,32,138,57],[94,33,138,58],[94,34,138,59,"registry"],[94,42,138,67],[94,43,138,68,"eventType"],[94,52,138,77],[94,53,138,78],[95,6,139,4],[95,13,139,11,"registrations"],[95,26,139,24],[95,30,139,28],[95,34,139,32],[95,37,139,35],[95,38,139,36],[95,41,139,39,"registrations"],[95,54,139,52],[95,55,139,53,"size"],[95,59,139,57],[96,4,140,2],[97,2,141,0],[98,2,141,1,"exports"],[98,9,141,1],[98,10,141,1,"default"],[98,17,141,1],[98,20,141,1,"EventEmitter"],[98,32,141,1],[99,2,143,0],[99,11,143,9,"allocate"],[99,19,143,17,"allocate"],[99,20,148,2,"registry"],[99,28,148,37],[99,30,149,2,"eventType"],[99,39,149,19],[99,41,150,33],[100,4,151,2],[100,8,151,6,"registrations"],[100,21,151,51],[100,24,151,54,"registry"],[100,32,151,62],[100,33,151,63,"eventType"],[100,42,151,72],[100,43,151,73],[101,4,152,2],[101,8,152,6,"registrations"],[101,21,152,19],[101,25,152,23],[101,29,152,27],[101,31,152,29],[102,6,153,4,"registrations"],[102,19,153,17],[102,22,153,20],[102,26,153,24,"Set"],[102,29,153,27],[102,30,153,28],[102,31,153,29],[103,6,154,4,"registry"],[103,14,154,12],[103,15,154,13,"eventType"],[103,24,154,22],[103,25,154,23],[103,28,154,26,"registrations"],[103,41,154,39],[104,4,155,2],[105,4,156,2],[105,11,156,9,"registrations"],[105,24,156,22],[106,2,157,0],[107,0,157,1]],"functionMap":{"names":["<global>","EventEmitter","addListener","registration.remove","emit","removeAllListeners","listenerCount","allocate"],"mappings":"AAA;eC+D;ECS;MCkB;ODE;GDI;EGS;GHa;EIK;GJQ;EKK;GLG;CDC;AOE;CPc"}},"type":"js/module"}]}