{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":181,"column":0,"index":5215}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../NativeAnimatedHelper","data":{"asyncType":null,"locs":[{"start":{"line":20,"column":0,"index":603},"end":{"line":20,"column":59,"index":662}}],"key":"1ezhP5tF6Z9mOXoBZysNLcWfZtg="}},{"name":"../nodes/AnimatedColor","data":{"asyncType":null,"locs":[{"start":{"line":21,"column":0,"index":663},"end":{"line":21,"column":51,"index":714}}],"key":"LYeSMaf81C8Im1YtFhRkG0ToTLY="}},{"name":"./Animation","data":{"asyncType":null,"locs":[{"start":{"line":22,"column":0,"index":715},"end":{"line":22,"column":36,"index":751}}],"key":"9WxVttYJbsm4GySM1jMcLifLq2U="}},{"name":"../Easing","data":{"asyncType":null,"locs":[{"start":{"line":54,"column":19,"index":1366},"end":{"line":54,"column":39,"index":1386}}],"key":"eFakPaTag1iSSL/2c1uFkTGa68c="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  'use strict';\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _NativeAnimatedHelper = _interopRequireDefault(require(_dependencyMap[1], \"../NativeAnimatedHelper\"));\n  var _AnimatedColor = _interopRequireDefault(require(_dependencyMap[2], \"../nodes/AnimatedColor\"));\n  var _Animation = _interopRequireDefault(require(_dependencyMap[3], \"./Animation\"));\n  let _easeInOut;\n  function easeInOut() {\n    if (!_easeInOut) {\n      const Easing = require(_dependencyMap[4], \"../Easing\").default;\n      _easeInOut = Easing.inOut(Easing.ease);\n    }\n    return _easeInOut;\n  }\n  class TimingAnimation extends _Animation.default {\n    constructor(config) {\n      super();\n      this._toValue = config.toValue;\n      this._easing = config.easing ?? easeInOut();\n      this._duration = config.duration ?? 500;\n      this._delay = config.delay ?? 0;\n      this.__iterations = config.iterations ?? 1;\n      this._useNativeDriver = _NativeAnimatedHelper.default.shouldUseNativeDriver(config);\n      this._platformConfig = config.platformConfig;\n      this.__isInteraction = config.isInteraction ?? !this._useNativeDriver;\n    }\n    __getNativeAnimationConfig() {\n      const frameDuration = 1000.0 / 60.0;\n      const frames = [];\n      const numFrames = Math.round(this._duration / frameDuration);\n      for (let frame = 0; frame < numFrames; frame++) {\n        frames.push(this._easing(frame / numFrames));\n      }\n      frames.push(this._easing(1));\n      return {\n        type: 'frames',\n        frames,\n        toValue: this._toValue,\n        iterations: this.__iterations,\n        platformConfig: this._platformConfig\n      };\n    }\n    start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {\n      this.__active = true;\n      this._fromValue = fromValue;\n      this._onUpdate = onUpdate;\n      this.__onEnd = onEnd;\n      const start = () => {\n        if (!this._useNativeDriver && animatedValue.__isNative === true) {\n          throw new Error('Attempting to run JS driven animation on animated node ' + 'that has been moved to \"native\" earlier by starting an ' + 'animation with `useNativeDriver: true`');\n        }\n\n        // Animations that sometimes have 0 duration and sometimes do not\n        // still need to use the native driver when duration is 0 so as to\n        // not cause intermixed JS and native animations.\n        if (this._duration === 0 && !this._useNativeDriver) {\n          this._onUpdate(this._toValue);\n          this.__debouncedOnEnd({\n            finished: true\n          });\n        } else {\n          this._startTime = Date.now();\n          if (this._useNativeDriver) {\n            this.__startNativeAnimation(animatedValue);\n          } else {\n            this._animationFrame = requestAnimationFrame(\n            // $FlowFixMe[method-unbinding] added when improving typing for this parameters\n            this.onUpdate.bind(this));\n          }\n        }\n      };\n      if (this._delay) {\n        this._timeout = setTimeout(start, this._delay);\n      } else {\n        start();\n      }\n    }\n    onUpdate() {\n      const now = Date.now();\n      if (now >= this._startTime + this._duration) {\n        if (this._duration === 0) {\n          this._onUpdate(this._toValue);\n        } else {\n          this._onUpdate(this._fromValue + this._easing(1) * (this._toValue - this._fromValue));\n        }\n        this.__debouncedOnEnd({\n          finished: true\n        });\n        return;\n      }\n      this._onUpdate(this._fromValue + this._easing((now - this._startTime) / this._duration) * (this._toValue - this._fromValue));\n      if (this.__active) {\n        // $FlowFixMe[method-unbinding] added when improving typing for this parameters\n        this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n      }\n    }\n    stop() {\n      super.stop();\n      this.__active = false;\n      clearTimeout(this._timeout);\n      global.cancelAnimationFrame(this._animationFrame);\n      this.__debouncedOnEnd({\n        finished: false\n      });\n    }\n  }\n  exports.default = TimingAnimation;\n});","lineCount":123,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,11,13],[14,6,11,13,"_interopRequireDefault"],[14,28,11,13],[14,31,11,13,"require"],[14,38,11,13],[14,39,11,13,"_dependencyMap"],[14,53,11,13],[15,2,11,13,"Object"],[15,8,11,13],[15,9,11,13,"defineProperty"],[15,23,11,13],[15,24,11,13,"exports"],[15,31,11,13],[16,4,11,13,"value"],[16,9,11,13],[17,2,11,13],[18,2,11,13,"exports"],[18,9,11,13],[18,10,11,13,"default"],[18,17,11,13],[19,2,20,0],[19,6,20,0,"_NativeAnimatedHelper"],[19,27,20,0],[19,30,20,0,"_interopRequireDefault"],[19,52,20,0],[19,53,20,0,"require"],[19,60,20,0],[19,61,20,0,"_dependencyMap"],[19,75,20,0],[20,2,21,0],[20,6,21,0,"_AnimatedColor"],[20,20,21,0],[20,23,21,0,"_interopRequireDefault"],[20,45,21,0],[20,46,21,0,"require"],[20,53,21,0],[20,54,21,0,"_dependencyMap"],[20,68,21,0],[21,2,22,0],[21,6,22,0,"_Animation"],[21,16,22,0],[21,19,22,0,"_interopRequireDefault"],[21,41,22,0],[21,42,22,0,"require"],[21,49,22,0],[21,50,22,0,"_dependencyMap"],[21,64,22,0],[22,2,51,0],[22,6,51,4,"_easeInOut"],[22,16,51,14],[23,2,52,0],[23,11,52,9,"easeInOut"],[23,20,52,18,"easeInOut"],[23,21,52,18],[23,23,52,21],[24,4,53,2],[24,8,53,6],[24,9,53,7,"_easeInOut"],[24,19,53,17],[24,21,53,19],[25,6,54,4],[25,12,54,10,"Easing"],[25,18,54,16],[25,21,54,19,"require"],[25,28,54,26],[25,29,54,26,"_dependencyMap"],[25,43,54,26],[25,59,54,38],[25,60,54,39],[25,61,54,40,"default"],[25,68,54,47],[26,6,55,4,"_easeInOut"],[26,16,55,14],[26,19,55,17,"Easing"],[26,25,55,23],[26,26,55,24,"inOut"],[26,31,55,29],[26,32,55,30,"Easing"],[26,38,55,36],[26,39,55,37,"ease"],[26,43,55,41],[26,44,55,42],[27,4,56,2],[28,4,57,2],[28,11,57,9,"_easeInOut"],[28,21,57,19],[29,2,58,0],[30,2,60,15],[30,8,60,21,"TimingAnimation"],[30,23,60,36],[30,32,60,45,"Animation"],[30,50,60,54],[30,51,60,55],[31,4,73,2,"constructor"],[31,15,73,13,"constructor"],[31,16,73,14,"config"],[31,22,73,49],[31,24,73,51],[32,6,74,4],[32,11,74,9],[32,12,74,10],[32,13,74,11],[33,6,75,4],[33,10,75,8],[33,11,75,9,"_toValue"],[33,19,75,17],[33,22,75,20,"config"],[33,28,75,26],[33,29,75,27,"toValue"],[33,36,75,34],[34,6,76,4],[34,10,76,8],[34,11,76,9,"_easing"],[34,18,76,16],[34,21,76,19,"config"],[34,27,76,25],[34,28,76,26,"easing"],[34,34,76,32],[34,38,76,36,"easeInOut"],[34,47,76,45],[34,48,76,46],[34,49,76,47],[35,6,77,4],[35,10,77,8],[35,11,77,9,"_duration"],[35,20,77,18],[35,23,77,21,"config"],[35,29,77,27],[35,30,77,28,"duration"],[35,38,77,36],[35,42,77,40],[35,45,77,43],[36,6,78,4],[36,10,78,8],[36,11,78,9,"_delay"],[36,17,78,15],[36,20,78,18,"config"],[36,26,78,24],[36,27,78,25,"delay"],[36,32,78,30],[36,36,78,34],[36,37,78,35],[37,6,79,4],[37,10,79,8],[37,11,79,9,"__iterations"],[37,23,79,21],[37,26,79,24,"config"],[37,32,79,30],[37,33,79,31,"iterations"],[37,43,79,41],[37,47,79,45],[37,48,79,46],[38,6,80,4],[38,10,80,8],[38,11,80,9,"_useNativeDriver"],[38,27,80,25],[38,30,80,28,"NativeAnimatedHelper"],[38,59,80,48],[38,60,80,49,"shouldUseNativeDriver"],[38,81,80,70],[38,82,80,71,"config"],[38,88,80,77],[38,89,80,78],[39,6,81,4],[39,10,81,8],[39,11,81,9,"_platformConfig"],[39,26,81,24],[39,29,81,27,"config"],[39,35,81,33],[39,36,81,34,"platformConfig"],[39,50,81,48],[40,6,82,4],[40,10,82,8],[40,11,82,9,"__isInteraction"],[40,26,82,24],[40,29,82,27,"config"],[40,35,82,33],[40,36,82,34,"isInteraction"],[40,49,82,47],[40,53,82,51],[40,54,82,52],[40,58,82,56],[40,59,82,57,"_useNativeDriver"],[40,75,82,73],[41,4,83,2],[42,4,85,2,"__getNativeAnimationConfig"],[42,30,85,28,"__getNativeAnimationConfig"],[42,31,85,28],[42,33,85,36],[43,6,86,4],[43,12,86,10,"frameDuration"],[43,25,86,23],[43,28,86,26],[43,34,86,32],[43,37,86,35],[43,41,86,39],[44,6,87,4],[44,12,87,10,"frames"],[44,18,87,16],[44,21,87,19],[44,23,87,21],[45,6,88,4],[45,12,88,10,"numFrames"],[45,21,88,19],[45,24,88,22,"Math"],[45,28,88,26],[45,29,88,27,"round"],[45,34,88,32],[45,35,88,33],[45,39,88,37],[45,40,88,38,"_duration"],[45,49,88,47],[45,52,88,50,"frameDuration"],[45,65,88,63],[45,66,88,64],[46,6,89,4],[46,11,89,9],[46,15,89,13,"frame"],[46,20,89,18],[46,23,89,21],[46,24,89,22],[46,26,89,24,"frame"],[46,31,89,29],[46,34,89,32,"numFrames"],[46,43,89,41],[46,45,89,43,"frame"],[46,50,89,48],[46,52,89,50],[46,54,89,52],[47,8,90,6,"frames"],[47,14,90,12],[47,15,90,13,"push"],[47,19,90,17],[47,20,90,18],[47,24,90,22],[47,25,90,23,"_easing"],[47,32,90,30],[47,33,90,31,"frame"],[47,38,90,36],[47,41,90,39,"numFrames"],[47,50,90,48],[47,51,90,49],[47,52,90,50],[48,6,91,4],[49,6,92,4,"frames"],[49,12,92,10],[49,13,92,11,"push"],[49,17,92,15],[49,18,92,16],[49,22,92,20],[49,23,92,21,"_easing"],[49,30,92,28],[49,31,92,29],[49,32,92,30],[49,33,92,31],[49,34,92,32],[50,6,93,4],[50,13,93,11],[51,8,94,6,"type"],[51,12,94,10],[51,14,94,12],[51,22,94,20],[52,8,95,6,"frames"],[52,14,95,12],[53,8,96,6,"toValue"],[53,15,96,13],[53,17,96,15],[53,21,96,19],[53,22,96,20,"_toValue"],[53,30,96,28],[54,8,97,6,"iterations"],[54,18,97,16],[54,20,97,18],[54,24,97,22],[54,25,97,23,"__iterations"],[54,37,97,35],[55,8,98,6,"platformConfig"],[55,22,98,20],[55,24,98,22],[55,28,98,26],[55,29,98,27,"_platformConfig"],[56,6,99,4],[56,7,99,5],[57,4,100,2],[58,4,102,2,"start"],[58,9,102,7,"start"],[58,10,103,4,"fromValue"],[58,19,103,21],[58,21,104,4,"onUpdate"],[58,29,104,37],[58,31,105,4,"onEnd"],[58,36,105,23],[58,38,106,4,"previousAnimation"],[58,55,106,33],[58,57,107,4,"animatedValue"],[58,70,107,32],[58,72,108,10],[59,6,109,4],[59,10,109,8],[59,11,109,9,"__active"],[59,19,109,17],[59,22,109,20],[59,26,109,24],[60,6,110,4],[60,10,110,8],[60,11,110,9,"_fromValue"],[60,21,110,19],[60,24,110,22,"fromValue"],[60,33,110,31],[61,6,111,4],[61,10,111,8],[61,11,111,9,"_onUpdate"],[61,20,111,18],[61,23,111,21,"onUpdate"],[61,31,111,29],[62,6,112,4],[62,10,112,8],[62,11,112,9,"__onEnd"],[62,18,112,16],[62,21,112,19,"onEnd"],[62,26,112,24],[63,6,114,4],[63,12,114,10,"start"],[63,17,114,15],[63,20,114,18,"start"],[63,21,114,18],[63,26,114,24],[64,8,115,6],[64,12,115,10],[64,13,115,11],[64,17,115,15],[64,18,115,16,"_useNativeDriver"],[64,34,115,32],[64,38,115,36,"animatedValue"],[64,51,115,49],[64,52,115,50,"__isNative"],[64,62,115,60],[64,67,115,65],[64,71,115,69],[64,73,115,71],[65,10,116,8],[65,16,116,14],[65,20,116,18,"Error"],[65,25,116,23],[65,26,117,10],[65,83,117,67],[65,86,118,12],[65,143,118,69],[65,146,119,12],[65,186,120,8],[65,187,120,9],[66,8,121,6],[68,8,123,6],[69,8,124,6],[70,8,125,6],[71,8,126,6],[71,12,126,10],[71,16,126,14],[71,17,126,15,"_duration"],[71,26,126,24],[71,31,126,29],[71,32,126,30],[71,36,126,34],[71,37,126,35],[71,41,126,39],[71,42,126,40,"_useNativeDriver"],[71,58,126,56],[71,60,126,58],[72,10,127,8],[72,14,127,12],[72,15,127,13,"_onUpdate"],[72,24,127,22],[72,25,127,23],[72,29,127,27],[72,30,127,28,"_toValue"],[72,38,127,36],[72,39,127,37],[73,10,128,8],[73,14,128,12],[73,15,128,13,"__debouncedOnEnd"],[73,31,128,29],[73,32,128,30],[74,12,128,31,"finished"],[74,20,128,39],[74,22,128,41],[75,10,128,45],[75,11,128,46],[75,12,128,47],[76,8,129,6],[76,9,129,7],[76,15,129,13],[77,10,130,8],[77,14,130,12],[77,15,130,13,"_startTime"],[77,25,130,23],[77,28,130,26,"Date"],[77,32,130,30],[77,33,130,31,"now"],[77,36,130,34],[77,37,130,35],[77,38,130,36],[78,10,131,8],[78,14,131,12],[78,18,131,16],[78,19,131,17,"_useNativeDriver"],[78,35,131,33],[78,37,131,35],[79,12,132,10],[79,16,132,14],[79,17,132,15,"__startNativeAnimation"],[79,39,132,37],[79,40,132,38,"animatedValue"],[79,53,132,51],[79,54,132,52],[80,10,133,8],[80,11,133,9],[80,17,133,15],[81,12,134,10],[81,16,134,14],[81,17,134,15,"_animationFrame"],[81,32,134,30],[81,35,134,33,"requestAnimationFrame"],[81,56,134,54],[82,12,135,12],[83,12,136,12],[83,16,136,16],[83,17,136,17,"onUpdate"],[83,25,136,25],[83,26,136,26,"bind"],[83,30,136,30],[83,31,136,31],[83,35,136,35],[83,36,137,10],[83,37,137,11],[84,10,138,8],[85,8,139,6],[86,6,140,4],[86,7,140,5],[87,6,141,4],[87,10,141,8],[87,14,141,12],[87,15,141,13,"_delay"],[87,21,141,19],[87,23,141,21],[88,8,142,6],[88,12,142,10],[88,13,142,11,"_timeout"],[88,21,142,19],[88,24,142,22,"setTimeout"],[88,34,142,32],[88,35,142,33,"start"],[88,40,142,38],[88,42,142,40],[88,46,142,44],[88,47,142,45,"_delay"],[88,53,142,51],[88,54,142,52],[89,6,143,4],[89,7,143,5],[89,13,143,11],[90,8,144,6,"start"],[90,13,144,11],[90,14,144,12],[90,15,144,13],[91,6,145,4],[92,4,146,2],[93,4,148,2,"onUpdate"],[93,12,148,10,"onUpdate"],[93,13,148,10],[93,15,148,19],[94,6,149,4],[94,12,149,10,"now"],[94,15,149,13],[94,18,149,16,"Date"],[94,22,149,20],[94,23,149,21,"now"],[94,26,149,24],[94,27,149,25],[94,28,149,26],[95,6,150,4],[95,10,150,8,"now"],[95,13,150,11],[95,17,150,15],[95,21,150,19],[95,22,150,20,"_startTime"],[95,32,150,30],[95,35,150,33],[95,39,150,37],[95,40,150,38,"_duration"],[95,49,150,47],[95,51,150,49],[96,8,151,6],[96,12,151,10],[96,16,151,14],[96,17,151,15,"_duration"],[96,26,151,24],[96,31,151,29],[96,32,151,30],[96,34,151,32],[97,10,152,8],[97,14,152,12],[97,15,152,13,"_onUpdate"],[97,24,152,22],[97,25,152,23],[97,29,152,27],[97,30,152,28,"_toValue"],[97,38,152,36],[97,39,152,37],[98,8,153,6],[98,9,153,7],[98,15,153,13],[99,10,154,8],[99,14,154,12],[99,15,154,13,"_onUpdate"],[99,24,154,22],[99,25,155,10],[99,29,155,14],[99,30,155,15,"_fromValue"],[99,40,155,25],[99,43,155,28],[99,47,155,32],[99,48,155,33,"_easing"],[99,55,155,40],[99,56,155,41],[99,57,155,42],[99,58,155,43],[99,62,155,47],[99,66,155,51],[99,67,155,52,"_toValue"],[99,75,155,60],[99,78,155,63],[99,82,155,67],[99,83,155,68,"_fromValue"],[99,93,155,78],[99,94,156,8],[99,95,156,9],[100,8,157,6],[101,8,158,6],[101,12,158,10],[101,13,158,11,"__debouncedOnEnd"],[101,29,158,27],[101,30,158,28],[102,10,158,29,"finished"],[102,18,158,37],[102,20,158,39],[103,8,158,43],[103,9,158,44],[103,10,158,45],[104,8,159,6],[105,6,160,4],[106,6,162,4],[106,10,162,8],[106,11,162,9,"_onUpdate"],[106,20,162,18],[106,21,163,6],[106,25,163,10],[106,26,163,11,"_fromValue"],[106,36,163,21],[106,39,164,8],[106,43,164,12],[106,44,164,13,"_easing"],[106,51,164,20],[106,52,164,21],[106,53,164,22,"now"],[106,56,164,25],[106,59,164,28],[106,63,164,32],[106,64,164,33,"_startTime"],[106,74,164,43],[106,78,164,47],[106,82,164,51],[106,83,164,52,"_duration"],[106,92,164,61],[106,93,164,62],[106,97,165,11],[106,101,165,15],[106,102,165,16,"_toValue"],[106,110,165,24],[106,113,165,27],[106,117,165,31],[106,118,165,32,"_fromValue"],[106,128,165,42],[106,129,166,4],[106,130,166,5],[107,6,167,4],[107,10,167,8],[107,14,167,12],[107,15,167,13,"__active"],[107,23,167,21],[107,25,167,23],[108,8,168,6],[109,8,169,6],[109,12,169,10],[109,13,169,11,"_animationFrame"],[109,28,169,26],[109,31,169,29,"requestAnimationFrame"],[109,52,169,50],[109,53,169,51],[109,57,169,55],[109,58,169,56,"onUpdate"],[109,66,169,64],[109,67,169,65,"bind"],[109,71,169,69],[109,72,169,70],[109,76,169,74],[109,77,169,75],[109,78,169,76],[110,6,170,4],[111,4,171,2],[112,4,173,2,"stop"],[112,8,173,6,"stop"],[112,9,173,6],[112,11,173,15],[113,6,174,4],[113,11,174,9],[113,12,174,10,"stop"],[113,16,174,14],[113,17,174,15],[113,18,174,16],[114,6,175,4],[114,10,175,8],[114,11,175,9,"__active"],[114,19,175,17],[114,22,175,20],[114,27,175,25],[115,6,176,4,"clearTimeout"],[115,18,176,16],[115,19,176,17],[115,23,176,21],[115,24,176,22,"_timeout"],[115,32,176,30],[115,33,176,31],[116,6,177,4,"global"],[116,12,177,10],[116,13,177,11,"cancelAnimationFrame"],[116,33,177,31],[116,34,177,32],[116,38,177,36],[116,39,177,37,"_animationFrame"],[116,54,177,52],[116,55,177,53],[117,6,178,4],[117,10,178,8],[117,11,178,9,"__debouncedOnEnd"],[117,27,178,25],[117,28,178,26],[118,8,178,27,"finished"],[118,16,178,35],[118,18,178,37],[119,6,178,42],[119,7,178,43],[119,8,178,44],[120,4,179,2],[121,2,180,0],[122,2,180,1,"exports"],[122,9,180,1],[122,10,180,1,"default"],[122,17,180,1],[122,20,180,1,"TimingAnimation"],[122,35,180,1],[123,0,180,1]],"functionMap":{"names":["<global>","easeInOut","TimingAnimation","constructor","__getNativeAnimationConfig","start","onUpdate","stop"],"mappings":"AAA;ACmD;CDM;eEE;ECa;GDU;EEE;GFe;EGE;GH4C;EIE;GJuB;EKE;GLM;CFC"}},"type":"js/module"}]}