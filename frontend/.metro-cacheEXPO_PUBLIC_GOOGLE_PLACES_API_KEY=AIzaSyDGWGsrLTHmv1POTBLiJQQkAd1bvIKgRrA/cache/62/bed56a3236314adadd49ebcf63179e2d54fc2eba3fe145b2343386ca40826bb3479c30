{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":122,"column":0,"index":3806}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"invariant","data":{"asyncType":null,"locs":[{"start":{"line":11,"column":0,"index":222},"end":{"line":11,"column":34,"index":256}}],"key":"Fzi/BpZws2YooIGJ9b6u0HJtuks="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createStringifySafeWithLimits = createStringifySafeWithLimits;\n  exports.default = void 0;\n  var _invariant = _interopRequireDefault(require(_dependencyMap[1], \"invariant\"));\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * @format\n   * \n   */\n\n  /**\n   * Tries to stringify with JSON.stringify and toString, but catches exceptions\n   * (e.g. from circular objects) and always returns a string and never throws.\n   */\n  function createStringifySafeWithLimits(limits) {\n    const {\n      maxDepth = Number.POSITIVE_INFINITY,\n      maxStringLimit = Number.POSITIVE_INFINITY,\n      maxArrayLimit = Number.POSITIVE_INFINITY,\n      maxObjectKeysLimit = Number.POSITIVE_INFINITY\n    } = limits;\n    const stack = [];\n    /* $FlowFixMe[missing-this-annot] The 'this' type annotation(s) required by\n     * Flow's LTI update could not be added via codemod */\n    function replacer(key, value) {\n      while (stack.length && this !== stack[0]) {\n        stack.shift();\n      }\n      if (typeof value === 'string') {\n        const truncatedString = '...(truncated)...';\n        if (value.length > maxStringLimit + truncatedString.length) {\n          return value.substring(0, maxStringLimit) + truncatedString;\n        }\n        return value;\n      }\n      if (typeof value !== 'object' || value === null) {\n        return value;\n      }\n      let retval = value;\n      if (Array.isArray(value)) {\n        if (stack.length >= maxDepth) {\n          retval = `[ ... array with ${value.length} values ... ]`;\n        } else if (value.length > maxArrayLimit) {\n          retval = value.slice(0, maxArrayLimit).concat([`... extra ${value.length - maxArrayLimit} values truncated ...`]);\n        }\n      } else {\n        // Add refinement after Array.isArray call.\n        (0, _invariant.default)(typeof value === 'object', 'This was already found earlier');\n        let keys = Object.keys(value);\n        if (stack.length >= maxDepth) {\n          retval = `{ ... object with ${keys.length} keys ... }`;\n        } else if (keys.length > maxObjectKeysLimit) {\n          // Return a sample of the keys.\n          retval = {};\n          for (let k of keys.slice(0, maxObjectKeysLimit)) {\n            retval[k] = value[k];\n          }\n          const truncatedKey = '...(truncated keys)...';\n          retval[truncatedKey] = keys.length - maxObjectKeysLimit;\n        }\n      }\n      stack.unshift(retval);\n      return retval;\n    }\n    return function stringifySafe(arg) {\n      if (arg === undefined) {\n        return 'undefined';\n      } else if (arg === null) {\n        return 'null';\n      } else if (typeof arg === 'function') {\n        try {\n          return arg.toString();\n        } catch (e) {\n          return '[function unknown]';\n        }\n      } else if (arg instanceof Error) {\n        return arg.name + ': ' + arg.message;\n      } else {\n        // Perform a try catch, just in case the object has a circular\n        // reference or stringify throws for some other reason.\n        try {\n          const ret = JSON.stringify(arg, replacer);\n          if (ret === undefined) {\n            return '[\"' + typeof arg + '\" failed to stringify]';\n          }\n          return ret;\n        } catch (e) {\n          if (typeof arg.toString === 'function') {\n            try {\n              // $FlowFixMe[incompatible-use] : toString shouldn't take any arguments in general.\n              return arg.toString();\n            } catch (E) {}\n          }\n        }\n      }\n      return '[\"' + typeof arg + '\" failed to stringify]';\n    };\n  }\n  const stringifySafe = createStringifySafeWithLimits({\n    maxDepth: 10,\n    maxStringLimit: 100,\n    maxArrayLimit: 50,\n    maxObjectKeysLimit: 50\n  });\n  var _default = exports.default = stringifySafe;\n});","lineCount":114,"map":[[8,2,11,0],[8,6,11,0,"_invariant"],[8,16,11,0],[8,19,11,0,"_interopRequireDefault"],[8,41,11,0],[8,42,11,0,"require"],[8,49,11,0],[8,50,11,0,"_dependencyMap"],[8,64,11,0],[9,2,1,0],[10,0,2,0],[11,0,3,0],[12,0,4,0],[13,0,5,0],[14,0,6,0],[15,0,7,0],[16,0,8,0],[17,0,9,0],[19,2,13,0],[20,0,14,0],[21,0,15,0],[22,0,16,0],[23,2,17,7],[23,11,17,16,"createStringifySafeWithLimits"],[23,40,17,45,"createStringifySafeWithLimits"],[23,41,17,46,"limits"],[23,47,22,2],[23,49,22,21],[24,4,23,2],[24,10,23,8],[25,6,24,4,"maxDepth"],[25,14,24,12],[25,17,24,15,"Number"],[25,23,24,21],[25,24,24,22,"POSITIVE_INFINITY"],[25,41,24,39],[26,6,25,4,"maxStringLimit"],[26,20,25,18],[26,23,25,21,"Number"],[26,29,25,27],[26,30,25,28,"POSITIVE_INFINITY"],[26,47,25,45],[27,6,26,4,"maxArrayLimit"],[27,19,26,17],[27,22,26,20,"Number"],[27,28,26,26],[27,29,26,27,"POSITIVE_INFINITY"],[27,46,26,44],[28,6,27,4,"maxObjectKeysLimit"],[28,24,27,22],[28,27,27,25,"Number"],[28,33,27,31],[28,34,27,32,"POSITIVE_INFINITY"],[29,4,28,2],[29,5,28,3],[29,8,28,6,"limits"],[29,14,28,12],[30,4,29,2],[30,10,29,8,"stack"],[30,15,29,27],[30,18,29,30],[30,20,29,32],[31,4,30,2],[32,0,31,0],[33,4,32,2],[33,13,32,11,"replacer"],[33,21,32,19,"replacer"],[33,22,32,20,"key"],[33,25,32,31],[33,27,32,33,"value"],[33,32,32,45],[33,34,32,54],[34,6,33,4],[34,13,33,11,"stack"],[34,18,33,16],[34,19,33,17,"length"],[34,25,33,23],[34,29,33,27],[34,33,33,31],[34,38,33,36,"stack"],[34,43,33,41],[34,44,33,42],[34,45,33,43],[34,46,33,44],[34,48,33,46],[35,8,34,6,"stack"],[35,13,34,11],[35,14,34,12,"shift"],[35,19,34,17],[35,20,34,18],[35,21,34,19],[36,6,35,4],[37,6,37,4],[37,10,37,8],[37,17,37,15,"value"],[37,22,37,20],[37,27,37,25],[37,35,37,33],[37,37,37,35],[38,8,38,6],[38,14,38,12,"truncatedString"],[38,29,38,27],[38,32,38,30],[38,51,38,49],[39,8,39,6],[39,12,39,10,"value"],[39,17,39,15],[39,18,39,16,"length"],[39,24,39,22],[39,27,39,25,"maxStringLimit"],[39,41,39,39],[39,44,39,42,"truncatedString"],[39,59,39,57],[39,60,39,58,"length"],[39,66,39,64],[39,68,39,66],[40,10,40,8],[40,17,40,15,"value"],[40,22,40,20],[40,23,40,21,"substring"],[40,32,40,30],[40,33,40,31],[40,34,40,32],[40,36,40,34,"maxStringLimit"],[40,50,40,48],[40,51,40,49],[40,54,40,52,"truncatedString"],[40,69,40,67],[41,8,41,6],[42,8,42,6],[42,15,42,13,"value"],[42,20,42,18],[43,6,43,4],[44,6,44,4],[44,10,44,8],[44,17,44,15,"value"],[44,22,44,20],[44,27,44,25],[44,35,44,33],[44,39,44,37,"value"],[44,44,44,42],[44,49,44,47],[44,53,44,51],[44,55,44,53],[45,8,45,6],[45,15,45,13,"value"],[45,20,45,18],[46,6,46,4],[47,6,48,4],[47,10,48,8,"retval"],[47,16,48,21],[47,19,48,24,"value"],[47,24,48,29],[48,6,49,4],[48,10,49,8,"Array"],[48,15,49,13],[48,16,49,14,"isArray"],[48,23,49,21],[48,24,49,22,"value"],[48,29,49,27],[48,30,49,28],[48,32,49,30],[49,8,50,6],[49,12,50,10,"stack"],[49,17,50,15],[49,18,50,16,"length"],[49,24,50,22],[49,28,50,26,"maxDepth"],[49,36,50,34],[49,38,50,36],[50,10,51,8,"retval"],[50,16,51,14],[50,19,51,17],[50,39,51,37,"value"],[50,44,51,42],[50,45,51,43,"length"],[50,51,51,49],[50,66,51,64],[51,8,52,6],[51,9,52,7],[51,15,52,13],[51,19,52,17,"value"],[51,24,52,22],[51,25,52,23,"length"],[51,31,52,29],[51,34,52,32,"maxArrayLimit"],[51,47,52,45],[51,49,52,47],[52,10,53,8,"retval"],[52,16,53,14],[52,19,53,17,"value"],[52,24,53,22],[52,25,54,11,"slice"],[52,30,54,16],[52,31,54,17],[52,32,54,18],[52,34,54,20,"maxArrayLimit"],[52,47,54,33],[52,48,54,34],[52,49,55,11,"concat"],[52,55,55,17],[52,56,55,18],[52,57,56,12],[52,70,56,25,"value"],[52,75,56,30],[52,76,56,31,"length"],[52,82,56,37],[52,85,56,40,"maxArrayLimit"],[52,98,56,53],[52,121,56,76],[52,122,57,11],[52,123,57,12],[53,8,58,6],[54,6,59,4],[54,7,59,5],[54,13,59,11],[55,8,60,6],[56,8,61,6],[56,12,61,6,"invariant"],[56,30,61,15],[56,32,61,16],[56,39,61,23,"value"],[56,44,61,28],[56,49,61,33],[56,57,61,41],[56,59,61,43],[56,91,61,75],[56,92,61,76],[57,8,62,6],[57,12,62,10,"keys"],[57,16,62,14],[57,19,62,17,"Object"],[57,25,62,23],[57,26,62,24,"keys"],[57,30,62,28],[57,31,62,29,"value"],[57,36,62,34],[57,37,62,35],[58,8,63,6],[58,12,63,10,"stack"],[58,17,63,15],[58,18,63,16,"length"],[58,24,63,22],[58,28,63,26,"maxDepth"],[58,36,63,34],[58,38,63,36],[59,10,64,8,"retval"],[59,16,64,14],[59,19,64,17],[59,40,64,38,"keys"],[59,44,64,42],[59,45,64,43,"length"],[59,51,64,49],[59,64,64,62],[60,8,65,6],[60,9,65,7],[60,15,65,13],[60,19,65,17,"keys"],[60,23,65,21],[60,24,65,22,"length"],[60,30,65,28],[60,33,65,31,"maxObjectKeysLimit"],[60,51,65,49],[60,53,65,51],[61,10,66,8],[62,10,67,8,"retval"],[62,16,67,14],[62,19,67,18],[62,20,67,19],[62,21,67,40],[63,10,68,8],[63,15,68,13],[63,19,68,17,"k"],[63,20,68,18],[63,24,68,22,"keys"],[63,28,68,26],[63,29,68,27,"slice"],[63,34,68,32],[63,35,68,33],[63,36,68,34],[63,38,68,36,"maxObjectKeysLimit"],[63,56,68,54],[63,57,68,55],[63,59,68,57],[64,12,69,10,"retval"],[64,18,69,16],[64,19,69,17,"k"],[64,20,69,18],[64,21,69,19],[64,24,69,22,"value"],[64,29,69,27],[64,30,69,28,"k"],[64,31,69,29],[64,32,69,30],[65,10,70,8],[66,10,71,8],[66,16,71,14,"truncatedKey"],[66,28,71,26],[66,31,71,29],[66,55,71,53],[67,10,72,8,"retval"],[67,16,72,14],[67,17,72,15,"truncatedKey"],[67,29,72,27],[67,30,72,28],[67,33,72,31,"keys"],[67,37,72,35],[67,38,72,36,"length"],[67,44,72,42],[67,47,72,45,"maxObjectKeysLimit"],[67,65,72,63],[68,8,73,6],[69,6,74,4],[70,6,75,4,"stack"],[70,11,75,9],[70,12,75,10,"unshift"],[70,19,75,17],[70,20,75,18,"retval"],[70,26,75,24],[70,27,75,25],[71,6,76,4],[71,13,76,11,"retval"],[71,19,76,17],[72,4,77,2],[73,4,79,2],[73,11,79,9],[73,20,79,18,"stringifySafe"],[73,33,79,31,"stringifySafe"],[73,34,79,32,"arg"],[73,37,79,42],[73,39,79,52],[74,6,80,4],[74,10,80,8,"arg"],[74,13,80,11],[74,18,80,16,"undefined"],[74,27,80,25],[74,29,80,27],[75,8,81,6],[75,15,81,13],[75,26,81,24],[76,6,82,4],[76,7,82,5],[76,13,82,11],[76,17,82,15,"arg"],[76,20,82,18],[76,25,82,23],[76,29,82,27],[76,31,82,29],[77,8,83,6],[77,15,83,13],[77,21,83,19],[78,6,84,4],[78,7,84,5],[78,13,84,11],[78,17,84,15],[78,24,84,22,"arg"],[78,27,84,25],[78,32,84,30],[78,42,84,40],[78,44,84,42],[79,8,85,6],[79,12,85,10],[80,10,86,8],[80,17,86,15,"arg"],[80,20,86,18],[80,21,86,19,"toString"],[80,29,86,27],[80,30,86,28],[80,31,86,29],[81,8,87,6],[81,9,87,7],[81,10,87,8],[81,17,87,15,"e"],[81,18,87,16],[81,20,87,18],[82,10,88,8],[82,17,88,15],[82,37,88,35],[83,8,89,6],[84,6,90,4],[84,7,90,5],[84,13,90,11],[84,17,90,15,"arg"],[84,20,90,18],[84,32,90,30,"Error"],[84,37,90,35],[84,39,90,37],[85,8,91,6],[85,15,91,13,"arg"],[85,18,91,16],[85,19,91,17,"name"],[85,23,91,21],[85,26,91,24],[85,30,91,28],[85,33,91,31,"arg"],[85,36,91,34],[85,37,91,35,"message"],[85,44,91,42],[86,6,92,4],[86,7,92,5],[86,13,92,11],[87,8,93,6],[88,8,94,6],[89,8,95,6],[89,12,95,10],[90,10,96,8],[90,16,96,14,"ret"],[90,19,96,17],[90,22,96,20,"JSON"],[90,26,96,24],[90,27,96,25,"stringify"],[90,36,96,34],[90,37,96,35,"arg"],[90,40,96,38],[90,42,96,40,"replacer"],[90,50,96,48],[90,51,96,49],[91,10,97,8],[91,14,97,12,"ret"],[91,17,97,15],[91,22,97,20,"undefined"],[91,31,97,29],[91,33,97,31],[92,12,98,10],[92,19,98,17],[92,23,98,21],[92,26,98,24],[92,33,98,31,"arg"],[92,36,98,34],[92,39,98,37],[92,63,98,61],[93,10,99,8],[94,10,100,8],[94,17,100,15,"ret"],[94,20,100,18],[95,8,101,6],[95,9,101,7],[95,10,101,8],[95,17,101,15,"e"],[95,18,101,16],[95,20,101,18],[96,10,102,8],[96,14,102,12],[96,21,102,19,"arg"],[96,24,102,22],[96,25,102,23,"toString"],[96,33,102,31],[96,38,102,36],[96,48,102,46],[96,50,102,48],[97,12,103,10],[97,16,103,14],[98,14,104,12],[99,14,105,12],[99,21,105,19,"arg"],[99,24,105,22],[99,25,105,23,"toString"],[99,33,105,31],[99,34,105,32],[99,35,105,33],[100,12,106,10],[100,13,106,11],[100,14,106,12],[100,21,106,19,"E"],[100,22,106,20],[100,24,106,22],[100,25,106,23],[101,10,107,8],[102,8,108,6],[103,6,109,4],[104,6,110,4],[104,13,110,11],[104,17,110,15],[104,20,110,18],[104,27,110,25,"arg"],[104,30,110,28],[104,33,110,31],[104,57,110,55],[105,4,111,2],[105,5,111,3],[106,2,112,0],[107,2,114,0],[107,8,114,6,"stringifySafe"],[107,21,114,36],[107,24,114,39,"createStringifySafeWithLimits"],[107,53,114,68],[107,54,114,69],[108,4,115,2,"maxDepth"],[108,12,115,10],[108,14,115,12],[108,16,115,14],[109,4,116,2,"maxStringLimit"],[109,18,116,16],[109,20,116,18],[109,23,116,21],[110,4,117,2,"maxArrayLimit"],[110,17,117,15],[110,19,117,17],[110,21,117,19],[111,4,118,2,"maxObjectKeysLimit"],[111,22,118,20],[111,24,118,22],[112,2,119,0],[112,3,119,1],[112,4,119,2],[113,2,119,3],[113,6,119,3,"_default"],[113,14,119,3],[113,17,119,3,"exports"],[113,24,119,3],[113,25,119,3,"default"],[113,32,119,3],[113,35,121,15,"stringifySafe"],[113,48,121,28],[114,0,121,28]],"functionMap":{"names":["<global>","createStringifySafeWithLimits","replacer","stringifySafe"],"mappings":"AAA;OCgB;ECe;GD6C;SEE;GFgC;CDC"}},"type":"js/module"}]}