{"dependencies":[{"name":"./ViewConfigIgnore","data":{"asyncType":null,"locs":[{"start":{"line":12,"column":0,"index":290},"end":{"line":12,"column":45,"index":335}}],"key":"BeuUrNqCWAIHigLqPpBLphwDOPU="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.stringifyValidationResult = stringifyValidationResult;\n  exports.validate = validate;\n  var _ViewConfigIgnore = require(_dependencyMap[0], \"./ViewConfigIgnore\");\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  /**\n   * During the migration from native view configs to static view configs, this is\n   * used to validate that the two are equivalent.\n   */\n  function validate(name, nativeViewConfig, staticViewConfig) {\n    const differences = [];\n    accumulateDifferences(differences, [], {\n      bubblingEventTypes: nativeViewConfig.bubblingEventTypes,\n      directEventTypes: nativeViewConfig.directEventTypes,\n      uiViewClassName: nativeViewConfig.uiViewClassName,\n      validAttributes: nativeViewConfig.validAttributes\n    }, {\n      bubblingEventTypes: staticViewConfig.bubblingEventTypes,\n      directEventTypes: staticViewConfig.directEventTypes,\n      uiViewClassName: staticViewConfig.uiViewClassName,\n      validAttributes: staticViewConfig.validAttributes\n    });\n    if (differences.length === 0) {\n      return {\n        type: 'valid'\n      };\n    }\n    return {\n      type: 'invalid',\n      differences\n    };\n  }\n  function stringifyValidationResult(name, validationResult) {\n    const {\n      differences\n    } = validationResult;\n    return [`StaticViewConfigValidator: Invalid static view config for '${name}'.`, '', ...differences.map(difference => {\n      const {\n        type,\n        path\n      } = difference;\n      switch (type) {\n        case 'missing':\n          return `- '${path.join('.')}' is missing.`;\n        case 'unequal':\n          return `- '${path.join('.')}' is the wrong value.`;\n        case 'unexpected':\n          return `- '${path.join('.')}' is present but not expected to be.`;\n      }\n    }), ''].join('\\n');\n  }\n  function accumulateDifferences(differences, path, nativeObject, staticObject) {\n    for (const nativeKey in nativeObject) {\n      const nativeValue = nativeObject[nativeKey];\n      if (!staticObject.hasOwnProperty(nativeKey)) {\n        differences.push({\n          path: [...path, nativeKey],\n          type: 'missing',\n          nativeValue\n        });\n        continue;\n      }\n      const staticValue = staticObject[nativeKey];\n      const nativeValueIfObject = ifObject(nativeValue);\n      if (nativeValueIfObject != null) {\n        const staticValueIfObject = ifObject(staticValue);\n        if (staticValueIfObject != null) {\n          path.push(nativeKey);\n          accumulateDifferences(differences, path, nativeValueIfObject, staticValueIfObject);\n          path.pop();\n          continue;\n        }\n      }\n      if (nativeValue !== staticValue) {\n        differences.push({\n          path: [...path, nativeKey],\n          type: 'unequal',\n          nativeValue,\n          staticValue\n        });\n      }\n    }\n    for (const staticKey in staticObject) {\n      if (!nativeObject.hasOwnProperty(staticKey) && !(0, _ViewConfigIgnore.isIgnored)(staticObject[staticKey])) {\n        differences.push({\n          path: [...path, staticKey],\n          type: 'unexpected',\n          staticValue: staticObject[staticKey]\n        });\n      }\n    }\n  }\n  function ifObject(value) {\n    return typeof value === 'object' && !Array.isArray(value) ? value : null;\n  }\n});","lineCount":108,"map":[[7,2,12,0],[7,6,12,0,"_ViewConfigIgnore"],[7,23,12,0],[7,26,12,0,"require"],[7,33,12,0],[7,34,12,0,"_dependencyMap"],[7,48,12,0],[8,2,1,0],[9,0,2,0],[10,0,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[18,2,41,0],[19,0,42,0],[20,0,43,0],[21,0,44,0],[22,2,45,7],[22,11,45,16,"validate"],[22,19,45,24,"validate"],[22,20,46,2,"name"],[22,24,46,14],[22,26,47,2,"nativeViewConfig"],[22,42,47,30],[22,44,48,2,"staticViewConfig"],[22,60,48,30],[22,62,49,20],[23,4,50,2],[23,10,50,8,"differences"],[23,21,50,38],[23,24,50,41],[23,26,50,43],[24,4,51,2,"accumulateDifferences"],[24,25,51,23],[24,26,52,4,"differences"],[24,37,52,15],[24,39,53,4],[24,41,53,6],[24,43,54,4],[25,6,55,6,"bubblingEventTypes"],[25,24,55,24],[25,26,55,26,"nativeViewConfig"],[25,42,55,42],[25,43,55,43,"bubblingEventTypes"],[25,61,55,61],[26,6,56,6,"directEventTypes"],[26,22,56,22],[26,24,56,24,"nativeViewConfig"],[26,40,56,40],[26,41,56,41,"directEventTypes"],[26,57,56,57],[27,6,57,6,"uiViewClassName"],[27,21,57,21],[27,23,57,23,"nativeViewConfig"],[27,39,57,39],[27,40,57,40,"uiViewClassName"],[27,55,57,55],[28,6,58,6,"validAttributes"],[28,21,58,21],[28,23,58,23,"nativeViewConfig"],[28,39,58,39],[28,40,58,40,"validAttributes"],[29,4,59,4],[29,5,59,5],[29,7,60,4],[30,6,61,6,"bubblingEventTypes"],[30,24,61,24],[30,26,61,26,"staticViewConfig"],[30,42,61,42],[30,43,61,43,"bubblingEventTypes"],[30,61,61,61],[31,6,62,6,"directEventTypes"],[31,22,62,22],[31,24,62,24,"staticViewConfig"],[31,40,62,40],[31,41,62,41,"directEventTypes"],[31,57,62,57],[32,6,63,6,"uiViewClassName"],[32,21,63,21],[32,23,63,23,"staticViewConfig"],[32,39,63,39],[32,40,63,40,"uiViewClassName"],[32,55,63,55],[33,6,64,6,"validAttributes"],[33,21,64,21],[33,23,64,23,"staticViewConfig"],[33,39,64,39],[33,40,64,40,"validAttributes"],[34,4,65,4],[34,5,66,2],[34,6,66,3],[35,4,68,2],[35,8,68,6,"differences"],[35,19,68,17],[35,20,68,18,"length"],[35,26,68,24],[35,31,68,29],[35,32,68,30],[35,34,68,32],[36,6,69,4],[36,13,69,11],[37,8,69,12,"type"],[37,12,69,16],[37,14,69,18],[38,6,69,25],[38,7,69,26],[39,4,70,2],[40,4,72,2],[40,11,72,9],[41,6,73,4,"type"],[41,10,73,8],[41,12,73,10],[41,21,73,19],[42,6,74,4,"differences"],[43,4,75,2],[43,5,75,3],[44,2,76,0],[45,2,78,7],[45,11,78,16,"stringifyValidationResult"],[45,36,78,41,"stringifyValidationResult"],[45,37,79,2,"name"],[45,41,79,14],[45,43,80,2,"validationResult"],[45,59,80,33],[45,61,81,10],[46,4,82,2],[46,10,82,8],[47,6,82,9,"differences"],[48,4,82,20],[48,5,82,21],[48,8,82,24,"validationResult"],[48,24,82,40],[49,4,83,2],[49,11,83,9],[49,12,84,4],[49,74,84,66,"name"],[49,78,84,70],[49,82,84,74],[49,84,85,4],[49,86,85,6],[49,88,86,4],[49,91,86,7,"differences"],[49,102,86,18],[49,103,86,19,"map"],[49,106,86,22],[49,107,86,23,"difference"],[49,117,86,33],[49,121,86,37],[50,6,87,6],[50,12,87,12],[51,8,87,13,"type"],[51,12,87,17],[52,8,87,19,"path"],[53,6,87,23],[53,7,87,24],[53,10,87,27,"difference"],[53,20,87,37],[54,6,88,6],[54,14,88,14,"type"],[54,18,88,18],[55,8,89,8],[55,13,89,13],[55,22,89,22],[56,10,90,10],[56,17,90,17],[56,23,90,23,"path"],[56,27,90,27],[56,28,90,28,"join"],[56,32,90,32],[56,33,90,33],[56,36,90,36],[56,37,90,37],[56,52,90,52],[57,8,91,8],[57,13,91,13],[57,22,91,22],[58,10,92,10],[58,17,92,17],[58,23,92,23,"path"],[58,27,92,27],[58,28,92,28,"join"],[58,32,92,32],[58,33,92,33],[58,36,92,36],[58,37,92,37],[58,60,92,60],[59,8,93,8],[59,13,93,13],[59,25,93,25],[60,10,94,10],[60,17,94,17],[60,23,94,23,"path"],[60,27,94,27],[60,28,94,28,"join"],[60,32,94,32],[60,33,94,33],[60,36,94,36],[60,37,94,37],[60,75,94,75],[61,6,95,6],[62,4,96,4],[62,5,96,5],[62,6,96,6],[62,8,97,4],[62,10,97,6],[62,11,98,3],[62,12,98,4,"join"],[62,16,98,8],[62,17,98,9],[62,21,98,13],[62,22,98,14],[63,2,99,0],[64,2,101,0],[64,11,101,9,"accumulateDifferences"],[64,32,101,30,"accumulateDifferences"],[64,33,102,2,"differences"],[64,44,102,32],[64,46,103,2,"path"],[64,50,103,21],[64,52,104,2,"nativeObject"],[64,64,104,21],[64,66,105,2,"staticObject"],[64,78,105,21],[64,80,106,8],[65,4,107,2],[65,9,107,7],[65,15,107,13,"nativeKey"],[65,24,107,22],[65,28,107,26,"nativeObject"],[65,40,107,38],[65,42,107,40],[66,6,108,4],[66,12,108,10,"nativeValue"],[66,23,108,21],[66,26,108,24,"nativeObject"],[66,38,108,36],[66,39,108,37,"nativeKey"],[66,48,108,46],[66,49,108,47],[67,6,110,4],[67,10,110,8],[67,11,110,9,"staticObject"],[67,23,110,21],[67,24,110,22,"hasOwnProperty"],[67,38,110,36],[67,39,110,37,"nativeKey"],[67,48,110,46],[67,49,110,47],[67,51,110,49],[68,8,111,6,"differences"],[68,19,111,17],[68,20,111,18,"push"],[68,24,111,22],[68,25,111,23],[69,10,112,8,"path"],[69,14,112,12],[69,16,112,14],[69,17,112,15],[69,20,112,18,"path"],[69,24,112,22],[69,26,112,24,"nativeKey"],[69,35,112,33],[69,36,112,34],[70,10,113,8,"type"],[70,14,113,12],[70,16,113,14],[70,25,113,23],[71,10,114,8,"nativeValue"],[72,8,115,6],[72,9,115,7],[72,10,115,8],[73,8,116,6],[74,6,117,4],[75,6,119,4],[75,12,119,10,"staticValue"],[75,23,119,21],[75,26,119,24,"staticObject"],[75,38,119,36],[75,39,119,37,"nativeKey"],[75,48,119,46],[75,49,119,47],[76,6,121,4],[76,12,121,10,"nativeValueIfObject"],[76,31,121,29],[76,34,121,32,"ifObject"],[76,42,121,40],[76,43,121,41,"nativeValue"],[76,54,121,52],[76,55,121,53],[77,6,122,4],[77,10,122,8,"nativeValueIfObject"],[77,29,122,27],[77,33,122,31],[77,37,122,35],[77,39,122,37],[78,8,123,6],[78,14,123,12,"staticValueIfObject"],[78,33,123,31],[78,36,123,34,"ifObject"],[78,44,123,42],[78,45,123,43,"staticValue"],[78,56,123,54],[78,57,123,55],[79,8,124,6],[79,12,124,10,"staticValueIfObject"],[79,31,124,29],[79,35,124,33],[79,39,124,37],[79,41,124,39],[80,10,125,8,"path"],[80,14,125,12],[80,15,125,13,"push"],[80,19,125,17],[80,20,125,18,"nativeKey"],[80,29,125,27],[80,30,125,28],[81,10,126,8,"accumulateDifferences"],[81,31,126,29],[81,32,127,10,"differences"],[81,43,127,21],[81,45,128,10,"path"],[81,49,128,14],[81,51,129,10,"nativeValueIfObject"],[81,70,129,29],[81,72,130,10,"staticValueIfObject"],[81,91,131,8],[81,92,131,9],[82,10,132,8,"path"],[82,14,132,12],[82,15,132,13,"pop"],[82,18,132,16],[82,19,132,17],[82,20,132,18],[83,10,133,8],[84,8,134,6],[85,6,135,4],[86,6,137,4],[86,10,137,8,"nativeValue"],[86,21,137,19],[86,26,137,24,"staticValue"],[86,37,137,35],[86,39,137,37],[87,8,138,6,"differences"],[87,19,138,17],[87,20,138,18,"push"],[87,24,138,22],[87,25,138,23],[88,10,139,8,"path"],[88,14,139,12],[88,16,139,14],[88,17,139,15],[88,20,139,18,"path"],[88,24,139,22],[88,26,139,24,"nativeKey"],[88,35,139,33],[88,36,139,34],[89,10,140,8,"type"],[89,14,140,12],[89,16,140,14],[89,25,140,23],[90,10,141,8,"nativeValue"],[90,21,141,19],[91,10,142,8,"staticValue"],[92,8,143,6],[92,9,143,7],[92,10,143,8],[93,6,144,4],[94,4,145,2],[95,4,147,2],[95,9,147,7],[95,15,147,13,"staticKey"],[95,24,147,22],[95,28,147,26,"staticObject"],[95,40,147,38],[95,42,147,40],[96,6,148,4],[96,10,149,6],[96,11,149,7,"nativeObject"],[96,23,149,19],[96,24,149,20,"hasOwnProperty"],[96,38,149,34],[96,39,149,35,"staticKey"],[96,48,149,44],[96,49,149,45],[96,53,150,6],[96,54,150,7],[96,58,150,7,"isIgnored"],[96,85,150,16],[96,87,150,17,"staticObject"],[96,99,150,29],[96,100,150,30,"staticKey"],[96,109,150,39],[96,110,150,40],[96,111,150,41],[96,113,151,6],[97,8,152,6,"differences"],[97,19,152,17],[97,20,152,18,"push"],[97,24,152,22],[97,25,152,23],[98,10,153,8,"path"],[98,14,153,12],[98,16,153,14],[98,17,153,15],[98,20,153,18,"path"],[98,24,153,22],[98,26,153,24,"staticKey"],[98,35,153,33],[98,36,153,34],[99,10,154,8,"type"],[99,14,154,12],[99,16,154,14],[99,28,154,26],[100,10,155,8,"staticValue"],[100,21,155,19],[100,23,155,21,"staticObject"],[100,35,155,33],[100,36,155,34,"staticKey"],[100,45,155,43],[101,8,156,6],[101,9,156,7],[101,10,156,8],[102,6,157,4],[103,4,158,2],[104,2,159,0],[105,2,161,0],[105,11,161,9,"ifObject"],[105,19,161,17,"ifObject"],[105,20,161,18,"value"],[105,25,161,30],[105,27,161,40],[106,4,162,2],[106,11,162,9],[106,18,162,16,"value"],[106,23,162,21],[106,28,162,26],[106,36,162,34],[106,40,162,38],[106,41,162,39,"Array"],[106,46,162,44],[106,47,162,45,"isArray"],[106,54,162,52],[106,55,162,53,"value"],[106,60,162,58],[106,61,162,59],[106,64,162,62,"value"],[106,69,162,67],[106,72,162,70],[106,76,162,74],[107,2,163,0],[108,0,163,1]],"functionMap":{"names":["<global>","validate","stringifyValidationResult","differences.map$argument_0","accumulateDifferences","ifObject"],"mappings":"AAA;OC4C;CD+B;OEE;uBCQ;KDU;CFG;AIE;CJ0D;AKE;CLE"}},"type":"js/module"}]}