{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":139,"column":51,"index":3304}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../../State","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":36,"index":247}}],"key":"RZfP8U6FoJi8Aycd62dM5Z1WP/M="}},{"name":"./GestureHandler","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":248},"end":{"line":4,"column":46,"index":294}}],"key":"4B0jHrYWz0C4eDQeoenxBlX3gGg="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _State = require(_dependencyMap[1], \"../../State\");\n  var _GestureHandler = _interopRequireDefault(require(_dependencyMap[2], \"./GestureHandler\"));\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  const DEFAULT_MIN_DURATION_MS = 500;\n  const DEFAULT_MAX_DIST_DP = 10;\n  const SCALING_FACTOR = 10;\n  class LongPressGestureHandler extends _GestureHandler.default {\n    constructor() {\n      super(...arguments);\n      _defineProperty(this, \"minDurationMs\", DEFAULT_MIN_DURATION_MS);\n      _defineProperty(this, \"defaultMaxDistSq\", DEFAULT_MAX_DIST_DP * SCALING_FACTOR);\n      _defineProperty(this, \"maxDistSq\", this.defaultMaxDistSq);\n      _defineProperty(this, \"startX\", 0);\n      _defineProperty(this, \"startY\", 0);\n      _defineProperty(this, \"startTime\", 0);\n      _defineProperty(this, \"previousTime\", 0);\n      _defineProperty(this, \"activationTimeout\", void 0);\n    }\n    init(ref, propsRef) {\n      if (this.config.enableContextMenu === undefined) {\n        this.config.enableContextMenu = false;\n      }\n      super.init(ref, propsRef);\n    }\n    transformNativeEvent() {\n      return {\n        ...super.transformNativeEvent(),\n        duration: Date.now() - this.startTime\n      };\n    }\n    updateGestureConfig(_ref) {\n      let {\n        enabled = true,\n        ...props\n      } = _ref;\n      super.updateGestureConfig({\n        enabled: enabled,\n        ...props\n      });\n      if (this.config.minDurationMs !== undefined) {\n        this.minDurationMs = this.config.minDurationMs;\n      }\n      if (this.config.maxDist !== undefined) {\n        this.maxDistSq = this.config.maxDist * this.config.maxDist;\n      }\n    }\n    resetConfig() {\n      super.resetConfig();\n      this.minDurationMs = DEFAULT_MIN_DURATION_MS;\n      this.maxDistSq = this.defaultMaxDistSq;\n    }\n    onStateChange(_newState, _oldState) {\n      clearTimeout(this.activationTimeout);\n    }\n    onPointerDown(event) {\n      if (!this.isButtonInConfig(event.button)) {\n        return;\n      }\n      this.tracker.addToTracker(event);\n      super.onPointerDown(event);\n      this.tryBegin(event);\n      this.tryActivate();\n      this.checkDistanceFail(event);\n    }\n    onPointerMove(event) {\n      super.onPointerMove(event);\n      this.tracker.track(event);\n      this.checkDistanceFail(event);\n    }\n    onPointerUp(event) {\n      super.onPointerUp(event);\n      this.tracker.removeFromTracker(event.pointerId);\n      if (this.currentState === _State.State.ACTIVE) {\n        this.end();\n      } else {\n        this.fail();\n      }\n    }\n    tryBegin(event) {\n      if (this.currentState !== _State.State.UNDETERMINED) {\n        return;\n      }\n      this.previousTime = Date.now();\n      this.startTime = this.previousTime;\n      this.begin();\n      this.startX = event.x;\n      this.startY = event.y;\n    }\n    tryActivate() {\n      if (this.minDurationMs > 0) {\n        this.activationTimeout = setTimeout(() => {\n          this.activate();\n        }, this.minDurationMs);\n      } else if (this.minDurationMs === 0) {\n        this.activate();\n      }\n    }\n    checkDistanceFail(event) {\n      const dx = event.x - this.startX;\n      const dy = event.y - this.startY;\n      const distSq = dx * dx + dy * dy;\n      if (distSq <= this.maxDistSq) {\n        return;\n      }\n      if (this.currentState === _State.State.ACTIVE) {\n        this.cancel();\n      } else {\n        this.fail();\n      }\n    }\n  }\n  exports.default = LongPressGestureHandler;\n});","lineCount":131,"map":[[7,2,3,0],[7,6,3,0,"_State"],[7,12,3,0],[7,15,3,0,"require"],[7,22,3,0],[7,23,3,0,"_dependencyMap"],[7,37,3,0],[8,2,4,0],[8,6,4,0,"_GestureHandler"],[8,21,4,0],[8,24,4,0,"_interopRequireDefault"],[8,46,4,0],[8,47,4,0,"require"],[8,54,4,0],[8,55,4,0,"_dependencyMap"],[8,69,4,0],[9,2,1,0],[9,11,1,9,"_defineProperty"],[9,26,1,24,"_defineProperty"],[9,27,1,25,"obj"],[9,30,1,28],[9,32,1,30,"key"],[9,35,1,33],[9,37,1,35,"value"],[9,42,1,40],[9,44,1,42],[10,4,1,44],[10,8,1,48,"key"],[10,11,1,51],[10,15,1,55,"obj"],[10,18,1,58],[10,20,1,60],[11,6,1,62,"Object"],[11,12,1,68],[11,13,1,69,"defineProperty"],[11,27,1,83],[11,28,1,84,"obj"],[11,31,1,87],[11,33,1,89,"key"],[11,36,1,92],[11,38,1,94],[12,8,1,96,"value"],[12,13,1,101],[12,15,1,103,"value"],[12,20,1,108],[13,8,1,110,"enumerable"],[13,18,1,120],[13,20,1,122],[13,24,1,126],[14,8,1,128,"configurable"],[14,20,1,140],[14,22,1,142],[14,26,1,146],[15,8,1,148,"writable"],[15,16,1,156],[15,18,1,158],[16,6,1,163],[16,7,1,164],[16,8,1,165],[17,4,1,167],[17,5,1,168],[17,11,1,174],[18,6,1,176,"obj"],[18,9,1,179],[18,10,1,180,"key"],[18,13,1,183],[18,14,1,184],[18,17,1,187,"value"],[18,22,1,192],[19,4,1,194],[20,4,1,196],[20,11,1,203,"obj"],[20,14,1,206],[21,2,1,208],[22,2,5,0],[22,8,5,6,"DEFAULT_MIN_DURATION_MS"],[22,31,5,29],[22,34,5,32],[22,37,5,35],[23,2,6,0],[23,8,6,6,"DEFAULT_MAX_DIST_DP"],[23,27,6,25],[23,30,6,28],[23,32,6,30],[24,2,7,0],[24,8,7,6,"SCALING_FACTOR"],[24,22,7,20],[24,25,7,23],[24,27,7,25],[25,2,8,15],[25,8,8,21,"LongPressGestureHandler"],[25,31,8,44],[25,40,8,53,"GestureHandler"],[25,63,8,67],[25,64,8,68],[26,4,9,2,"constructor"],[26,15,9,13,"constructor"],[26,16,9,13],[26,18,9,23],[27,6,10,4],[27,11,10,9],[27,12,10,10],[27,15,10,10,"arguments"],[27,24,10,17],[27,25,10,18],[28,6,12,4,"_defineProperty"],[28,21,12,19],[28,22,12,20],[28,26,12,24],[28,28,12,26],[28,43,12,41],[28,45,12,43,"DEFAULT_MIN_DURATION_MS"],[28,68,12,66],[28,69,12,67],[29,6,14,4,"_defineProperty"],[29,21,14,19],[29,22,14,20],[29,26,14,24],[29,28,14,26],[29,46,14,44],[29,48,14,46,"DEFAULT_MAX_DIST_DP"],[29,67,14,65],[29,70,14,68,"SCALING_FACTOR"],[29,84,14,82],[29,85,14,83],[30,6,16,4,"_defineProperty"],[30,21,16,19],[30,22,16,20],[30,26,16,24],[30,28,16,26],[30,39,16,37],[30,41,16,39],[30,45,16,43],[30,46,16,44,"defaultMaxDistSq"],[30,62,16,60],[30,63,16,61],[31,6,18,4,"_defineProperty"],[31,21,18,19],[31,22,18,20],[31,26,18,24],[31,28,18,26],[31,36,18,34],[31,38,18,36],[31,39,18,37],[31,40,18,38],[32,6,20,4,"_defineProperty"],[32,21,20,19],[32,22,20,20],[32,26,20,24],[32,28,20,26],[32,36,20,34],[32,38,20,36],[32,39,20,37],[32,40,20,38],[33,6,22,4,"_defineProperty"],[33,21,22,19],[33,22,22,20],[33,26,22,24],[33,28,22,26],[33,39,22,37],[33,41,22,39],[33,42,22,40],[33,43,22,41],[34,6,24,4,"_defineProperty"],[34,21,24,19],[34,22,24,20],[34,26,24,24],[34,28,24,26],[34,42,24,40],[34,44,24,42],[34,45,24,43],[34,46,24,44],[35,6,26,4,"_defineProperty"],[35,21,26,19],[35,22,26,20],[35,26,26,24],[35,28,26,26],[35,47,26,45],[35,49,26,47],[35,54,26,52],[35,55,26,53],[35,56,26,54],[36,4,27,2],[37,4,29,2,"init"],[37,8,29,6,"init"],[37,9,29,7,"ref"],[37,12,29,10],[37,14,29,12,"propsRef"],[37,22,29,20],[37,24,29,22],[38,6,30,4],[38,10,30,8],[38,14,30,12],[38,15,30,13,"config"],[38,21,30,19],[38,22,30,20,"enableContextMenu"],[38,39,30,37],[38,44,30,42,"undefined"],[38,53,30,51],[38,55,30,53],[39,8,31,6],[39,12,31,10],[39,13,31,11,"config"],[39,19,31,17],[39,20,31,18,"enableContextMenu"],[39,37,31,35],[39,40,31,38],[39,45,31,43],[40,6,32,4],[41,6,34,4],[41,11,34,9],[41,12,34,10,"init"],[41,16,34,14],[41,17,34,15,"ref"],[41,20,34,18],[41,22,34,20,"propsRef"],[41,30,34,28],[41,31,34,29],[42,4,35,2],[43,4,37,2,"transformNativeEvent"],[43,24,37,22,"transformNativeEvent"],[43,25,37,22],[43,27,37,25],[44,6,38,4],[44,13,38,11],[45,8,38,13],[45,11,38,16],[45,16,38,21],[45,17,38,22,"transformNativeEvent"],[45,37,38,42],[45,38,38,43],[45,39,38,44],[46,8,39,6,"duration"],[46,16,39,14],[46,18,39,16,"Date"],[46,22,39,20],[46,23,39,21,"now"],[46,26,39,24],[46,27,39,25],[46,28,39,26],[46,31,39,29],[46,35,39,33],[46,36,39,34,"startTime"],[47,6,40,4],[47,7,40,5],[48,4,41,2],[49,4,43,2,"updateGestureConfig"],[49,23,43,21,"updateGestureConfig"],[49,24,43,21,"_ref"],[49,28,43,21],[49,30,46,5],[50,6,46,5],[50,10,43,22],[51,8,44,4,"enabled"],[51,15,44,11],[51,18,44,14],[51,22,44,18],[52,8,45,4],[52,11,45,7,"props"],[53,6,46,2],[53,7,46,3],[53,10,46,3,"_ref"],[53,14,46,3],[54,6,47,4],[54,11,47,9],[54,12,47,10,"updateGestureConfig"],[54,31,47,29],[54,32,47,30],[55,8,48,6,"enabled"],[55,15,48,13],[55,17,48,15,"enabled"],[55,24,48,22],[56,8,49,6],[56,11,49,9,"props"],[57,6,50,4],[57,7,50,5],[57,8,50,6],[58,6,52,4],[58,10,52,8],[58,14,52,12],[58,15,52,13,"config"],[58,21,52,19],[58,22,52,20,"minDurationMs"],[58,35,52,33],[58,40,52,38,"undefined"],[58,49,52,47],[58,51,52,49],[59,8,53,6],[59,12,53,10],[59,13,53,11,"minDurationMs"],[59,26,53,24],[59,29,53,27],[59,33,53,31],[59,34,53,32,"config"],[59,40,53,38],[59,41,53,39,"minDurationMs"],[59,54,53,52],[60,6,54,4],[61,6,56,4],[61,10,56,8],[61,14,56,12],[61,15,56,13,"config"],[61,21,56,19],[61,22,56,20,"maxDist"],[61,29,56,27],[61,34,56,32,"undefined"],[61,43,56,41],[61,45,56,43],[62,8,57,6],[62,12,57,10],[62,13,57,11,"maxDistSq"],[62,22,57,20],[62,25,57,23],[62,29,57,27],[62,30,57,28,"config"],[62,36,57,34],[62,37,57,35,"maxDist"],[62,44,57,42],[62,47,57,45],[62,51,57,49],[62,52,57,50,"config"],[62,58,57,56],[62,59,57,57,"maxDist"],[62,66,57,64],[63,6,58,4],[64,4,59,2],[65,4,61,2,"resetConfig"],[65,15,61,13,"resetConfig"],[65,16,61,13],[65,18,61,16],[66,6,62,4],[66,11,62,9],[66,12,62,10,"resetConfig"],[66,23,62,21],[66,24,62,22],[66,25,62,23],[67,6,63,4],[67,10,63,8],[67,11,63,9,"minDurationMs"],[67,24,63,22],[67,27,63,25,"DEFAULT_MIN_DURATION_MS"],[67,50,63,48],[68,6,64,4],[68,10,64,8],[68,11,64,9,"maxDistSq"],[68,20,64,18],[68,23,64,21],[68,27,64,25],[68,28,64,26,"defaultMaxDistSq"],[68,44,64,42],[69,4,65,2],[70,4,67,2,"onStateChange"],[70,17,67,15,"onStateChange"],[70,18,67,16,"_newState"],[70,27,67,25],[70,29,67,27,"_oldState"],[70,38,67,36],[70,40,67,38],[71,6,68,4,"clearTimeout"],[71,18,68,16],[71,19,68,17],[71,23,68,21],[71,24,68,22,"activationTimeout"],[71,41,68,39],[71,42,68,40],[72,4,69,2],[73,4,71,2,"onPointerDown"],[73,17,71,15,"onPointerDown"],[73,18,71,16,"event"],[73,23,71,21],[73,25,71,23],[74,6,72,4],[74,10,72,8],[74,11,72,9],[74,15,72,13],[74,16,72,14,"isButtonInConfig"],[74,32,72,30],[74,33,72,31,"event"],[74,38,72,36],[74,39,72,37,"button"],[74,45,72,43],[74,46,72,44],[74,48,72,46],[75,8,73,6],[76,6,74,4],[77,6,76,4],[77,10,76,8],[77,11,76,9,"tracker"],[77,18,76,16],[77,19,76,17,"addToTracker"],[77,31,76,29],[77,32,76,30,"event"],[77,37,76,35],[77,38,76,36],[78,6,77,4],[78,11,77,9],[78,12,77,10,"onPointerDown"],[78,25,77,23],[78,26,77,24,"event"],[78,31,77,29],[78,32,77,30],[79,6,78,4],[79,10,78,8],[79,11,78,9,"tryBegin"],[79,19,78,17],[79,20,78,18,"event"],[79,25,78,23],[79,26,78,24],[80,6,79,4],[80,10,79,8],[80,11,79,9,"tryActivate"],[80,22,79,20],[80,23,79,21],[80,24,79,22],[81,6,80,4],[81,10,80,8],[81,11,80,9,"checkDistanceFail"],[81,28,80,26],[81,29,80,27,"event"],[81,34,80,32],[81,35,80,33],[82,4,81,2],[83,4,83,2,"onPointerMove"],[83,17,83,15,"onPointerMove"],[83,18,83,16,"event"],[83,23,83,21],[83,25,83,23],[84,6,84,4],[84,11,84,9],[84,12,84,10,"onPointerMove"],[84,25,84,23],[84,26,84,24,"event"],[84,31,84,29],[84,32,84,30],[85,6,85,4],[85,10,85,8],[85,11,85,9,"tracker"],[85,18,85,16],[85,19,85,17,"track"],[85,24,85,22],[85,25,85,23,"event"],[85,30,85,28],[85,31,85,29],[86,6,86,4],[86,10,86,8],[86,11,86,9,"checkDistanceFail"],[86,28,86,26],[86,29,86,27,"event"],[86,34,86,32],[86,35,86,33],[87,4,87,2],[88,4,89,2,"onPointerUp"],[88,15,89,13,"onPointerUp"],[88,16,89,14,"event"],[88,21,89,19],[88,23,89,21],[89,6,90,4],[89,11,90,9],[89,12,90,10,"onPointerUp"],[89,23,90,21],[89,24,90,22,"event"],[89,29,90,27],[89,30,90,28],[90,6,91,4],[90,10,91,8],[90,11,91,9,"tracker"],[90,18,91,16],[90,19,91,17,"removeFromTracker"],[90,36,91,34],[90,37,91,35,"event"],[90,42,91,40],[90,43,91,41,"pointerId"],[90,52,91,50],[90,53,91,51],[91,6,93,4],[91,10,93,8],[91,14,93,12],[91,15,93,13,"currentState"],[91,27,93,25],[91,32,93,30,"State"],[91,44,93,35],[91,45,93,36,"ACTIVE"],[91,51,93,42],[91,53,93,44],[92,8,94,6],[92,12,94,10],[92,13,94,11,"end"],[92,16,94,14],[92,17,94,15],[92,18,94,16],[93,6,95,4],[93,7,95,5],[93,13,95,11],[94,8,96,6],[94,12,96,10],[94,13,96,11,"fail"],[94,17,96,15],[94,18,96,16],[94,19,96,17],[95,6,97,4],[96,4,98,2],[97,4,100,2,"tryBegin"],[97,12,100,10,"tryBegin"],[97,13,100,11,"event"],[97,18,100,16],[97,20,100,18],[98,6,101,4],[98,10,101,8],[98,14,101,12],[98,15,101,13,"currentState"],[98,27,101,25],[98,32,101,30,"State"],[98,44,101,35],[98,45,101,36,"UNDETERMINED"],[98,57,101,48],[98,59,101,50],[99,8,102,6],[100,6,103,4],[101,6,105,4],[101,10,105,8],[101,11,105,9,"previousTime"],[101,23,105,21],[101,26,105,24,"Date"],[101,30,105,28],[101,31,105,29,"now"],[101,34,105,32],[101,35,105,33],[101,36,105,34],[102,6,106,4],[102,10,106,8],[102,11,106,9,"startTime"],[102,20,106,18],[102,23,106,21],[102,27,106,25],[102,28,106,26,"previousTime"],[102,40,106,38],[103,6,107,4],[103,10,107,8],[103,11,107,9,"begin"],[103,16,107,14],[103,17,107,15],[103,18,107,16],[104,6,108,4],[104,10,108,8],[104,11,108,9,"startX"],[104,17,108,15],[104,20,108,18,"event"],[104,25,108,23],[104,26,108,24,"x"],[104,27,108,25],[105,6,109,4],[105,10,109,8],[105,11,109,9,"startY"],[105,17,109,15],[105,20,109,18,"event"],[105,25,109,23],[105,26,109,24,"y"],[105,27,109,25],[106,4,110,2],[107,4,112,2,"tryActivate"],[107,15,112,13,"tryActivate"],[107,16,112,13],[107,18,112,16],[108,6,113,4],[108,10,113,8],[108,14,113,12],[108,15,113,13,"minDurationMs"],[108,28,113,26],[108,31,113,29],[108,32,113,30],[108,34,113,32],[109,8,114,6],[109,12,114,10],[109,13,114,11,"activationTimeout"],[109,30,114,28],[109,33,114,31,"setTimeout"],[109,43,114,41],[109,44,114,42],[109,50,114,48],[110,10,115,8],[110,14,115,12],[110,15,115,13,"activate"],[110,23,115,21],[110,24,115,22],[110,25,115,23],[111,8,116,6],[111,9,116,7],[111,11,116,9],[111,15,116,13],[111,16,116,14,"minDurationMs"],[111,29,116,27],[111,30,116,28],[112,6,117,4],[112,7,117,5],[112,13,117,11],[112,17,117,15],[112,21,117,19],[112,22,117,20,"minDurationMs"],[112,35,117,33],[112,40,117,38],[112,41,117,39],[112,43,117,41],[113,8,118,6],[113,12,118,10],[113,13,118,11,"activate"],[113,21,118,19],[113,22,118,20],[113,23,118,21],[114,6,119,4],[115,4,120,2],[116,4,122,2,"checkDistanceFail"],[116,21,122,19,"checkDistanceFail"],[116,22,122,20,"event"],[116,27,122,25],[116,29,122,27],[117,6,123,4],[117,12,123,10,"dx"],[117,14,123,12],[117,17,123,15,"event"],[117,22,123,20],[117,23,123,21,"x"],[117,24,123,22],[117,27,123,25],[117,31,123,29],[117,32,123,30,"startX"],[117,38,123,36],[118,6,124,4],[118,12,124,10,"dy"],[118,14,124,12],[118,17,124,15,"event"],[118,22,124,20],[118,23,124,21,"y"],[118,24,124,22],[118,27,124,25],[118,31,124,29],[118,32,124,30,"startY"],[118,38,124,36],[119,6,125,4],[119,12,125,10,"distSq"],[119,18,125,16],[119,21,125,19,"dx"],[119,23,125,21],[119,26,125,24,"dx"],[119,28,125,26],[119,31,125,29,"dy"],[119,33,125,31],[119,36,125,34,"dy"],[119,38,125,36],[120,6,127,4],[120,10,127,8,"distSq"],[120,16,127,14],[120,20,127,18],[120,24,127,22],[120,25,127,23,"maxDistSq"],[120,34,127,32],[120,36,127,34],[121,8,128,6],[122,6,129,4],[123,6,131,4],[123,10,131,8],[123,14,131,12],[123,15,131,13,"currentState"],[123,27,131,25],[123,32,131,30,"State"],[123,44,131,35],[123,45,131,36,"ACTIVE"],[123,51,131,42],[123,53,131,44],[124,8,132,6],[124,12,132,10],[124,13,132,11,"cancel"],[124,19,132,17],[124,20,132,18],[124,21,132,19],[125,6,133,4],[125,7,133,5],[125,13,133,11],[126,8,134,6],[126,12,134,10],[126,13,134,11,"fail"],[126,17,134,15],[126,18,134,16],[126,19,134,17],[127,6,135,4],[128,4,136,2],[129,2,138,0],[130,2,138,1,"exports"],[130,9,138,1],[130,10,138,1,"default"],[130,17,138,1],[130,20,138,1,"LongPressGestureHandler"],[130,43,138,1],[131,0,138,1]],"functionMap":{"names":["_defineProperty","<global>","LongPressGestureHandler","constructor","init","transformNativeEvent","updateGestureConfig","resetConfig","onStateChange","onPointerDown","onPointerMove","onPointerUp","tryBegin","tryActivate","setTimeout$argument_0","checkDistanceFail"],"mappings":"AAA,iNC;eCO;ECC;GDkB;EEE;GFM;EGE;GHI;EIE;GJgB;EKE;GLI;EME;GNE;EOE;GPU;EQE;GRI;ESE;GTS;EUE;GVU;EWE;0CCE;ODE;GXI;EaE;Gbc;CDE"}},"type":"js/module"}]}