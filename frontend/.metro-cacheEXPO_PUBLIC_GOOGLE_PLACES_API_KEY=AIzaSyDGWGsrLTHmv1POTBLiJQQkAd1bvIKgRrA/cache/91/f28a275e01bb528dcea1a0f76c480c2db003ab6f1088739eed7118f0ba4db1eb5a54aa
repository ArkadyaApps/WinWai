{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":350,"column":0,"index":10102}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"./ListMetricsAggregator","data":{"asyncType":null,"locs":[{"start":{"line":15,"column":0,"index":293},"end":{"line":15,"column":60,"index":353}}],"key":"B6XNBZp4i+zmTikMWPAwbp+lOt8="}},{"name":"invariant","data":{"asyncType":null,"locs":[{"start":{"line":17,"column":18,"index":373},"end":{"line":17,"column":38,"index":393}}],"key":"Fzi/BpZws2YooIGJ9b6u0HJtuks="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  'use strict';\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  var _ListMetricsAggregator = _interopRequireDefault(require(_dependencyMap[1], \"./ListMetricsAggregator\"));\n  const invariant = require(_dependencyMap[2], \"invariant\");\n  /**\n   * A Utility class for calculating viewable items based on current metrics like scroll position and\n   * layout.\n   *\n   * An item is said to be in a \"viewable\" state when any of the following\n   * is true for longer than `minimumViewTime` milliseconds (after an interaction if `waitForInteraction`\n   * is true):\n   *\n   * - Occupying >= `viewAreaCoveragePercentThreshold` of the view area XOR fraction of the item\n   *   visible in the view area >= `itemVisiblePercentThreshold`.\n   * - Entirely visible on screen\n   */\n  class ViewabilityHelper {\n    _hasInteracted = false;\n    _timers = new Set();\n    _viewableIndices = [];\n    _viewableItems = new Map();\n    constructor(config = {\n      viewAreaCoveragePercentThreshold: 0\n    }) {\n      this._config = config;\n    }\n\n    /**\n     * Cleanup, e.g. on unmount. Clears any pending timers.\n     */\n    dispose() {\n      /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n       * comment suppresses an error found when Flow v0.63 was deployed. To see\n       * the error delete this comment and run Flow. */\n      this._timers.forEach(clearTimeout);\n    }\n\n    /**\n     * Determines which items are viewable based on the current metrics and config.\n     */\n    computeViewableItems(props, scrollOffset, viewportHeight, listMetrics,\n    // Optional optimization to reduce the scan size\n    renderRange) {\n      const itemCount = props.getItemCount(props.data);\n      const {\n        itemVisiblePercentThreshold,\n        viewAreaCoveragePercentThreshold\n      } = this._config;\n      const viewAreaMode = viewAreaCoveragePercentThreshold != null;\n      const viewablePercentThreshold = viewAreaMode ? viewAreaCoveragePercentThreshold : itemVisiblePercentThreshold;\n      invariant(viewablePercentThreshold != null && itemVisiblePercentThreshold != null !== (viewAreaCoveragePercentThreshold != null), 'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');\n      const viewableIndices = [];\n      if (itemCount === 0) {\n        return viewableIndices;\n      }\n      let firstVisible = -1;\n      const {\n        first,\n        last\n      } = renderRange || {\n        first: 0,\n        last: itemCount - 1\n      };\n      if (last >= itemCount) {\n        console.warn('Invalid render range computing viewability ' + JSON.stringify({\n          renderRange,\n          itemCount\n        }));\n        return [];\n      }\n      for (let idx = first; idx <= last; idx++) {\n        const metrics = listMetrics.getCellMetrics(idx, props);\n        if (!metrics) {\n          continue;\n        }\n        const top = Math.floor(metrics.offset - scrollOffset);\n        const bottom = Math.floor(top + metrics.length);\n        if (top < viewportHeight && bottom > 0) {\n          firstVisible = idx;\n          if (_isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, metrics.length)) {\n            viewableIndices.push(idx);\n          }\n        } else if (firstVisible >= 0) {\n          break;\n        }\n      }\n      return viewableIndices;\n    }\n\n    /**\n     * Figures out which items are viewable and how that has changed from before and calls\n     * `onViewableItemsChanged` as appropriate.\n     */\n    onUpdate(props, scrollOffset, viewportHeight, listMetrics, createViewToken, onViewableItemsChanged,\n    // Optional optimization to reduce the scan size\n    renderRange) {\n      const itemCount = props.getItemCount(props.data);\n      if (this._config.waitForInteraction && !this._hasInteracted || itemCount === 0 || !listMetrics.getCellMetrics(0, props)) {\n        return;\n      }\n      let viewableIndices = [];\n      if (itemCount) {\n        viewableIndices = this.computeViewableItems(props, scrollOffset, viewportHeight, listMetrics, renderRange);\n      }\n      if (this._viewableIndices.length === viewableIndices.length && this._viewableIndices.every((v, ii) => v === viewableIndices[ii])) {\n        // We might get a lot of scroll events where visibility doesn't change and we don't want to do\n        // extra work in those cases.\n        return;\n      }\n      this._viewableIndices = viewableIndices;\n      if (this._config.minimumViewTime) {\n        const handle = setTimeout(() => {\n          /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n           * comment suppresses an error found when Flow v0.63 was deployed. To\n           * see the error delete this comment and run Flow. */\n          this._timers.delete(handle);\n          this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n        }, this._config.minimumViewTime);\n        /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n         * comment suppresses an error found when Flow v0.63 was deployed. To see\n         * the error delete this comment and run Flow. */\n        this._timers.add(handle);\n      } else {\n        this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n      }\n    }\n\n    /**\n     * clean-up cached _viewableIndices to evaluate changed items on next update\n     */\n    resetViewableIndices() {\n      this._viewableIndices = [];\n    }\n\n    /**\n     * Records that an interaction has happened even if there has been no scroll.\n     */\n    recordInteraction() {\n      this._hasInteracted = true;\n    }\n    _onUpdateSync(props, viewableIndicesToCheck, onViewableItemsChanged, createViewToken) {\n      // Filter out indices that have gone out of view since this call was scheduled.\n      viewableIndicesToCheck = viewableIndicesToCheck.filter(ii => this._viewableIndices.includes(ii));\n      const prevItems = this._viewableItems;\n      const nextItems = new Map(viewableIndicesToCheck.map(ii => {\n        const viewable = createViewToken(ii, true, props);\n        return [viewable.key, viewable];\n      }));\n      const changed = [];\n      for (const [key, viewable] of nextItems) {\n        if (!prevItems.has(key)) {\n          changed.push(viewable);\n        }\n      }\n      for (const [key, viewable] of prevItems) {\n        if (!nextItems.has(key)) {\n          changed.push({\n            ...viewable,\n            isViewable: false\n          });\n        }\n      }\n      if (changed.length > 0) {\n        this._viewableItems = nextItems;\n        onViewableItemsChanged({\n          viewableItems: Array.from(nextItems.values()),\n          changed,\n          viewabilityConfig: this._config\n        });\n      }\n    }\n  }\n  function _isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, itemLength) {\n    if (_isEntirelyVisible(top, bottom, viewportHeight)) {\n      return true;\n    } else {\n      const pixels = _getPixelsVisible(top, bottom, viewportHeight);\n      const percent = 100 * (viewAreaMode ? pixels / viewportHeight : pixels / itemLength);\n      return percent >= viewablePercentThreshold;\n    }\n  }\n  function _getPixelsVisible(top, bottom, viewportHeight) {\n    const visibleHeight = Math.min(bottom, viewportHeight) - Math.max(top, 0);\n    return Math.max(0, visibleHeight);\n  }\n  function _isEntirelyVisible(top, bottom, viewportHeight) {\n    return top >= 0 && bottom <= viewportHeight && bottom > top;\n  }\n  module.exports = ViewabilityHelper;\n});","lineCount":202,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,11,13],[14,6,11,13,"_interopRequireDefault"],[14,28,11,13],[14,31,11,13,"require"],[14,38,11,13],[14,39,11,13,"_dependencyMap"],[14,53,11,13],[15,2,15,0],[15,6,15,0,"_ListMetricsAggregator"],[15,28,15,0],[15,31,15,0,"_interopRequireDefault"],[15,53,15,0],[15,54,15,0,"require"],[15,61,15,0],[15,62,15,0,"_dependencyMap"],[15,76,15,0],[16,2,17,0],[16,8,17,6,"invariant"],[16,17,17,15],[16,20,17,18,"require"],[16,27,17,25],[16,28,17,25,"_dependencyMap"],[16,42,17,25],[16,58,17,37],[16,59,17,38],[17,2,67,0],[18,0,68,0],[19,0,69,0],[20,0,70,0],[21,0,71,0],[22,0,72,0],[23,0,73,0],[24,0,74,0],[25,0,75,0],[26,0,76,0],[27,0,77,0],[28,0,78,0],[29,2,79,0],[29,8,79,6,"ViewabilityHelper"],[29,25,79,23],[29,26,79,24],[30,4,81,2,"_hasInteracted"],[30,18,81,16],[30,21,81,28],[30,26,81,33],[31,4,82,2,"_timers"],[31,11,82,9],[31,14,82,25],[31,18,82,29,"Set"],[31,21,82,32],[31,22,82,33],[31,23,82,34],[32,4,83,2,"_viewableIndices"],[32,20,83,18],[32,23,83,36],[32,25,83,38],[33,4,84,2,"_viewableItems"],[33,18,84,16],[33,21,84,43],[33,25,84,47,"Map"],[33,28,84,50],[33,29,84,51],[33,30,84,52],[34,4,86,2,"constructor"],[34,15,86,13,"constructor"],[34,16,87,4,"config"],[34,22,87,29],[34,25,87,32],[35,6,87,33,"viewAreaCoveragePercentThreshold"],[35,38,87,65],[35,40,87,67],[36,4,87,68],[36,5,87,69],[36,7,88,4],[37,6,89,4],[37,10,89,8],[37,11,89,9,"_config"],[37,18,89,16],[37,21,89,19,"config"],[37,27,89,25],[38,4,90,2],[40,4,92,2],[41,0,93,0],[42,0,94,0],[43,4,95,2,"dispose"],[43,11,95,9,"dispose"],[43,12,95,9],[43,14,95,12],[44,6,96,4],[45,0,97,0],[46,0,98,0],[47,6,99,4],[47,10,99,8],[47,11,99,9,"_timers"],[47,18,99,16],[47,19,99,17,"forEach"],[47,26,99,24],[47,27,99,25,"clearTimeout"],[47,39,99,37],[47,40,99,38],[48,4,100,2],[50,4,102,2],[51,0,103,0],[52,0,104,0],[53,4,105,2,"computeViewableItems"],[53,24,105,22,"computeViewableItems"],[53,25,106,4,"props"],[53,30,106,26],[53,32,107,4,"scrollOffset"],[53,44,107,24],[53,46,108,4,"viewportHeight"],[53,60,108,26],[53,62,109,4,"listMetrics"],[53,73,109,38],[54,4,110,4],[55,4,111,4,"renderRange"],[55,15,115,5],[55,17,116,19],[56,6,117,4],[56,12,117,10,"itemCount"],[56,21,117,19],[56,24,117,22,"props"],[56,29,117,27],[56,30,117,28,"getItemCount"],[56,42,117,40],[56,43,117,41,"props"],[56,48,117,46],[56,49,117,47,"data"],[56,53,117,51],[56,54,117,52],[57,6,118,4],[57,12,118,10],[58,8,118,11,"itemVisiblePercentThreshold"],[58,35,118,38],[59,8,118,40,"viewAreaCoveragePercentThreshold"],[60,6,118,72],[60,7,118,73],[60,10,119,6],[60,14,119,10],[60,15,119,11,"_config"],[60,22,119,18],[61,6,120,4],[61,12,120,10,"viewAreaMode"],[61,24,120,22],[61,27,120,25,"viewAreaCoveragePercentThreshold"],[61,59,120,57],[61,63,120,61],[61,67,120,65],[62,6,121,4],[62,12,121,10,"viewablePercentThreshold"],[62,36,121,34],[62,39,121,37,"viewAreaMode"],[62,51,121,49],[62,54,122,8,"viewAreaCoveragePercentThreshold"],[62,86,122,40],[62,89,123,8,"itemVisiblePercentThreshold"],[62,116,123,35],[63,6,124,4,"invariant"],[63,15,124,13],[63,16,125,6,"viewablePercentThreshold"],[63,40,125,30],[63,44,125,34],[63,48,125,38],[63,52,126,9,"itemVisiblePercentThreshold"],[63,79,126,36],[63,83,126,40],[63,87,126,44],[63,93,127,11,"viewAreaCoveragePercentThreshold"],[63,125,127,43],[63,129,127,47],[63,133,127,51],[63,134,127,52],[63,136,128,6],[63,225,129,4],[63,226,129,5],[64,6,130,4],[64,12,130,10,"viewableIndices"],[64,27,130,25],[64,30,130,28],[64,32,130,30],[65,6,131,4],[65,10,131,8,"itemCount"],[65,19,131,17],[65,24,131,22],[65,25,131,23],[65,27,131,25],[66,8,132,6],[66,15,132,13,"viewableIndices"],[66,30,132,28],[67,6,133,4],[68,6,134,4],[68,10,134,8,"firstVisible"],[68,22,134,20],[68,25,134,23],[68,26,134,24],[68,27,134,25],[69,6,135,4],[69,12,135,10],[70,8,135,11,"first"],[70,13,135,16],[71,8,135,18,"last"],[72,6,135,22],[72,7,135,23],[72,10,135,26,"renderRange"],[72,21,135,37],[72,25,135,41],[73,8,135,42,"first"],[73,13,135,47],[73,15,135,49],[73,16,135,50],[74,8,135,52,"last"],[74,12,135,56],[74,14,135,58,"itemCount"],[74,23,135,67],[74,26,135,70],[75,6,135,71],[75,7,135,72],[76,6,136,4],[76,10,136,8,"last"],[76,14,136,12],[76,18,136,16,"itemCount"],[76,27,136,25],[76,29,136,27],[77,8,137,6,"console"],[77,15,137,13],[77,16,137,14,"warn"],[77,20,137,18],[77,21,138,8],[77,66,138,53],[77,69,139,10,"JSON"],[77,73,139,14],[77,74,139,15,"stringify"],[77,83,139,24],[77,84,139,25],[78,10,139,26,"renderRange"],[78,21,139,37],[79,10,139,39,"itemCount"],[80,8,139,48],[80,9,139,49],[80,10,140,6],[80,11,140,7],[81,8,141,6],[81,15,141,13],[81,17,141,15],[82,6,142,4],[83,6,143,4],[83,11,143,9],[83,15,143,13,"idx"],[83,18,143,16],[83,21,143,19,"first"],[83,26,143,24],[83,28,143,26,"idx"],[83,31,143,29],[83,35,143,33,"last"],[83,39,143,37],[83,41,143,39,"idx"],[83,44,143,42],[83,46,143,44],[83,48,143,46],[84,8,144,6],[84,14,144,12,"metrics"],[84,21,144,19],[84,24,144,22,"listMetrics"],[84,35,144,33],[84,36,144,34,"getCellMetrics"],[84,50,144,48],[84,51,144,49,"idx"],[84,54,144,52],[84,56,144,54,"props"],[84,61,144,59],[84,62,144,60],[85,8,145,6],[85,12,145,10],[85,13,145,11,"metrics"],[85,20,145,18],[85,22,145,20],[86,10,146,8],[87,8,147,6],[88,8,148,6],[88,14,148,12,"top"],[88,17,148,15],[88,20,148,18,"Math"],[88,24,148,22],[88,25,148,23,"floor"],[88,30,148,28],[88,31,148,29,"metrics"],[88,38,148,36],[88,39,148,37,"offset"],[88,45,148,43],[88,48,148,46,"scrollOffset"],[88,60,148,58],[88,61,148,59],[89,8,149,6],[89,14,149,12,"bottom"],[89,20,149,18],[89,23,149,21,"Math"],[89,27,149,25],[89,28,149,26,"floor"],[89,33,149,31],[89,34,149,32,"top"],[89,37,149,35],[89,40,149,38,"metrics"],[89,47,149,45],[89,48,149,46,"length"],[89,54,149,52],[89,55,149,53],[90,8,151,6],[90,12,151,10,"top"],[90,15,151,13],[90,18,151,16,"viewportHeight"],[90,32,151,30],[90,36,151,34,"bottom"],[90,42,151,40],[90,45,151,43],[90,46,151,44],[90,48,151,46],[91,10,152,8,"firstVisible"],[91,22,152,20],[91,25,152,23,"idx"],[91,28,152,26],[92,10,153,8],[92,14,154,10,"_isViewable"],[92,25,154,21],[92,26,155,12,"viewAreaMode"],[92,38,155,24],[92,40,156,12,"viewablePercentThreshold"],[92,64,156,36],[92,66,157,12,"top"],[92,69,157,15],[92,71,158,12,"bottom"],[92,77,158,18],[92,79,159,12,"viewportHeight"],[92,93,159,26],[92,95,160,12,"metrics"],[92,102,160,19],[92,103,160,20,"length"],[92,109,161,10],[92,110,161,11],[92,112,162,10],[93,12,163,10,"viewableIndices"],[93,27,163,25],[93,28,163,26,"push"],[93,32,163,30],[93,33,163,31,"idx"],[93,36,163,34],[93,37,163,35],[94,10,164,8],[95,8,165,6],[95,9,165,7],[95,15,165,13],[95,19,165,17,"firstVisible"],[95,31,165,29],[95,35,165,33],[95,36,165,34],[95,38,165,36],[96,10,166,8],[97,8,167,6],[98,6,168,4],[99,6,169,4],[99,13,169,11,"viewableIndices"],[99,28,169,26],[100,4,170,2],[102,4,172,2],[103,0,173,0],[104,0,174,0],[105,0,175,0],[106,4,176,2,"onUpdate"],[106,12,176,10,"onUpdate"],[106,13,177,4,"props"],[106,18,177,26],[106,20,178,4,"scrollOffset"],[106,32,178,24],[106,34,179,4,"viewportHeight"],[106,48,179,26],[106,50,180,4,"listMetrics"],[106,61,180,38],[106,63,181,4,"createViewToken"],[106,78,185,18],[106,80,186,4,"onViewableItemsChanged"],[106,102,190,14],[107,4,191,4],[108,4,192,4,"renderRange"],[108,15,196,5],[108,17,197,10],[109,6,198,4],[109,12,198,10,"itemCount"],[109,21,198,19],[109,24,198,22,"props"],[109,29,198,27],[109,30,198,28,"getItemCount"],[109,42,198,40],[109,43,198,41,"props"],[109,48,198,46],[109,49,198,47,"data"],[109,53,198,51],[109,54,198,52],[110,6,199,4],[110,10,200,7],[110,14,200,11],[110,15,200,12,"_config"],[110,22,200,19],[110,23,200,20,"waitForInteraction"],[110,41,200,38],[110,45,200,42],[110,46,200,43],[110,50,200,47],[110,51,200,48,"_hasInteracted"],[110,65,200,62],[110,69,201,6,"itemCount"],[110,78,201,15],[110,83,201,20],[110,84,201,21],[110,88,202,6],[110,89,202,7,"listMetrics"],[110,100,202,18],[110,101,202,19,"getCellMetrics"],[110,115,202,33],[110,116,202,34],[110,117,202,35],[110,119,202,37,"props"],[110,124,202,42],[110,125,202,43],[110,127,203,6],[111,8,204,6],[112,6,205,4],[113,6,206,4],[113,10,206,8,"viewableIndices"],[113,25,206,38],[113,28,206,41],[113,30,206,43],[114,6,207,4],[114,10,207,8,"itemCount"],[114,19,207,17],[114,21,207,19],[115,8,208,6,"viewableIndices"],[115,23,208,21],[115,26,208,24],[115,30,208,28],[115,31,208,29,"computeViewableItems"],[115,51,208,49],[115,52,209,8,"props"],[115,57,209,13],[115,59,210,8,"scrollOffset"],[115,71,210,20],[115,73,211,8,"viewportHeight"],[115,87,211,22],[115,89,212,8,"listMetrics"],[115,100,212,19],[115,102,213,8,"renderRange"],[115,113,214,6],[115,114,214,7],[116,6,215,4],[117,6,216,4],[117,10,217,6],[117,14,217,10],[117,15,217,11,"_viewableIndices"],[117,31,217,27],[117,32,217,28,"length"],[117,38,217,34],[117,43,217,39,"viewableIndices"],[117,58,217,54],[117,59,217,55,"length"],[117,65,217,61],[117,69,218,6],[117,73,218,10],[117,74,218,11,"_viewableIndices"],[117,90,218,27],[117,91,218,28,"every"],[117,96,218,33],[117,97,218,34],[117,98,218,35,"v"],[117,99,218,36],[117,101,218,38,"ii"],[117,103,218,40],[117,108,218,45,"v"],[117,109,218,46],[117,114,218,51,"viewableIndices"],[117,129,218,66],[117,130,218,67,"ii"],[117,132,218,69],[117,133,218,70],[117,134,218,71],[117,136,219,6],[118,8,220,6],[119,8,221,6],[120,8,222,6],[121,6,223,4],[122,6,224,4],[122,10,224,8],[122,11,224,9,"_viewableIndices"],[122,27,224,25],[122,30,224,28,"viewableIndices"],[122,45,224,43],[123,6,225,4],[123,10,225,8],[123,14,225,12],[123,15,225,13,"_config"],[123,22,225,20],[123,23,225,21,"minimumViewTime"],[123,38,225,36],[123,40,225,38],[124,8,226,6],[124,14,226,12,"handle"],[124,20,226,29],[124,23,226,32,"setTimeout"],[124,33,226,42],[124,34,226,43],[124,40,226,49],[125,10,227,8],[126,0,228,0],[127,0,229,0],[128,10,230,8],[128,14,230,12],[128,15,230,13,"_timers"],[128,22,230,20],[128,23,230,21,"delete"],[128,29,230,27],[128,30,230,28,"handle"],[128,36,230,34],[128,37,230,35],[129,10,231,8],[129,14,231,12],[129,15,231,13,"_onUpdateSync"],[129,28,231,26],[129,29,232,10,"props"],[129,34,232,15],[129,36,233,10,"viewableIndices"],[129,51,233,25],[129,53,234,10,"onViewableItemsChanged"],[129,75,234,32],[129,77,235,10,"createViewToken"],[129,92,236,8],[129,93,236,9],[130,8,237,6],[130,9,237,7],[130,11,237,9],[130,15,237,13],[130,16,237,14,"_config"],[130,23,237,21],[130,24,237,22,"minimumViewTime"],[130,39,237,37],[130,40,237,38],[131,8,238,6],[132,0,239,0],[133,0,240,0],[134,8,241,6],[134,12,241,10],[134,13,241,11,"_timers"],[134,20,241,18],[134,21,241,19,"add"],[134,24,241,22],[134,25,241,23,"handle"],[134,31,241,29],[134,32,241,30],[135,6,242,4],[135,7,242,5],[135,13,242,11],[136,8,243,6],[136,12,243,10],[136,13,243,11,"_onUpdateSync"],[136,26,243,24],[136,27,244,8,"props"],[136,32,244,13],[136,34,245,8,"viewableIndices"],[136,49,245,23],[136,51,246,8,"onViewableItemsChanged"],[136,73,246,30],[136,75,247,8,"createViewToken"],[136,90,248,6],[136,91,248,7],[137,6,249,4],[138,4,250,2],[140,4,252,2],[141,0,253,0],[142,0,254,0],[143,4,255,2,"resetViewableIndices"],[143,24,255,22,"resetViewableIndices"],[143,25,255,22],[143,27,255,25],[144,6,256,4],[144,10,256,8],[144,11,256,9,"_viewableIndices"],[144,27,256,25],[144,30,256,28],[144,32,256,30],[145,4,257,2],[147,4,259,2],[148,0,260,0],[149,0,261,0],[150,4,262,2,"recordInteraction"],[150,21,262,19,"recordInteraction"],[150,22,262,19],[150,24,262,22],[151,6,263,4],[151,10,263,8],[151,11,263,9,"_hasInteracted"],[151,25,263,23],[151,28,263,26],[151,32,263,30],[152,4,264,2],[153,4,266,2,"_onUpdateSync"],[153,17,266,15,"_onUpdateSync"],[153,18,267,4,"props"],[153,23,267,26],[153,25,268,4,"viewableIndicesToCheck"],[153,47,268,41],[153,49,269,4,"onViewableItemsChanged"],[153,71,273,14],[153,73,274,4,"createViewToken"],[153,88,278,18],[153,90,279,4],[154,6,280,4],[155,6,281,4,"viewableIndicesToCheck"],[155,28,281,26],[155,31,281,29,"viewableIndicesToCheck"],[155,53,281,51],[155,54,281,52,"filter"],[155,60,281,58],[155,61,281,59,"ii"],[155,63,281,61],[155,67,282,6],[155,71,282,10],[155,72,282,11,"_viewableIndices"],[155,88,282,27],[155,89,282,28,"includes"],[155,97,282,36],[155,98,282,37,"ii"],[155,100,282,39],[155,101,283,4],[155,102,283,5],[156,6,284,4],[156,12,284,10,"prevItems"],[156,21,284,19],[156,24,284,22],[156,28,284,26],[156,29,284,27,"_viewableItems"],[156,43,284,41],[157,6,285,4],[157,12,285,10,"nextItems"],[157,21,285,19],[157,24,285,22],[157,28,285,26,"Map"],[157,31,285,29],[157,32,286,6,"viewableIndicesToCheck"],[157,54,286,28],[157,55,286,29,"map"],[157,58,286,32],[157,59,286,33,"ii"],[157,61,286,35],[157,65,286,39],[158,8,287,8],[158,14,287,14,"viewable"],[158,22,287,22],[158,25,287,25,"createViewToken"],[158,40,287,40],[158,41,287,41,"ii"],[158,43,287,43],[158,45,287,45],[158,49,287,49],[158,51,287,51,"props"],[158,56,287,56],[158,57,287,57],[159,8,288,8],[159,15,288,15],[159,16,288,16,"viewable"],[159,24,288,24],[159,25,288,25,"key"],[159,28,288,28],[159,30,288,30,"viewable"],[159,38,288,38],[159,39,288,39],[160,6,289,6],[160,7,289,7],[160,8,290,4],[160,9,290,5],[161,6,292,4],[161,12,292,10,"changed"],[161,19,292,17],[161,22,292,20],[161,24,292,22],[162,6,293,4],[162,11,293,9],[162,17,293,15],[162,18,293,16,"key"],[162,21,293,19],[162,23,293,21,"viewable"],[162,31,293,29],[162,32,293,30],[162,36,293,34,"nextItems"],[162,45,293,43],[162,47,293,45],[163,8,294,6],[163,12,294,10],[163,13,294,11,"prevItems"],[163,22,294,20],[163,23,294,21,"has"],[163,26,294,24],[163,27,294,25,"key"],[163,30,294,28],[163,31,294,29],[163,33,294,31],[164,10,295,8,"changed"],[164,17,295,15],[164,18,295,16,"push"],[164,22,295,20],[164,23,295,21,"viewable"],[164,31,295,29],[164,32,295,30],[165,8,296,6],[166,6,297,4],[167,6,298,4],[167,11,298,9],[167,17,298,15],[167,18,298,16,"key"],[167,21,298,19],[167,23,298,21,"viewable"],[167,31,298,29],[167,32,298,30],[167,36,298,34,"prevItems"],[167,45,298,43],[167,47,298,45],[168,8,299,6],[168,12,299,10],[168,13,299,11,"nextItems"],[168,22,299,20],[168,23,299,21,"has"],[168,26,299,24],[168,27,299,25,"key"],[168,30,299,28],[168,31,299,29],[168,33,299,31],[169,10,300,8,"changed"],[169,17,300,15],[169,18,300,16,"push"],[169,22,300,20],[169,23,300,21],[170,12,300,22],[170,15,300,25,"viewable"],[170,23,300,33],[171,12,300,35,"isViewable"],[171,22,300,45],[171,24,300,47],[172,10,300,52],[172,11,300,53],[172,12,300,54],[173,8,301,6],[174,6,302,4],[175,6,303,4],[175,10,303,8,"changed"],[175,17,303,15],[175,18,303,16,"length"],[175,24,303,22],[175,27,303,25],[175,28,303,26],[175,30,303,28],[176,8,304,6],[176,12,304,10],[176,13,304,11,"_viewableItems"],[176,27,304,25],[176,30,304,28,"nextItems"],[176,39,304,37],[177,8,305,6,"onViewableItemsChanged"],[177,30,305,28],[177,31,305,29],[178,10,306,8,"viewableItems"],[178,23,306,21],[178,25,306,23,"Array"],[178,30,306,28],[178,31,306,29,"from"],[178,35,306,33],[178,36,306,34,"nextItems"],[178,45,306,43],[178,46,306,44,"values"],[178,52,306,50],[178,53,306,51],[178,54,306,52],[178,55,306,53],[179,10,307,8,"changed"],[179,17,307,15],[180,10,308,8,"viewabilityConfig"],[180,27,308,25],[180,29,308,27],[180,33,308,31],[180,34,308,32,"_config"],[181,8,309,6],[181,9,309,7],[181,10,309,8],[182,6,310,4],[183,4,311,2],[184,2,312,0],[185,2,314,0],[185,11,314,9,"_isViewable"],[185,22,314,20,"_isViewable"],[185,23,315,2,"viewAreaMode"],[185,35,315,23],[185,37,316,2,"viewablePercentThreshold"],[185,61,316,34],[185,63,317,2,"top"],[185,66,317,13],[185,68,318,2,"bottom"],[185,74,318,16],[185,76,319,2,"viewportHeight"],[185,90,319,24],[185,92,320,2,"itemLength"],[185,102,320,20],[185,104,321,11],[186,4,322,2],[186,8,322,6,"_isEntirelyVisible"],[186,26,322,24],[186,27,322,25,"top"],[186,30,322,28],[186,32,322,30,"bottom"],[186,38,322,36],[186,40,322,38,"viewportHeight"],[186,54,322,52],[186,55,322,53],[186,57,322,55],[187,6,323,4],[187,13,323,11],[187,17,323,15],[188,4,324,2],[188,5,324,3],[188,11,324,9],[189,6,325,4],[189,12,325,10,"pixels"],[189,18,325,16],[189,21,325,19,"_getPixelsVisible"],[189,38,325,36],[189,39,325,37,"top"],[189,42,325,40],[189,44,325,42,"bottom"],[189,50,325,48],[189,52,325,50,"viewportHeight"],[189,66,325,64],[189,67,325,65],[190,6,326,4],[190,12,326,10,"percent"],[190,19,326,17],[190,22,327,6],[190,25,327,9],[190,29,327,13,"viewAreaMode"],[190,41,327,25],[190,44,327,28,"pixels"],[190,50,327,34],[190,53,327,37,"viewportHeight"],[190,67,327,51],[190,70,327,54,"pixels"],[190,76,327,60],[190,79,327,63,"itemLength"],[190,89,327,73],[190,90,327,74],[191,6,328,4],[191,13,328,11,"percent"],[191,20,328,18],[191,24,328,22,"viewablePercentThreshold"],[191,48,328,46],[192,4,329,2],[193,2,330,0],[194,2,332,0],[194,11,332,9,"_getPixelsVisible"],[194,28,332,26,"_getPixelsVisible"],[194,29,333,2,"top"],[194,32,333,13],[194,34,334,2,"bottom"],[194,40,334,16],[194,42,335,2,"viewportHeight"],[194,56,335,24],[194,58,336,10],[195,4,337,2],[195,10,337,8,"visibleHeight"],[195,23,337,21],[195,26,337,24,"Math"],[195,30,337,28],[195,31,337,29,"min"],[195,34,337,32],[195,35,337,33,"bottom"],[195,41,337,39],[195,43,337,41,"viewportHeight"],[195,57,337,55],[195,58,337,56],[195,61,337,59,"Math"],[195,65,337,63],[195,66,337,64,"max"],[195,69,337,67],[195,70,337,68,"top"],[195,73,337,71],[195,75,337,73],[195,76,337,74],[195,77,337,75],[196,4,338,2],[196,11,338,9,"Math"],[196,15,338,13],[196,16,338,14,"max"],[196,19,338,17],[196,20,338,18],[196,21,338,19],[196,23,338,21,"visibleHeight"],[196,36,338,34],[196,37,338,35],[197,2,339,0],[198,2,341,0],[198,11,341,9,"_isEntirelyVisible"],[198,29,341,27,"_isEntirelyVisible"],[198,30,342,2,"top"],[198,33,342,13],[198,35,343,2,"bottom"],[198,41,343,16],[198,43,344,2,"viewportHeight"],[198,57,344,24],[198,59,345,11],[199,4,346,2],[199,11,346,9,"top"],[199,14,346,12],[199,18,346,16],[199,19,346,17],[199,23,346,21,"bottom"],[199,29,346,27],[199,33,346,31,"viewportHeight"],[199,47,346,45],[199,51,346,49,"bottom"],[199,57,346,55],[199,60,346,58,"top"],[199,63,346,61],[200,2,347,0],[201,2,349,0,"module"],[201,8,349,6],[201,9,349,7,"exports"],[201,16,349,14],[201,19,349,17,"ViewabilityHelper"],[201,36,349,34],[202,0,349,35]],"functionMap":{"names":["<global>","ViewabilityHelper","constructor","dispose","computeViewableItems","onUpdate","_viewableIndices.every$argument_0","setTimeout$argument_0","resetViewableIndices","recordInteraction","_onUpdateSync","viewableIndicesToCheck.filter$argument_0","viewableIndicesToCheck.map$argument_0","_isViewable","_getPixelsVisible","_isEntirelyVisible"],"mappings":"AAA;AC8E;ECO;GDI;EEK;GFK;EGK;GHiE;EIM;kCC0C,oCD;2CEQ;OFW;GJa;EOK;GPE;EQK;GRE;ESE;2DCe;wCDC;iCEI;OFG;GTsB;CDC;AaE;CbgB;AcE;CdO;AeE;CfM"}},"type":"js/module"}]}