{"dependencies":[{"name":"react-native-google-mobile-ads","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":81,"index":81}}],"key":"oRtzYCH6haj4sAuxiPzkT0citbE=","exportNames":["*"],"imports":1}},{"name":"../utils/adConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":82},"end":{"line":2,"column":46,"index":128}}],"key":"Ngy1f/5v9hp+s2XbC6m09CzEK5Q=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":129},"end":{"line":3,"column":31,"index":160}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"rewardedAdManager\", {\n    enumerable: true,\n    get: function () {\n      return rewardedAdManager;\n    }\n  });\n  var _reactNativeGoogleMobileAds = require(_dependencyMap[0], \"react-native-google-mobile-ads\");\n  var _utilsAdConfig = require(_dependencyMap[1], \"../utils/adConfig\");\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  class RewardedAdManager {\n    rewardedAd = null;\n    isLoading = false;\n    currentUserId = '';\n    async loadRewardedAd(userId) {\n      if (this.isLoading || this.rewardedAd?.loaded) {\n        this.currentUserId = userId;\n        return;\n      }\n      this.isLoading = true;\n      this.currentUserId = userId;\n      const adUnitId = (0, _utilsAdConfig.getAdUnit)('rewarded');\n      this.rewardedAd = _reactNativeGoogleMobileAds.RewardedAd.createForAdRequest(adUnitId, {\n        keywords: ['gaming', 'rewards', 'entertainment']\n      });\n      this.setupRewardedListeners();\n      try {\n        await this.rewardedAd.load();\n      } catch (error) {\n        console.error('Failed to load rewarded ad:', error);\n        this.isLoading = false;\n      }\n    }\n    setupRewardedListeners() {\n      if (!this.rewardedAd) return;\n      this.rewardedAd.addAdEventListener(_reactNativeGoogleMobileAds.RewardedAdEventType.LOADED, () => {\n        console.log('Rewarded ad loaded');\n        this.isLoading = false;\n      });\n      this.rewardedAd.addAdEventListener(_reactNativeGoogleMobileAds.RewardedAdEventType.EARNED_REWARD, async reward => {\n        console.log(`User earned reward: ${reward.amount} ${reward.type}`);\n        const rewardEvent = {\n          userId: this.currentUserId,\n          rewardType: reward.type,\n          rewardAmount: reward.amount,\n          transactionId: this.generateTransactionId(),\n          timestamp: Date.now()\n        };\n        try {\n          const response = await api.default.post('/api/rewards/verify-ad', rewardEvent);\n          this.onRewardCallback?.(rewardEvent);\n          console.log('Reward verified:', response.data);\n        } catch (error) {\n          console.error('Failed to verify reward:', error);\n        }\n      });\n      this.rewardedAd.addAdEventListener(_reactNativeGoogleMobileAds.RewardedAdEventType.CLOSED, () => {\n        console.log('Rewarded ad closed');\n        this.rewardedAd = null;\n        this.loadRewardedAd(this.currentUserId);\n      });\n    }\n    async showRewardedAd() {\n      if (!this.rewardedAd?.loaded) {\n        console.warn('Rewarded ad not loaded');\n        return;\n      }\n      try {\n        await this.rewardedAd.show();\n      } catch (error) {\n        console.error('Failed to show rewarded ad:', error);\n      }\n    }\n    isRewardedAdReady() {\n      return !!this.rewardedAd?.loaded;\n    }\n    setRewardCallback(callback) {\n      this.onRewardCallback = callback;\n    }\n    generateTransactionId() {\n      return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    }\n  }\n  const rewardedAdManager = new RewardedAdManager();\n});","lineCount":96,"map":[[12,2,113,0,"Object"],[12,8,113,0],[12,9,113,0,"defineProperty"],[12,23,113,0],[12,24,113,0,"exports"],[12,31,113,0],[13,4,113,0,"enumerable"],[13,14,113,0],[14,4,113,0,"get"],[14,7,113,0],[14,18,113,0,"get"],[14,19,113,0],[15,6,113,0],[15,13,113,0,"rewardedAdManager"],[15,30,113,0],[16,4,113,0],[17,2,113,0],[18,2,1,0],[18,6,1,0,"_reactNativeGoogleMobileAds"],[18,33,1,0],[18,36,1,0,"require"],[18,43,1,0],[18,44,1,0,"_dependencyMap"],[18,58,1,0],[19,2,2,0],[19,6,2,0,"_utilsAdConfig"],[19,20,2,0],[19,23,2,0,"require"],[19,30,2,0],[19,31,2,0,"_dependencyMap"],[19,45,2,0],[20,2,3,0],[20,6,3,0,"_utilsApi"],[20,15,3,0],[20,18,3,0,"require"],[20,25,3,0],[20,26,3,0,"_dependencyMap"],[20,40,3,0],[21,2,3,0],[21,6,3,0,"api"],[21,9,3,0],[21,12,3,0,"_interopDefault"],[21,27,3,0],[21,28,3,0,"_utilsApi"],[21,37,3,0],[22,2,13,0],[22,8,13,6,"RewardedAdManager"],[22,25,13,23],[22,26,13,24],[23,4,14,10,"rewardedAd"],[23,14,14,20],[23,17,14,42],[23,21,14,46],[24,4,15,10,"isLoading"],[24,13,15,19],[24,16,15,22],[24,21,15,27],[25,4,16,10,"currentUserId"],[25,17,16,23],[25,20,16,34],[25,22,16,36],[26,4,19,2],[26,10,19,8,"loadRewardedAd"],[26,24,19,22,"loadRewardedAd"],[26,25,19,23,"userId"],[26,31,19,37],[26,33,19,54],[27,6,20,4],[27,10,20,8],[27,14,20,12],[27,15,20,13,"isLoading"],[27,24,20,22],[27,28,20,26],[27,32,20,30],[27,33,20,31,"rewardedAd"],[27,43,20,41],[27,45,20,43,"loaded"],[27,51,20,49],[27,53,20,51],[28,8,21,6],[28,12,21,10],[28,13,21,11,"currentUserId"],[28,26,21,24],[28,29,21,27,"userId"],[28,35,21,33],[29,8,22,6],[30,6,23,4],[31,6,25,4],[31,10,25,8],[31,11,25,9,"isLoading"],[31,20,25,18],[31,23,25,21],[31,27,25,25],[32,6,26,4],[32,10,26,8],[32,11,26,9,"currentUserId"],[32,24,26,22],[32,27,26,25,"userId"],[32,33,26,31],[33,6,27,4],[33,12,27,10,"adUnitId"],[33,20,27,18],[33,23,27,21],[33,27,27,21,"getAdUnit"],[33,41,27,30],[33,42,27,30,"getAdUnit"],[33,51,27,30],[33,53,27,31],[33,63,27,41],[33,64,27,42],[34,6,29,4],[34,10,29,8],[34,11,29,9,"rewardedAd"],[34,21,29,19],[34,24,29,22,"RewardedAd"],[34,51,29,32],[34,52,29,32,"RewardedAd"],[34,62,29,32],[34,63,29,33,"createForAdRequest"],[34,81,29,51],[34,82,29,52,"adUnitId"],[34,90,29,60],[34,92,29,62],[35,8,30,6,"keywords"],[35,16,30,14],[35,18,30,16],[35,19,30,17],[35,27,30,25],[35,29,30,27],[35,38,30,36],[35,40,30,38],[35,55,30,53],[36,6,31,4],[36,7,31,5],[36,8,31,6],[37,6,33,4],[37,10,33,8],[37,11,33,9,"setupRewardedListeners"],[37,33,33,31],[37,34,33,32],[37,35,33,33],[38,6,35,4],[38,10,35,8],[39,8,36,6],[39,14,36,12],[39,18,36,16],[39,19,36,17,"rewardedAd"],[39,29,36,27],[39,30,36,28,"load"],[39,34,36,32],[39,35,36,33],[39,36,36,34],[40,6,37,4],[40,7,37,5],[40,8,37,6],[40,15,37,13,"error"],[40,20,37,18],[40,22,37,20],[41,8,38,6,"console"],[41,15,38,13],[41,16,38,14,"error"],[41,21,38,19],[41,22,38,20],[41,51,38,49],[41,53,38,51,"error"],[41,58,38,56],[41,59,38,57],[42,8,39,6],[42,12,39,10],[42,13,39,11,"isLoading"],[42,22,39,20],[42,25,39,23],[42,30,39,28],[43,6,40,4],[44,4,41,2],[45,4,43,10,"setupRewardedListeners"],[45,26,43,32,"setupRewardedListeners"],[45,27,43,32],[45,29,43,41],[46,6,44,4],[46,10,44,8],[46,11,44,9],[46,15,44,13],[46,16,44,14,"rewardedAd"],[46,26,44,24],[46,28,44,26],[47,6,46,4],[47,10,46,8],[47,11,46,9,"rewardedAd"],[47,21,46,19],[47,22,46,20,"addAdEventListener"],[47,40,46,38],[47,41,47,6,"RewardedAdEventType"],[47,68,47,25],[47,69,47,25,"RewardedAdEventType"],[47,88,47,25],[47,89,47,26,"LOADED"],[47,95,47,32],[47,97,48,6],[47,103,48,12],[48,8,49,8,"console"],[48,15,49,15],[48,16,49,16,"log"],[48,19,49,19],[48,20,49,20],[48,40,49,40],[48,41,49,41],[49,8,50,8],[49,12,50,12],[49,13,50,13,"isLoading"],[49,22,50,22],[49,25,50,25],[49,30,50,30],[50,6,51,6],[50,7,52,4],[50,8,52,5],[51,6,54,4],[51,10,54,8],[51,11,54,9,"rewardedAd"],[51,21,54,19],[51,22,54,20,"addAdEventListener"],[51,40,54,38],[51,41,55,6,"RewardedAdEventType"],[51,68,55,25],[51,69,55,25,"RewardedAdEventType"],[51,88,55,25],[51,89,55,26,"EARNED_REWARD"],[51,102,55,39],[51,104,56,6],[51,110,56,13,"reward"],[51,116,56,19],[51,120,56,24],[52,8,57,8,"console"],[52,15,57,15],[52,16,57,16,"log"],[52,19,57,19],[52,20,57,20],[52,43,57,43,"reward"],[52,49,57,49],[52,50,57,50,"amount"],[52,56,57,56],[52,60,57,60,"reward"],[52,66,57,66],[52,67,57,67,"type"],[52,71,57,71],[52,73,57,73],[52,74,57,74],[53,8,59,8],[53,14,59,14,"rewardEvent"],[53,25,59,38],[53,28,59,41],[54,10,60,10,"userId"],[54,16,60,16],[54,18,60,18],[54,22,60,22],[54,23,60,23,"currentUserId"],[54,36,60,36],[55,10,61,10,"rewardType"],[55,20,61,20],[55,22,61,22,"reward"],[55,28,61,28],[55,29,61,29,"type"],[55,33,61,33],[56,10,62,10,"rewardAmount"],[56,22,62,22],[56,24,62,24,"reward"],[56,30,62,30],[56,31,62,31,"amount"],[56,37,62,37],[57,10,63,10,"transactionId"],[57,23,63,23],[57,25,63,25],[57,29,63,29],[57,30,63,30,"generateTransactionId"],[57,51,63,51],[57,52,63,52],[57,53,63,53],[58,10,64,10,"timestamp"],[58,19,64,19],[58,21,64,21,"Date"],[58,25,64,25],[58,26,64,26,"now"],[58,29,64,29],[58,30,64,30],[59,8,65,8],[59,9,65,9],[60,8,67,8],[60,12,67,12],[61,10,68,10],[61,16,68,16,"response"],[61,24,68,24],[61,27,68,27],[61,33,68,33,"api"],[61,36,68,36],[61,37,68,36,"default"],[61,44,68,36],[61,45,68,37,"post"],[61,49,68,41],[61,50,68,42],[61,74,68,66],[61,76,68,68,"rewardEvent"],[61,87,68,79],[61,88,68,80],[62,10,69,10],[62,14,69,14],[62,15,69,15,"onRewardCallback"],[62,31,69,31],[62,34,69,34,"rewardEvent"],[62,45,69,45],[62,46,69,46],[63,10,70,10,"console"],[63,17,70,17],[63,18,70,18,"log"],[63,21,70,21],[63,22,70,22],[63,40,70,40],[63,42,70,42,"response"],[63,50,70,50],[63,51,70,51,"data"],[63,55,70,55],[63,56,70,56],[64,8,71,8],[64,9,71,9],[64,10,71,10],[64,17,71,17,"error"],[64,22,71,22],[64,24,71,24],[65,10,72,10,"console"],[65,17,72,17],[65,18,72,18,"error"],[65,23,72,23],[65,24,72,24],[65,50,72,50],[65,52,72,52,"error"],[65,57,72,57],[65,58,72,58],[66,8,73,8],[67,6,74,6],[67,7,75,4],[67,8,75,5],[68,6,77,4],[68,10,77,8],[68,11,77,9,"rewardedAd"],[68,21,77,19],[68,22,77,20,"addAdEventListener"],[68,40,77,38],[68,41,78,6,"RewardedAdEventType"],[68,68,78,25],[68,69,78,25,"RewardedAdEventType"],[68,88,78,25],[68,89,78,26,"CLOSED"],[68,95,78,32],[68,97,79,6],[68,103,79,12],[69,8,80,8,"console"],[69,15,80,15],[69,16,80,16,"log"],[69,19,80,19],[69,20,80,20],[69,40,80,40],[69,41,80,41],[70,8,81,8],[70,12,81,12],[70,13,81,13,"rewardedAd"],[70,23,81,23],[70,26,81,26],[70,30,81,30],[71,8,82,8],[71,12,82,12],[71,13,82,13,"loadRewardedAd"],[71,27,82,27],[71,28,82,28],[71,32,82,32],[71,33,82,33,"currentUserId"],[71,46,82,46],[71,47,82,47],[72,6,83,6],[72,7,84,4],[72,8,84,5],[73,4,85,2],[74,4,87,2],[74,10,87,8,"showRewardedAd"],[74,24,87,22,"showRewardedAd"],[74,25,87,22],[74,27,87,40],[75,6,88,4],[75,10,88,8],[75,11,88,9],[75,15,88,13],[75,16,88,14,"rewardedAd"],[75,26,88,24],[75,28,88,26,"loaded"],[75,34,88,32],[75,36,88,34],[76,8,89,6,"console"],[76,15,89,13],[76,16,89,14,"warn"],[76,20,89,18],[76,21,89,19],[76,45,89,43],[76,46,89,44],[77,8,90,6],[78,6,91,4],[79,6,93,4],[79,10,93,8],[80,8,94,6],[80,14,94,12],[80,18,94,16],[80,19,94,17,"rewardedAd"],[80,29,94,27],[80,30,94,28,"show"],[80,34,94,32],[80,35,94,33],[80,36,94,34],[81,6,95,4],[81,7,95,5],[81,8,95,6],[81,15,95,13,"error"],[81,20,95,18],[81,22,95,20],[82,8,96,6,"console"],[82,15,96,13],[82,16,96,14,"error"],[82,21,96,19],[82,22,96,20],[82,51,96,49],[82,53,96,51,"error"],[82,58,96,56],[82,59,96,57],[83,6,97,4],[84,4,98,2],[85,4,100,2,"isRewardedAdReady"],[85,21,100,19,"isRewardedAdReady"],[85,22,100,19],[85,24,100,31],[86,6,101,4],[86,13,101,11],[86,14,101,12],[86,15,101,13],[86,19,101,17],[86,20,101,18,"rewardedAd"],[86,30,101,28],[86,32,101,30,"loaded"],[86,38,101,36],[87,4,102,2],[88,4,104,2,"setRewardCallback"],[88,21,104,19,"setRewardCallback"],[88,22,104,20,"callback"],[88,30,104,59],[88,32,104,67],[89,6,105,4],[89,10,105,8],[89,11,105,9,"onRewardCallback"],[89,27,105,25],[89,30,105,28,"callback"],[89,38,105,36],[90,4,106,2],[91,4,108,10,"generateTransactionId"],[91,25,108,31,"generateTransactionId"],[91,26,108,31],[91,28,108,42],[92,6,109,4],[92,13,109,11],[92,16,109,14,"Date"],[92,20,109,18],[92,21,109,19,"now"],[92,24,109,22],[92,25,109,23],[92,26,109,24],[92,30,109,28,"Math"],[92,34,109,32],[92,35,109,33,"random"],[92,41,109,39],[92,42,109,40],[92,43,109,41],[92,44,109,42,"toString"],[92,52,109,50],[92,53,109,51],[92,55,109,53],[92,56,109,54],[92,57,109,55,"substr"],[92,63,109,61],[92,64,109,62],[92,65,109,63],[92,67,109,65],[92,68,109,66],[92,69,109,67],[92,71,109,69],[93,4,110,2],[94,2,111,0],[95,2,113,7],[95,8,113,13,"rewardedAdManager"],[95,25,113,30],[95,28,113,33],[95,32,113,37,"RewardedAdManager"],[95,49,113,54],[95,50,113,55],[95,51,113,56],[96,0,113,57],[96,3]],"functionMap":{"names":["<global>","RewardedAdManager","loadRewardedAd","setupRewardedListeners","rewardedAd.addAdEventListener$argument_1","showRewardedAd","isRewardedAdReady","setRewardCallback","generateTransactionId"],"mappings":"AAA;ACY;ECM;GDsB;EEE;MCK;ODG;MCK;ODkB;MCK;ODI;GFE;EIE;GJW;EKE;GLE;EME;GNE;EOE;GPE;CDC"},"hasCjsExports":false},"type":"js/module"}]}