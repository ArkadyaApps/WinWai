{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/locationService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":59,"index":163}}],"key":"eEvTusP89/yU1QhgEb1RDiGxzMw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useLanguageStore\", {\n    enumerable: true,\n    get: function () {\n      return useLanguageStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsLocationService = require(_dependencyMap[2], \"../utils/locationService\");\n  // Map country codes to languages\n  const getLanguageFromCountryCode = countryCode => {\n    const languageMap = {\n      'TH': 'th',\n      // Thailand -> Thai\n      'FR': 'fr',\n      // France -> French\n      'BE': 'fr',\n      // Belgium -> French (can be refined)\n      'CH': 'fr',\n      // Switzerland -> French (can be refined)\n      'CA': 'fr',\n      // Canada -> French (can be refined for Quebec)\n      'MA': 'ar',\n      // Morocco -> Arabic\n      'DZ': 'ar',\n      // Algeria -> Arabic\n      'EG': 'ar',\n      // Egypt -> Arabic\n      'SA': 'ar',\n      // Saudi Arabia -> Arabic\n      'AE': 'ar' // UAE -> Arabic\n    };\n    return languageMap[countryCode] || 'en'; // Default to English\n  };\n  const useLanguageStore = (0, _zustand.create)(set => ({\n    language: 'en',\n    isLanguageDetected: false,\n    setLanguage: async language => {\n      await AsyncStorage.default.setItem('app_language', language);\n      await AsyncStorage.default.setItem('language_manually_set', 'true');\n      set({\n        language\n      });\n    },\n    initializeLanguage: async () => {\n      try {\n        // First check if user has manually set a language preference\n        const manuallySet = await AsyncStorage.default.getItem('language_manually_set');\n        const saved = await AsyncStorage.default.getItem('app_language');\n        if (manuallySet === 'true' && saved) {\n          // User has manually set language, use their preference\n          set({\n            language: saved,\n            isLanguageDetected: true\n          });\n          return;\n        }\n\n        // Try to detect language from geolocation\n        try {\n          const location = await (0, _utilsLocationService.getUserLocation)();\n          if (location && location.countryCode) {\n            const detectedLanguage = getLanguageFromCountryCode(location.countryCode);\n            console.log(`Detected country: ${location.country} (${location.countryCode}), setting language to: ${detectedLanguage}`);\n\n            // Save detected language\n            await AsyncStorage.default.setItem('app_language', detectedLanguage);\n            set({\n              language: detectedLanguage,\n              isLanguageDetected: true\n            });\n            return;\n          }\n        } catch (geoError) {\n          console.error('Geolocation-based language detection failed:', geoError);\n        }\n\n        // Fallback: Use saved language or default to English\n        if (saved) {\n          set({\n            language: saved,\n            isLanguageDetected: true\n          });\n        } else {\n          set({\n            language: 'en',\n            isLanguageDetected: true\n          });\n        }\n      } catch (error) {\n        console.error('Failed to initialize language:', error);\n        set({\n          language: 'en',\n          isLanguageDetected: true\n        });\n      }\n    }\n  }));\n});","lineCount":111,"map":[[12,2,32,0,"Object"],[12,8,32,0],[12,9,32,0,"defineProperty"],[12,23,32,0],[12,24,32,0,"exports"],[12,31,32,0],[13,4,32,0,"enumerable"],[13,14,32,0],[14,4,32,0,"get"],[14,7,32,0],[14,18,32,0,"get"],[14,19,32,0],[15,6,32,0],[15,13,32,0,"useLanguageStore"],[15,29,32,0],[16,4,32,0],[17,2,32,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_utilsLocationService"],[21,27,3,0],[21,30,3,0,"require"],[21,37,3,0],[21,38,3,0,"_dependencyMap"],[21,52,3,0],[22,2,14,0],[23,2,15,0],[23,8,15,6,"getLanguageFromCountryCode"],[23,34,15,32],[23,37,15,36,"countryCode"],[23,48,15,55],[23,52,15,70],[24,4,16,2],[24,10,16,8,"languageMap"],[24,21,16,48],[24,24,16,51],[25,6,17,4],[25,10,17,8],[25,12,17,10],[25,16,17,14],[26,6,17,16],[27,6,18,4],[27,10,18,8],[27,12,18,10],[27,16,18,14],[28,6,18,16],[29,6,19,4],[29,10,19,8],[29,12,19,10],[29,16,19,14],[30,6,19,16],[31,6,20,4],[31,10,20,8],[31,12,20,10],[31,16,20,14],[32,6,20,16],[33,6,21,4],[33,10,21,8],[33,12,21,10],[33,16,21,14],[34,6,21,16],[35,6,22,4],[35,10,22,8],[35,12,22,10],[35,16,22,14],[36,6,22,16],[37,6,23,4],[37,10,23,8],[37,12,23,10],[37,16,23,14],[38,6,23,16],[39,6,24,4],[39,10,24,8],[39,12,24,10],[39,16,24,14],[40,6,24,16],[41,6,25,4],[41,10,25,8],[41,12,25,10],[41,16,25,14],[42,6,25,16],[43,6,26,4],[43,10,26,8],[43,12,26,10],[43,16,26,14],[43,17,26,16],[44,4,27,2],[44,5,27,3],[45,4,29,2],[45,11,29,9,"languageMap"],[45,22,29,20],[45,23,29,21,"countryCode"],[45,34,29,32],[45,35,29,33],[45,39,29,37],[45,43,29,41],[45,44,29,42],[45,45,29,43],[46,2,30,0],[46,3,30,1],[47,2,32,7],[47,8,32,13,"useLanguageStore"],[47,24,32,29],[47,27,32,32],[47,31,32,32,"create"],[47,39,32,38],[47,40,32,38,"create"],[47,46,32,38],[47,48,32,55,"set"],[47,51,32,58],[47,56,32,64],[48,4,33,2,"language"],[48,12,33,10],[48,14,33,12],[48,18,33,16],[49,4,34,2,"isLanguageDetected"],[49,22,34,20],[49,24,34,22],[49,29,34,27],[50,4,35,2,"setLanguage"],[50,15,35,13],[50,17,35,15],[50,23,35,22,"language"],[50,31,35,30],[50,35,35,35],[51,6,36,4],[51,12,36,10,"AsyncStorage"],[51,24,36,22],[51,25,36,22,"default"],[51,32,36,22],[51,33,36,23,"setItem"],[51,40,36,30],[51,41,36,31],[51,55,36,45],[51,57,36,47,"language"],[51,65,36,55],[51,66,36,56],[52,6,37,4],[52,12,37,10,"AsyncStorage"],[52,24,37,22],[52,25,37,22,"default"],[52,32,37,22],[52,33,37,23,"setItem"],[52,40,37,30],[52,41,37,31],[52,64,37,54],[52,66,37,56],[52,72,37,62],[52,73,37,63],[53,6,38,4,"set"],[53,9,38,7],[53,10,38,8],[54,8,38,10,"language"],[55,6,38,19],[55,7,38,20],[55,8,38,21],[56,4,39,2],[56,5,39,3],[57,4,40,2,"initializeLanguage"],[57,22,40,20],[57,24,40,22],[57,30,40,22,"initializeLanguage"],[57,31,40,22],[57,36,40,34],[58,6,41,4],[58,10,41,8],[59,8,42,6],[60,8,43,6],[60,14,43,12,"manuallySet"],[60,25,43,23],[60,28,43,26],[60,34,43,32,"AsyncStorage"],[60,46,43,44],[60,47,43,44,"default"],[60,54,43,44],[60,55,43,45,"getItem"],[60,62,43,52],[60,63,43,53],[60,86,43,76],[60,87,43,77],[61,8,44,6],[61,14,44,12,"saved"],[61,19,44,17],[61,22,44,20],[61,28,44,26,"AsyncStorage"],[61,40,44,38],[61,41,44,38,"default"],[61,48,44,38],[61,49,44,39,"getItem"],[61,56,44,46],[61,57,44,47],[61,71,44,61],[61,72,44,62],[62,8,46,6],[62,12,46,10,"manuallySet"],[62,23,46,21],[62,28,46,26],[62,34,46,32],[62,38,46,36,"saved"],[62,43,46,41],[62,45,46,43],[63,10,47,8],[64,10,48,8,"set"],[64,13,48,11],[64,14,48,12],[65,12,48,14,"language"],[65,20,48,22],[65,22,48,24,"saved"],[65,27,48,41],[66,12,48,43,"isLanguageDetected"],[66,30,48,61],[66,32,48,63],[67,10,48,68],[67,11,48,69],[67,12,48,70],[68,10,49,8],[69,8,50,6],[71,8,52,6],[72,8,53,6],[72,12,53,10],[73,10,54,8],[73,16,54,14,"location"],[73,24,54,22],[73,27,54,25],[73,33,54,31],[73,37,54,31,"getUserLocation"],[73,58,54,46],[73,59,54,46,"getUserLocation"],[73,74,54,46],[73,76,54,47],[73,77,54,48],[74,10,55,8],[74,14,55,12,"location"],[74,22,55,20],[74,26,55,24,"location"],[74,34,55,32],[74,35,55,33,"countryCode"],[74,46,55,44],[74,48,55,46],[75,12,56,10],[75,18,56,16,"detectedLanguage"],[75,34,56,32],[75,37,56,35,"getLanguageFromCountryCode"],[75,63,56,61],[75,64,56,62,"location"],[75,72,56,70],[75,73,56,71,"countryCode"],[75,84,56,82],[75,85,56,83],[76,12,57,10,"console"],[76,19,57,17],[76,20,57,18,"log"],[76,23,57,21],[76,24,57,22],[76,45,57,43,"location"],[76,53,57,51],[76,54,57,52,"country"],[76,61,57,59],[76,66,57,64,"location"],[76,74,57,72],[76,75,57,73,"countryCode"],[76,86,57,84],[76,113,57,111,"detectedLanguage"],[76,129,57,127],[76,131,57,129],[76,132,57,130],[78,12,59,10],[79,12,60,10],[79,18,60,16,"AsyncStorage"],[79,30,60,28],[79,31,60,28,"default"],[79,38,60,28],[79,39,60,29,"setItem"],[79,46,60,36],[79,47,60,37],[79,61,60,51],[79,63,60,53,"detectedLanguage"],[79,79,60,69],[79,80,60,70],[80,12,61,10,"set"],[80,15,61,13],[80,16,61,14],[81,14,61,16,"language"],[81,22,61,24],[81,24,61,26,"detectedLanguage"],[81,40,61,42],[82,14,61,44,"isLanguageDetected"],[82,32,61,62],[82,34,61,64],[83,12,61,69],[83,13,61,70],[83,14,61,71],[84,12,62,10],[85,10,63,8],[86,8,64,6],[86,9,64,7],[86,10,64,8],[86,17,64,15,"geoError"],[86,25,64,23],[86,27,64,25],[87,10,65,8,"console"],[87,17,65,15],[87,18,65,16,"error"],[87,23,65,21],[87,24,65,22],[87,70,65,68],[87,72,65,70,"geoError"],[87,80,65,78],[87,81,65,79],[88,8,66,6],[90,8,68,6],[91,8,69,6],[91,12,69,10,"saved"],[91,17,69,15],[91,19,69,17],[92,10,70,8,"set"],[92,13,70,11],[92,14,70,12],[93,12,70,14,"language"],[93,20,70,22],[93,22,70,24,"saved"],[93,27,70,41],[94,12,70,43,"isLanguageDetected"],[94,30,70,61],[94,32,70,63],[95,10,70,68],[95,11,70,69],[95,12,70,70],[96,8,71,6],[96,9,71,7],[96,15,71,13],[97,10,72,8,"set"],[97,13,72,11],[97,14,72,12],[98,12,72,14,"language"],[98,20,72,22],[98,22,72,24],[98,26,72,28],[99,12,72,30,"isLanguageDetected"],[99,30,72,48],[99,32,72,50],[100,10,72,55],[100,11,72,56],[100,12,72,57],[101,8,73,6],[102,6,74,4],[102,7,74,5],[102,8,74,6],[102,15,74,13,"error"],[102,20,74,18],[102,22,74,20],[103,8,75,6,"console"],[103,15,75,13],[103,16,75,14,"error"],[103,21,75,19],[103,22,75,20],[103,54,75,52],[103,56,75,54,"error"],[103,61,75,59],[103,62,75,60],[104,8,76,6,"set"],[104,11,76,9],[104,12,76,10],[105,10,76,12,"language"],[105,18,76,20],[105,20,76,22],[105,24,76,26],[106,10,76,28,"isLanguageDetected"],[106,28,76,46],[106,30,76,48],[107,8,76,53],[107,9,76,54],[107,10,76,55],[108,6,77,4],[109,4,78,2],[110,2,79,0],[110,3,79,1],[110,4,79,2],[110,5,79,3],[111,0,79,4],[111,3]],"functionMap":{"names":["<global>","getLanguageFromCountryCode","create$argument_0","setLanguage","initializeLanguage"],"mappings":"AAA;mCCc;CDe;sDEE;eCG;GDI;sBEC;GFsC;EFC"},"hasCjsExports":false},"type":"js/module"}]}