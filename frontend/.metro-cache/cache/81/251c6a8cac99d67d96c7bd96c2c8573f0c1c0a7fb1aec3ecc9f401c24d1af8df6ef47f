{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return EventEmitter;\n    }\n  });\n  class EventEmitter {\n    #registry = {};\n    addListener(eventType, listener, context) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('EventEmitter.addListener(...): 2nd argument must be a function.');\n      }\n      const registrations = allocate(this.#registry, eventType);\n      const registration = {\n        context,\n        listener,\n        remove() {\n          registrations.delete(registration);\n        }\n      };\n      registrations.add(registration);\n      return registration;\n    }\n    emit(eventType, ...args) {\n      const registrations = this.#registry[eventType];\n      if (registrations != null) {\n        for (const registration of Array.from(registrations)) {\n          registration.listener.apply(registration.context, args);\n        }\n      }\n    }\n    removeAllListeners(eventType) {\n      if (eventType == null) {\n        this.#registry = {};\n      } else {\n        delete this.#registry[eventType];\n      }\n    }\n    listenerCount(eventType) {\n      const registrations = this.#registry[eventType];\n      return registrations == null ? 0 : registrations.size;\n    }\n  }\n  function allocate(registry, eventType) {\n    let registrations = registry[eventType];\n    if (registrations == null) {\n      registrations = new Set();\n      registry[eventType] = registrations;\n    }\n    return registrations;\n  }\n});","lineCount":58,"map":[[7,2,64,15,"Object"],[7,8,64,15],[7,9,64,15,"defineProperty"],[7,23,64,15],[7,24,64,15,"exports"],[7,31,64,15],[8,4,64,15,"enumerable"],[8,14,64,15],[9,4,64,15,"get"],[9,7,64,15],[9,18,64,15,"get"],[9,19,64,15],[10,6,64,15],[10,13,64,15,"EventEmitter"],[10,25,64,15],[11,4,64,15],[12,2,64,15],[13,2,64,15],[13,8,64,21,"EventEmitter"],[13,20,64,33],[13,21,66,0],[14,4,67,2],[14,5,67,3,"registry"],[14,13,67,11],[14,16,67,41],[14,17,67,42],[14,18,67,43],[15,4,73,2,"addListener"],[15,15,73,13,"addListener"],[15,16,74,4,"eventType"],[15,25,74,21],[15,27,75,4,"listener"],[15,35,75,57],[15,37,76,4,"context"],[15,44,76,18],[15,46,77,23],[16,6,78,4],[16,10,78,8],[16,17,78,15,"listener"],[16,25,78,23],[16,30,78,28],[16,40,78,38],[16,42,78,40],[17,8,79,6],[17,14,79,12],[17,18,79,16,"TypeError"],[17,27,79,25],[17,28,80,8],[17,93,81,6],[17,94,81,7],[18,6,82,4],[19,6,83,4],[19,12,83,10,"registrations"],[19,25,83,23],[19,28,83,26,"allocate"],[19,36,83,34],[19,37,87,6],[19,41,87,10],[19,42,87,11],[19,43,87,12,"registry"],[19,51,87,20],[19,53,87,22,"eventType"],[19,62,87,31],[19,63,87,32],[20,6,88,4],[20,12,88,10,"registration"],[20,24,88,61],[20,27,88,64],[21,8,89,6,"context"],[21,15,89,13],[22,8,90,6,"listener"],[22,16,90,14],[23,8,91,6,"remove"],[23,14,91,12,"remove"],[23,15,91,12],[23,17,91,21],[24,10,92,8,"registrations"],[24,23,92,21],[24,24,92,22,"delete"],[24,30,92,28],[24,31,92,29,"registration"],[24,43,92,41],[24,44,92,42],[25,8,93,6],[26,6,94,4],[26,7,94,5],[27,6,95,4,"registrations"],[27,19,95,17],[27,20,95,18,"add"],[27,23,95,21],[27,24,95,22,"registration"],[27,36,95,34],[27,37,95,35],[28,6,96,4],[28,13,96,11,"registration"],[28,25,96,23],[29,4,97,2],[30,4,106,2,"emit"],[30,8,106,6,"emit"],[30,9,107,4,"eventType"],[30,18,107,21],[30,20,108,4],[30,23,108,7,"args"],[30,27,108,36],[30,29,109,10],[31,6,110,4],[31,12,110,10,"registrations"],[31,25,110,68],[31,28,111,6],[31,32,111,10],[31,33,111,11],[31,34,111,12,"registry"],[31,42,111,20],[31,43,111,21,"eventType"],[31,52,111,30],[31,53,111,31],[32,6,112,4],[32,10,112,8,"registrations"],[32,23,112,21],[32,27,112,25],[32,31,112,29],[32,33,112,31],[33,8,115,6],[33,13,115,11],[33,19,115,17,"registration"],[33,31,115,29],[33,35,115,33,"Array"],[33,40,115,38],[33,41,115,39,"from"],[33,45,115,43],[33,46,115,44,"registrations"],[33,59,115,57],[33,60,115,58],[33,62,115,60],[34,10,116,8,"registration"],[34,22,116,20],[34,23,116,21,"listener"],[34,31,116,29],[34,32,116,30,"apply"],[34,37,116,35],[34,38,116,36,"registration"],[34,50,116,48],[34,51,116,49,"context"],[34,58,116,56],[34,60,116,58,"args"],[34,64,116,62],[34,65,116,63],[35,8,117,6],[36,6,118,4],[37,4,119,2],[38,4,124,2,"removeAllListeners"],[38,22,124,20,"removeAllListeners"],[38,23,125,4,"eventType"],[38,32,125,23],[38,34,126,10],[39,6,127,4],[39,10,127,8,"eventType"],[39,19,127,17],[39,23,127,21],[39,27,127,25],[39,29,127,27],[40,8,128,6],[40,12,128,10],[40,13,128,11],[40,14,128,12,"registry"],[40,22,128,20],[40,25,128,23],[40,26,128,24],[40,27,128,25],[41,6,129,4],[41,7,129,5],[41,13,129,11],[42,8,130,6],[42,15,130,13],[42,19,130,17],[42,20,130,18],[42,21,130,19,"registry"],[42,29,130,27],[42,30,130,28,"eventType"],[42,39,130,37],[42,40,130,38],[43,6,131,4],[44,4,132,2],[45,4,137,2,"listenerCount"],[45,17,137,15,"listenerCount"],[45,18,137,48,"eventType"],[45,27,137,65],[45,29,137,75],[46,6,138,4],[46,12,138,10,"registrations"],[46,25,138,50],[46,28,138,53],[46,32,138,57],[46,33,138,58],[46,34,138,59,"registry"],[46,42,138,67],[46,43,138,68,"eventType"],[46,52,138,77],[46,53,138,78],[47,6,139,4],[47,13,139,11,"registrations"],[47,26,139,24],[47,30,139,28],[47,34,139,32],[47,37,139,35],[47,38,139,36],[47,41,139,39,"registrations"],[47,54,139,52],[47,55,139,53,"size"],[47,59,139,57],[48,4,140,2],[49,2,141,0],[50,2,143,0],[50,11,143,9,"allocate"],[50,19,143,17,"allocate"],[50,20,148,2,"registry"],[50,28,148,37],[50,30,149,2,"eventType"],[50,39,149,19],[50,41,150,33],[51,4,151,2],[51,8,151,6,"registrations"],[51,21,151,51],[51,24,151,54,"registry"],[51,32,151,62],[51,33,151,63,"eventType"],[51,42,151,72],[51,43,151,73],[52,4,152,2],[52,8,152,6,"registrations"],[52,21,152,19],[52,25,152,23],[52,29,152,27],[52,31,152,29],[53,6,153,4,"registrations"],[53,19,153,17],[53,22,153,20],[53,26,153,24,"Set"],[53,29,153,27],[53,30,153,28],[53,31,153,29],[54,6,154,4,"registry"],[54,14,154,12],[54,15,154,13,"eventType"],[54,24,154,22],[54,25,154,23],[54,28,154,26,"registrations"],[54,41,154,39],[55,4,155,2],[56,4,156,2],[56,11,156,9,"registrations"],[56,24,156,22],[57,2,157,0],[58,0,157,1],[58,3]],"functionMap":{"names":["<global>","EventEmitter","addListener","registration.remove","emit","removeAllListeners","listenerCount","allocate"],"mappings":"AAA;eC+D;ECS;MCkB;ODE;GDI;EGS;GHa;EIK;GJQ;EKK;GLG;CDC;AOE"},"hasCjsExports":false},"type":"js/module"}]}