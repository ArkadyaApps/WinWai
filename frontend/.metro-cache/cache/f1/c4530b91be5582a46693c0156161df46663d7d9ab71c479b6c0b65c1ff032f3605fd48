{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":141,"column":0,"index":4327}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../EventEmitter/RCTDeviceEventEmitter","data":{"asyncType":null,"locs":[{"start":{"line":11,"column":0,"index":228},"end":{"line":11,"column":74,"index":302}}],"key":"8/8s2qHajvAK0ZSPYhrCXcF24uY="}},{"name":"../NativeModules/specs/NativeRedBox","data":{"asyncType":null,"locs":[{"start":{"line":12,"column":0,"index":303},"end":{"line":12,"column":63,"index":366}}],"key":"GGG5fr8azKaacO33FuNWUBj5LpE="}},{"name":"./NativeBugReporting","data":{"asyncType":null,"locs":[{"start":{"line":14,"column":0,"index":438},"end":{"line":14,"column":54,"index":492}}],"key":"aiaXOkTyipFLRH1QV9ruHcZsHXs="}},{"name":"./dumpReactTree","data":{"asyncType":null,"locs":[{"start":{"line":26,"column":4,"index":736},"end":{"line":26,"column":30,"index":762}}],"key":"N1B5LBkbWHAiTjdPpA04c0JW5ck="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  var _RCTDeviceEventEmitter = _interopRequireDefault(require(_dependencyMap[1], \"../EventEmitter/RCTDeviceEventEmitter\"));\n  var _NativeRedBox = _interopRequireDefault(require(_dependencyMap[2], \"../NativeModules/specs/NativeRedBox\"));\n  var _NativeBugReporting = _interopRequireDefault(require(_dependencyMap[3], \"./NativeBugReporting\"));\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * @format\n   * \n   */\n\n  function defaultExtras() {\n    BugReporting.addFileSource('react_hierarchy.txt', () => require(_dependencyMap[4], \"./dumpReactTree\")());\n  }\n\n  /**\n   * A simple class for collecting bug report data. Components can add sources that will be queried when a bug report\n   * is created via `collectExtraData`. For example, a list component might add a source that provides the list of rows\n   * that are currently visible on screen. Components should also remember to call `remove()` on the object that is\n   * returned by `addSource` when they are unmounted.\n   */\n  class BugReporting {\n    static _extraSources = new Map();\n    static _fileSources = new Map();\n    static _subscription = null;\n    static _redboxSubscription = null;\n    static _maybeInit() {\n      if (!BugReporting._subscription) {\n        BugReporting._subscription = _RCTDeviceEventEmitter.default.addListener('collectBugExtraData',\n        // $FlowFixMe[method-unbinding]\n        BugReporting.collectExtraData, null);\n        defaultExtras();\n      }\n      if (!BugReporting._redboxSubscription) {\n        BugReporting._redboxSubscription = _RCTDeviceEventEmitter.default.addListener('collectRedBoxExtraData',\n        // $FlowFixMe[method-unbinding]\n        BugReporting.collectExtraData, null);\n      }\n    }\n\n    /**\n     * Maps a string key to a simple callback that should return a string payload to be attached\n     * to a bug report. Source callbacks are called when `collectExtraData` is called.\n     *\n     * Returns an object to remove the source when the component unmounts.\n     *\n     * Conflicts trample with a warning.\n     */\n    static addSource(key, callback) {\n      return this._addSource(key, callback, BugReporting._extraSources);\n    }\n\n    /**\n     * Maps a string key to a simple callback that should return a string payload to be attached\n     * to a bug report. Source callbacks are called when `collectExtraData` is called.\n     *\n     * Returns an object to remove the source when the component unmounts.\n     *\n     * Conflicts trample with a warning.\n     */\n    static addFileSource(key, callback) {\n      return this._addSource(key, callback, BugReporting._fileSources);\n    }\n    static _addSource(key, callback, source) {\n      BugReporting._maybeInit();\n      if (source.has(key)) {\n        console.warn(`BugReporting.add* called multiple times for same key '${key}'`);\n      }\n      source.set(key, callback);\n      return {\n        remove: () => {\n          source.delete(key);\n        }\n      };\n    }\n\n    /**\n     * This can be called from a native bug reporting flow, or from JS code.\n     *\n     * If available, this will call `NativeModules.BugReporting.setExtraData(extraData)`\n     * after collecting `extraData`.\n     */\n    static collectExtraData() {\n      const extraData = {};\n      for (const [key, callback] of BugReporting._extraSources) {\n        extraData[key] = callback();\n      }\n      const fileData = {};\n      for (const [key, callback] of BugReporting._fileSources) {\n        fileData[key] = callback();\n      }\n      if (_NativeBugReporting.default != null && _NativeBugReporting.default.setExtraData != null) {\n        _NativeBugReporting.default.setExtraData(extraData, fileData);\n      }\n      if (_NativeRedBox.default != null && _NativeRedBox.default.setExtraData != null) {\n        _NativeRedBox.default.setExtraData(extraData, 'From BugReporting.js');\n      }\n      return {\n        extras: extraData,\n        files: fileData\n      };\n    }\n  }\n  module.exports = BugReporting;\n});","lineCount":109,"map":[[3,2,11,0],[3,6,11,0,"_RCTDeviceEventEmitter"],[3,28,11,0],[3,31,11,0,"_interopRequireDefault"],[3,53,11,0],[3,54,11,0,"require"],[3,61,11,0],[3,62,11,0,"_dependencyMap"],[3,76,11,0],[4,2,12,0],[4,6,12,0,"_NativeRedBox"],[4,19,12,0],[4,22,12,0,"_interopRequireDefault"],[4,44,12,0],[4,45,12,0,"require"],[4,52,12,0],[4,53,12,0,"_dependencyMap"],[4,67,12,0],[5,2,14,0],[5,6,14,0,"_NativeBugReporting"],[5,25,14,0],[5,28,14,0,"_interopRequireDefault"],[5,50,14,0],[5,51,14,0,"require"],[5,58,14,0],[5,59,14,0,"_dependencyMap"],[5,73,14,0],[6,2,1,0],[7,0,2,0],[8,0,3,0],[9,0,4,0],[10,0,5,0],[11,0,6,0],[12,0,7,0],[13,0,8,0],[14,0,9,0],[16,2,24,0],[16,11,24,9,"defaultExtras"],[16,24,24,22,"defaultExtras"],[16,25,24,22],[16,27,24,25],[17,4,25,2,"BugReporting"],[17,16,25,14],[17,17,25,15,"addFileSource"],[17,30,25,28],[17,31,25,29],[17,52,25,50],[17,54,25,52],[17,60,26,4,"require"],[17,67,26,11],[17,68,26,11,"_dependencyMap"],[17,82,26,11],[17,104,26,29],[17,105,26,30],[17,106,26,31],[17,107,27,2],[17,108,27,3],[18,2,28,0],[20,2,30,0],[21,0,31,0],[22,0,32,0],[23,0,33,0],[24,0,34,0],[25,0,35,0],[26,2,36,0],[26,8,36,6,"BugReporting"],[26,20,36,18],[26,21,36,19],[27,4,37,2],[27,11,37,9,"_extraSources"],[27,24,37,22],[27,27,37,54],[27,31,37,58,"Map"],[27,34,37,61],[27,35,37,62],[27,36,37,63],[28,4,38,2],[28,11,38,9,"_fileSources"],[28,23,38,21],[28,26,38,53],[28,30,38,57,"Map"],[28,33,38,60],[28,34,38,61],[28,35,38,62],[29,4,39,2],[29,11,39,9,"_subscription"],[29,24,39,22],[29,27,39,45],[29,31,39,49],[30,4,40,2],[30,11,40,9,"_redboxSubscription"],[30,30,40,28],[30,33,40,51],[30,37,40,55],[31,4,42,2],[31,11,42,9,"_maybeInit"],[31,21,42,19,"_maybeInit"],[31,22,42,19],[31,24,42,22],[32,6,43,4],[32,10,43,8],[32,11,43,9,"BugReporting"],[32,23,43,21],[32,24,43,22,"_subscription"],[32,37,43,35],[32,39,43,37],[33,8,44,6,"BugReporting"],[33,20,44,18],[33,21,44,19,"_subscription"],[33,34,44,32],[33,37,44,35,"RCTDeviceEventEmitter"],[33,67,44,56],[33,68,44,57,"addListener"],[33,79,44,68],[33,80,45,8],[33,101,45,29],[34,8,46,8],[35,8,47,8,"BugReporting"],[35,20,47,20],[35,21,47,21,"collectExtraData"],[35,37,47,37],[35,39,48,8],[35,43,49,6],[35,44,49,7],[36,8,50,6,"defaultExtras"],[36,21,50,19],[36,22,50,20],[36,23,50,21],[37,6,51,4],[38,6,53,4],[38,10,53,8],[38,11,53,9,"BugReporting"],[38,23,53,21],[38,24,53,22,"_redboxSubscription"],[38,43,53,41],[38,45,53,43],[39,8,54,6,"BugReporting"],[39,20,54,18],[39,21,54,19,"_redboxSubscription"],[39,40,54,38],[39,43,54,41,"RCTDeviceEventEmitter"],[39,73,54,62],[39,74,54,63,"addListener"],[39,85,54,74],[39,86,55,8],[39,110,55,32],[40,8,56,8],[41,8,57,8,"BugReporting"],[41,20,57,20],[41,21,57,21,"collectExtraData"],[41,37,57,37],[41,39,58,8],[41,43,59,6],[41,44,59,7],[42,6,60,4],[43,4,61,2],[45,4,63,2],[46,0,64,0],[47,0,65,0],[48,0,66,0],[49,0,67,0],[50,0,68,0],[51,0,69,0],[52,0,70,0],[53,4,71,2],[53,11,71,9,"addSource"],[53,20,71,18,"addSource"],[53,21,72,4,"key"],[53,24,72,15],[53,26,73,4,"callback"],[53,34,73,28],[53,36,74,31],[54,6,75,4],[54,13,75,11],[54,17,75,15],[54,18,75,16,"_addSource"],[54,28,75,26],[54,29,75,27,"key"],[54,32,75,30],[54,34,75,32,"callback"],[54,42,75,40],[54,44,75,42,"BugReporting"],[54,56,75,54],[54,57,75,55,"_extraSources"],[54,70,75,68],[54,71,75,69],[55,4,76,2],[57,4,78,2],[58,0,79,0],[59,0,80,0],[60,0,81,0],[61,0,82,0],[62,0,83,0],[63,0,84,0],[64,0,85,0],[65,4,86,2],[65,11,86,9,"addFileSource"],[65,24,86,22,"addFileSource"],[65,25,87,4,"key"],[65,28,87,15],[65,30,88,4,"callback"],[65,38,88,28],[65,40,89,31],[66,6,90,4],[66,13,90,11],[66,17,90,15],[66,18,90,16,"_addSource"],[66,28,90,26],[66,29,90,27,"key"],[66,32,90,30],[66,34,90,32,"callback"],[66,42,90,40],[66,44,90,42,"BugReporting"],[66,56,90,54],[66,57,90,55,"_fileSources"],[66,69,90,67],[66,70,90,68],[67,4,91,2],[68,4,93,2],[68,11,93,9,"_addSource"],[68,21,93,19,"_addSource"],[68,22,94,4,"key"],[68,25,94,15],[68,27,95,4,"callback"],[68,35,95,28],[68,37,96,4,"source"],[68,43,96,39],[68,45,97,31],[69,6,98,4,"BugReporting"],[69,18,98,16],[69,19,98,17,"_maybeInit"],[69,29,98,27],[69,30,98,28],[69,31,98,29],[70,6,99,4],[70,10,99,8,"source"],[70,16,99,14],[70,17,99,15,"has"],[70,20,99,18],[70,21,99,19,"key"],[70,24,99,22],[70,25,99,23],[70,27,99,25],[71,8,100,6,"console"],[71,15,100,13],[71,16,100,14,"warn"],[71,20,100,18],[71,21,101,8],[71,78,101,65,"key"],[71,81,101,68],[71,84,102,6],[71,85,102,7],[72,6,103,4],[73,6,104,4,"source"],[73,12,104,10],[73,13,104,11,"set"],[73,16,104,14],[73,17,104,15,"key"],[73,20,104,18],[73,22,104,20,"callback"],[73,30,104,28],[73,31,104,29],[74,6,105,4],[74,13,105,11],[75,8,106,6,"remove"],[75,14,106,12],[75,16,106,14,"remove"],[75,17,106,14],[75,22,106,20],[76,10,107,8,"source"],[76,16,107,14],[76,17,107,15,"delete"],[76,23,107,21],[76,24,107,22,"key"],[76,27,107,25],[76,28,107,26],[77,8,108,6],[78,6,109,4],[78,7,109,5],[79,4,110,2],[81,4,112,2],[82,0,113,0],[83,0,114,0],[84,0,115,0],[85,0,116,0],[86,0,117,0],[87,4,118,2],[87,11,118,9,"collectExtraData"],[87,27,118,25,"collectExtraData"],[87,28,118,25],[87,30,118,39],[88,6,119,4],[88,12,119,10,"extraData"],[88,21,119,30],[88,24,119,33],[88,25,119,34],[88,26,119,35],[89,6,120,4],[89,11,120,9],[89,17,120,15],[89,18,120,16,"key"],[89,21,120,19],[89,23,120,21,"callback"],[89,31,120,29],[89,32,120,30],[89,36,120,34,"BugReporting"],[89,48,120,46],[89,49,120,47,"_extraSources"],[89,62,120,60],[89,64,120,62],[90,8,121,6,"extraData"],[90,17,121,15],[90,18,121,16,"key"],[90,21,121,19],[90,22,121,20],[90,25,121,23,"callback"],[90,33,121,31],[90,34,121,32],[90,35,121,33],[91,6,122,4],[92,6,123,4],[92,12,123,10,"fileData"],[92,20,123,29],[92,23,123,32],[92,24,123,33],[92,25,123,34],[93,6,124,4],[93,11,124,9],[93,17,124,15],[93,18,124,16,"key"],[93,21,124,19],[93,23,124,21,"callback"],[93,31,124,29],[93,32,124,30],[93,36,124,34,"BugReporting"],[93,48,124,46],[93,49,124,47,"_fileSources"],[93,61,124,59],[93,63,124,61],[94,8,125,6,"fileData"],[94,16,125,14],[94,17,125,15,"key"],[94,20,125,18],[94,21,125,19],[94,24,125,22,"callback"],[94,32,125,30],[94,33,125,31],[94,34,125,32],[95,6,126,4],[96,6,128,4],[96,10,128,8,"NativeBugReporting"],[96,37,128,26],[96,41,128,30],[96,45,128,34],[96,49,128,38,"NativeBugReporting"],[96,76,128,56],[96,77,128,57,"setExtraData"],[96,89,128,69],[96,93,128,73],[96,97,128,77],[96,99,128,79],[97,8,129,6,"NativeBugReporting"],[97,35,129,24],[97,36,129,25,"setExtraData"],[97,48,129,37],[97,49,129,38,"extraData"],[97,58,129,47],[97,60,129,49,"fileData"],[97,68,129,57],[97,69,129,58],[98,6,130,4],[99,6,132,4],[99,10,132,8,"NativeRedBox"],[99,31,132,20],[99,35,132,24],[99,39,132,28],[99,43,132,32,"NativeRedBox"],[99,64,132,44],[99,65,132,45,"setExtraData"],[99,77,132,57],[99,81,132,61],[99,85,132,65],[99,87,132,67],[100,8,133,6,"NativeRedBox"],[100,29,133,18],[100,30,133,19,"setExtraData"],[100,42,133,31],[100,43,133,32,"extraData"],[100,52,133,41],[100,54,133,43],[100,76,133,65],[100,77,133,66],[101,6,134,4],[102,6,136,4],[102,13,136,11],[103,8,136,12,"extras"],[103,14,136,18],[103,16,136,20,"extraData"],[103,25,136,29],[104,8,136,31,"files"],[104,13,136,36],[104,15,136,38,"fileData"],[105,6,136,46],[105,7,136,47],[106,4,137,2],[107,2,138,0],[108,2,140,0,"module"],[108,8,140,6],[108,9,140,7,"exports"],[108,16,140,14],[108,19,140,17,"BugReporting"],[108,31,140,29],[109,0,140,30]],"functionMap":{"names":["<global>","defaultExtras","addFileSource$argument_1","BugReporting","_maybeInit","addSource","addFileSource","_addSource","remove","collectExtraData"],"mappings":"AAA;ACuB;oDCC;gCDC;CDE;AGQ;ECM;GDmB;EEU;GFK;EGU;GHK;EIE;cCa;ODE;GJE;EMQ;GNmB;CHC"}},"type":"js/module"}]}