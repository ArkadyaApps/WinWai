{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../utils/adConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":41},"end":{"line":2,"column":46,"index":87}}],"key":"Ngy1f/5v9hp+s2XbC6m09CzEK5Q=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":88},"end":{"line":3,"column":31,"index":119}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react-native-google-mobile-ads","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":16,"index":386},"end":{"line":16,"column":57,"index":427}}],"key":"xLMv7sLcbPpHgIe8huLBOAaybLs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"rewardedAdManager\", {\n    enumerable: true,\n    get: function () {\n      return rewardedAdManager;\n    }\n  });\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _utilsAdConfig = require(_dependencyMap[1], \"../utils/adConfig\");\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  // Conditionally import AdMob types\n  let RewardedAd, RewardedAdEventType;\n  if (Platform.default.OS !== 'web') {\n    const AdMob = require(_dependencyMap[3], \"react-native-google-mobile-ads\");\n    RewardedAd = AdMob.RewardedAd;\n    RewardedAdEventType = AdMob.RewardedAdEventType;\n  }\n  class RewardedAdManager {\n    rewardedAd = null;\n    isLoading = false;\n    currentUserId = '';\n    async loadRewardedAd(userId) {\n      if (this.isLoading || this.rewardedAd?.loaded) {\n        this.currentUserId = userId;\n        return;\n      }\n      this.isLoading = true;\n      this.currentUserId = userId;\n      const adUnitId = (0, _utilsAdConfig.getAdUnit)('rewarded');\n      this.rewardedAd = RewardedAd.createForAdRequest(adUnitId, {\n        keywords: ['gaming', 'rewards', 'entertainment']\n      });\n      this.setupRewardedListeners();\n      try {\n        await this.rewardedAd.load();\n      } catch (error) {\n        console.error('Failed to load rewarded ad:', error);\n        this.isLoading = false;\n      }\n    }\n    setupRewardedListeners() {\n      if (!this.rewardedAd) return;\n      this.rewardedAd.addAdEventListener(RewardedAdEventType.LOADED, () => {\n        console.log('Rewarded ad loaded');\n        this.isLoading = false;\n      });\n      this.rewardedAd.addAdEventListener(RewardedAdEventType.EARNED_REWARD, async reward => {\n        console.log(`User earned reward: ${reward.amount} ${reward.type}`);\n        const rewardEvent = {\n          userId: this.currentUserId,\n          rewardType: reward.type,\n          rewardAmount: reward.amount,\n          transactionId: this.generateTransactionId(),\n          timestamp: Date.now()\n        };\n        try {\n          const response = await api.default.post('/api/rewards/verify-ad', rewardEvent);\n          this.onRewardCallback?.(rewardEvent);\n          console.log('Reward verified:', response.data);\n        } catch (error) {\n          console.error('Failed to verify reward:', error);\n        }\n      });\n      this.rewardedAd.addAdEventListener(RewardedAdEventType.CLOSED, () => {\n        console.log('Rewarded ad closed');\n        this.rewardedAd = null;\n        this.loadRewardedAd(this.currentUserId);\n      });\n    }\n    async showRewardedAd() {\n      if (!this.rewardedAd?.loaded) {\n        console.warn('Rewarded ad not loaded');\n        return;\n      }\n      try {\n        await this.rewardedAd.show();\n      } catch (error) {\n        console.error('Failed to show rewarded ad:', error);\n      }\n    }\n    isRewardedAdReady() {\n      return !!this.rewardedAd?.loaded;\n    }\n    setRewardCallback(callback) {\n      this.onRewardCallback = callback;\n    }\n    generateTransactionId() {\n      return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    }\n  }\n  const rewardedAdManager = new RewardedAdManager();\n});","lineCount":104,"map":[[12,2,121,0,"Object"],[12,8,121,0],[12,9,121,0,"defineProperty"],[12,23,121,0],[12,24,121,0,"exports"],[12,31,121,0],[13,4,121,0,"enumerable"],[13,14,121,0],[14,4,121,0,"get"],[14,7,121,0],[14,18,121,0,"get"],[14,19,121,0],[15,6,121,0],[15,13,121,0,"rewardedAdManager"],[15,30,121,0],[16,4,121,0],[17,2,121,0],[18,2,121,57],[18,6,121,57,"_reactNativeWebDistExportsPlatform"],[18,40,121,57],[18,43,121,57,"require"],[18,50,121,57],[18,51,121,57,"_dependencyMap"],[18,65,121,57],[19,2,121,57],[19,6,121,57,"Platform"],[19,14,121,57],[19,17,121,57,"_interopDefault"],[19,32,121,57],[19,33,121,57,"_reactNativeWebDistExportsPlatform"],[19,67,121,57],[20,2,2,0],[20,6,2,0,"_utilsAdConfig"],[20,20,2,0],[20,23,2,0,"require"],[20,30,2,0],[20,31,2,0,"_dependencyMap"],[20,45,2,0],[21,2,3,0],[21,6,3,0,"_utilsApi"],[21,15,3,0],[21,18,3,0,"require"],[21,25,3,0],[21,26,3,0,"_dependencyMap"],[21,40,3,0],[22,2,3,0],[22,6,3,0,"api"],[22,9,3,0],[22,12,3,0,"_interopDefault"],[22,27,3,0],[22,28,3,0,"_utilsApi"],[22,37,3,0],[23,2,13,0],[24,2,14,0],[24,6,14,4,"RewardedAd"],[24,16,14,19],[24,18,14,21,"RewardedAdEventType"],[24,37,14,45],[25,2,15,0],[25,6,15,4,"Platform"],[25,14,15,12],[25,15,15,12,"default"],[25,22,15,12],[25,23,15,13,"OS"],[25,25,15,15],[25,30,15,20],[25,35,15,25],[25,37,15,27],[26,4,16,2],[26,10,16,8,"AdMob"],[26,15,16,13],[26,18,16,16,"require"],[26,25,16,23],[26,26,16,23,"_dependencyMap"],[26,40,16,23],[26,77,16,56],[26,78,16,57],[27,4,17,2,"RewardedAd"],[27,14,17,12],[27,17,17,15,"AdMob"],[27,22,17,20],[27,23,17,21,"RewardedAd"],[27,33,17,31],[28,4,18,2,"RewardedAdEventType"],[28,23,18,21],[28,26,18,24,"AdMob"],[28,31,18,29],[28,32,18,30,"RewardedAdEventType"],[28,51,18,49],[29,2,19,0],[30,2,21,0],[30,8,21,6,"RewardedAdManager"],[30,25,21,23],[30,26,21,24],[31,4,22,10,"rewardedAd"],[31,14,22,20],[31,17,22,28],[31,21,22,32],[32,4,23,10,"isLoading"],[32,13,23,19],[32,16,23,22],[32,21,23,27],[33,4,24,10,"currentUserId"],[33,17,24,23],[33,20,24,34],[33,22,24,36],[34,4,27,2],[34,10,27,8,"loadRewardedAd"],[34,24,27,22,"loadRewardedAd"],[34,25,27,23,"userId"],[34,31,27,37],[34,33,27,54],[35,6,28,4],[35,10,28,8],[35,14,28,12],[35,15,28,13,"isLoading"],[35,24,28,22],[35,28,28,26],[35,32,28,30],[35,33,28,31,"rewardedAd"],[35,43,28,41],[35,45,28,43,"loaded"],[35,51,28,49],[35,53,28,51],[36,8,29,6],[36,12,29,10],[36,13,29,11,"currentUserId"],[36,26,29,24],[36,29,29,27,"userId"],[36,35,29,33],[37,8,30,6],[38,6,31,4],[39,6,33,4],[39,10,33,8],[39,11,33,9,"isLoading"],[39,20,33,18],[39,23,33,21],[39,27,33,25],[40,6,34,4],[40,10,34,8],[40,11,34,9,"currentUserId"],[40,24,34,22],[40,27,34,25,"userId"],[40,33,34,31],[41,6,35,4],[41,12,35,10,"adUnitId"],[41,20,35,18],[41,23,35,21],[41,27,35,21,"getAdUnit"],[41,41,35,30],[41,42,35,30,"getAdUnit"],[41,51,35,30],[41,53,35,31],[41,63,35,41],[41,64,35,42],[42,6,37,4],[42,10,37,8],[42,11,37,9,"rewardedAd"],[42,21,37,19],[42,24,37,22,"RewardedAd"],[42,34,37,32],[42,35,37,33,"createForAdRequest"],[42,53,37,51],[42,54,37,52,"adUnitId"],[42,62,37,60],[42,64,37,62],[43,8,38,6,"keywords"],[43,16,38,14],[43,18,38,16],[43,19,38,17],[43,27,38,25],[43,29,38,27],[43,38,38,36],[43,40,38,38],[43,55,38,53],[44,6,39,4],[44,7,39,5],[44,8,39,6],[45,6,41,4],[45,10,41,8],[45,11,41,9,"setupRewardedListeners"],[45,33,41,31],[45,34,41,32],[45,35,41,33],[46,6,43,4],[46,10,43,8],[47,8,44,6],[47,14,44,12],[47,18,44,16],[47,19,44,17,"rewardedAd"],[47,29,44,27],[47,30,44,28,"load"],[47,34,44,32],[47,35,44,33],[47,36,44,34],[48,6,45,4],[48,7,45,5],[48,8,45,6],[48,15,45,13,"error"],[48,20,45,18],[48,22,45,20],[49,8,46,6,"console"],[49,15,46,13],[49,16,46,14,"error"],[49,21,46,19],[49,22,46,20],[49,51,46,49],[49,53,46,51,"error"],[49,58,46,56],[49,59,46,57],[50,8,47,6],[50,12,47,10],[50,13,47,11,"isLoading"],[50,22,47,20],[50,25,47,23],[50,30,47,28],[51,6,48,4],[52,4,49,2],[53,4,51,10,"setupRewardedListeners"],[53,26,51,32,"setupRewardedListeners"],[53,27,51,32],[53,29,51,41],[54,6,52,4],[54,10,52,8],[54,11,52,9],[54,15,52,13],[54,16,52,14,"rewardedAd"],[54,26,52,24],[54,28,52,26],[55,6,54,4],[55,10,54,8],[55,11,54,9,"rewardedAd"],[55,21,54,19],[55,22,54,20,"addAdEventListener"],[55,40,54,38],[55,41,55,6,"RewardedAdEventType"],[55,60,55,25],[55,61,55,26,"LOADED"],[55,67,55,32],[55,69,56,6],[55,75,56,12],[56,8,57,8,"console"],[56,15,57,15],[56,16,57,16,"log"],[56,19,57,19],[56,20,57,20],[56,40,57,40],[56,41,57,41],[57,8,58,8],[57,12,58,12],[57,13,58,13,"isLoading"],[57,22,58,22],[57,25,58,25],[57,30,58,30],[58,6,59,6],[58,7,60,4],[58,8,60,5],[59,6,62,4],[59,10,62,8],[59,11,62,9,"rewardedAd"],[59,21,62,19],[59,22,62,20,"addAdEventListener"],[59,40,62,38],[59,41,63,6,"RewardedAdEventType"],[59,60,63,25],[59,61,63,26,"EARNED_REWARD"],[59,74,63,39],[59,76,64,6],[59,82,64,13,"reward"],[59,88,64,19],[59,92,64,24],[60,8,65,8,"console"],[60,15,65,15],[60,16,65,16,"log"],[60,19,65,19],[60,20,65,20],[60,43,65,43,"reward"],[60,49,65,49],[60,50,65,50,"amount"],[60,56,65,56],[60,60,65,60,"reward"],[60,66,65,66],[60,67,65,67,"type"],[60,71,65,71],[60,73,65,73],[60,74,65,74],[61,8,67,8],[61,14,67,14,"rewardEvent"],[61,25,67,38],[61,28,67,41],[62,10,68,10,"userId"],[62,16,68,16],[62,18,68,18],[62,22,68,22],[62,23,68,23,"currentUserId"],[62,36,68,36],[63,10,69,10,"rewardType"],[63,20,69,20],[63,22,69,22,"reward"],[63,28,69,28],[63,29,69,29,"type"],[63,33,69,33],[64,10,70,10,"rewardAmount"],[64,22,70,22],[64,24,70,24,"reward"],[64,30,70,30],[64,31,70,31,"amount"],[64,37,70,37],[65,10,71,10,"transactionId"],[65,23,71,23],[65,25,71,25],[65,29,71,29],[65,30,71,30,"generateTransactionId"],[65,51,71,51],[65,52,71,52],[65,53,71,53],[66,10,72,10,"timestamp"],[66,19,72,19],[66,21,72,21,"Date"],[66,25,72,25],[66,26,72,26,"now"],[66,29,72,29],[66,30,72,30],[67,8,73,8],[67,9,73,9],[68,8,75,8],[68,12,75,12],[69,10,76,10],[69,16,76,16,"response"],[69,24,76,24],[69,27,76,27],[69,33,76,33,"api"],[69,36,76,36],[69,37,76,36,"default"],[69,44,76,36],[69,45,76,37,"post"],[69,49,76,41],[69,50,76,42],[69,74,76,66],[69,76,76,68,"rewardEvent"],[69,87,76,79],[69,88,76,80],[70,10,77,10],[70,14,77,14],[70,15,77,15,"onRewardCallback"],[70,31,77,31],[70,34,77,34,"rewardEvent"],[70,45,77,45],[70,46,77,46],[71,10,78,10,"console"],[71,17,78,17],[71,18,78,18,"log"],[71,21,78,21],[71,22,78,22],[71,40,78,40],[71,42,78,42,"response"],[71,50,78,50],[71,51,78,51,"data"],[71,55,78,55],[71,56,78,56],[72,8,79,8],[72,9,79,9],[72,10,79,10],[72,17,79,17,"error"],[72,22,79,22],[72,24,79,24],[73,10,80,10,"console"],[73,17,80,17],[73,18,80,18,"error"],[73,23,80,23],[73,24,80,24],[73,50,80,50],[73,52,80,52,"error"],[73,57,80,57],[73,58,80,58],[74,8,81,8],[75,6,82,6],[75,7,83,4],[75,8,83,5],[76,6,85,4],[76,10,85,8],[76,11,85,9,"rewardedAd"],[76,21,85,19],[76,22,85,20,"addAdEventListener"],[76,40,85,38],[76,41,86,6,"RewardedAdEventType"],[76,60,86,25],[76,61,86,26,"CLOSED"],[76,67,86,32],[76,69,87,6],[76,75,87,12],[77,8,88,8,"console"],[77,15,88,15],[77,16,88,16,"log"],[77,19,88,19],[77,20,88,20],[77,40,88,40],[77,41,88,41],[78,8,89,8],[78,12,89,12],[78,13,89,13,"rewardedAd"],[78,23,89,23],[78,26,89,26],[78,30,89,30],[79,8,90,8],[79,12,90,12],[79,13,90,13,"loadRewardedAd"],[79,27,90,27],[79,28,90,28],[79,32,90,32],[79,33,90,33,"currentUserId"],[79,46,90,46],[79,47,90,47],[80,6,91,6],[80,7,92,4],[80,8,92,5],[81,4,93,2],[82,4,95,2],[82,10,95,8,"showRewardedAd"],[82,24,95,22,"showRewardedAd"],[82,25,95,22],[82,27,95,40],[83,6,96,4],[83,10,96,8],[83,11,96,9],[83,15,96,13],[83,16,96,14,"rewardedAd"],[83,26,96,24],[83,28,96,26,"loaded"],[83,34,96,32],[83,36,96,34],[84,8,97,6,"console"],[84,15,97,13],[84,16,97,14,"warn"],[84,20,97,18],[84,21,97,19],[84,45,97,43],[84,46,97,44],[85,8,98,6],[86,6,99,4],[87,6,101,4],[87,10,101,8],[88,8,102,6],[88,14,102,12],[88,18,102,16],[88,19,102,17,"rewardedAd"],[88,29,102,27],[88,30,102,28,"show"],[88,34,102,32],[88,35,102,33],[88,36,102,34],[89,6,103,4],[89,7,103,5],[89,8,103,6],[89,15,103,13,"error"],[89,20,103,18],[89,22,103,20],[90,8,104,6,"console"],[90,15,104,13],[90,16,104,14,"error"],[90,21,104,19],[90,22,104,20],[90,51,104,49],[90,53,104,51,"error"],[90,58,104,56],[90,59,104,57],[91,6,105,4],[92,4,106,2],[93,4,108,2,"isRewardedAdReady"],[93,21,108,19,"isRewardedAdReady"],[93,22,108,19],[93,24,108,31],[94,6,109,4],[94,13,109,11],[94,14,109,12],[94,15,109,13],[94,19,109,17],[94,20,109,18,"rewardedAd"],[94,30,109,28],[94,32,109,30,"loaded"],[94,38,109,36],[95,4,110,2],[96,4,112,2,"setRewardCallback"],[96,21,112,19,"setRewardCallback"],[96,22,112,20,"callback"],[96,30,112,59],[96,32,112,67],[97,6,113,4],[97,10,113,8],[97,11,113,9,"onRewardCallback"],[97,27,113,25],[97,30,113,28,"callback"],[97,38,113,36],[98,4,114,2],[99,4,116,10,"generateTransactionId"],[99,25,116,31,"generateTransactionId"],[99,26,116,31],[99,28,116,42],[100,6,117,4],[100,13,117,11],[100,16,117,14,"Date"],[100,20,117,18],[100,21,117,19,"now"],[100,24,117,22],[100,25,117,23],[100,26,117,24],[100,30,117,28,"Math"],[100,34,117,32],[100,35,117,33,"random"],[100,41,117,39],[100,42,117,40],[100,43,117,41],[100,44,117,42,"toString"],[100,52,117,50],[100,53,117,51],[100,55,117,53],[100,56,117,54],[100,57,117,55,"substr"],[100,63,117,61],[100,64,117,62],[100,65,117,63],[100,67,117,65],[100,68,117,66],[100,69,117,67],[100,71,117,69],[101,4,118,2],[102,2,119,0],[103,2,121,7],[103,8,121,13,"rewardedAdManager"],[103,25,121,30],[103,28,121,33],[103,32,121,37,"RewardedAdManager"],[103,49,121,54],[103,50,121,55],[103,51,121,56],[104,0,121,57],[104,3]],"functionMap":{"names":["<global>","RewardedAdManager","loadRewardedAd","setupRewardedListeners","rewardedAd.addAdEventListener$argument_1","showRewardedAd","isRewardedAdReady","setRewardCallback","generateTransactionId"],"mappings":"AAA;ACoB;ECM;GDsB;EEE;MCK;ODG;MCK;ODkB;MCK;ODI;GFE;EIE;GJW;EKE;GLE;EME;GNE;EOE;GPE;CDC"},"hasCjsExports":false},"type":"js/module"}]}